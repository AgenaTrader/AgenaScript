{
    "docs": [
        {
            "location": "/", 
            "text": "Welcome to the official AgenaScript documentation!\n\n\nWant to learn more about the AgenaTrader scripting language? We've got the resources to help you get started. Start by browsing the documentation on the list below.\n\n\nIntroductory Words\n\n\nAgenaScript is AgenaTrader\u2019s integrated programming language. The syntax is derived from C# and thus closely resembles it.\n\n\nAgenaScript allows you to execute any ideas/methods that are too complex for the ConditionEscort. From simple indicators to entire applications where AgenaTrader is only required to run in the background, anything that can be written in .NET can be implemented.\n\n\nInformation contained in this help document:\n\n\nHandling bars and instruments\n\n\nYou will find a detailed explanation of how AgenaScript reacts and interacts with individual bars or candles as well as various trading instruments.\n\n\nEvents\n\n\nAgenaScript is event-based and -driven. When (for example) a candle closes or a new candle opens, then an event has occurred. When a new price value is delivered by your data provider or a new order is executed by your broker, then these too are considered events. AgenaScript allows you to react to these events. You can read about the exact methodology in this and the following chapters.\n\n\nStrategy programming\n\n\nAgenaScript allows you to create your own trading strategies and execute them live within the market. Information pertaining to prerequisites and how orders are sent to the broker and managed internally can be found here.\n\n\nKeywords\n\n\nLike every other programming language, AgenaTrader has a set of commands that can be converted and used via Scripts. You should be relatively well versed in these if you wish to create your own indicators or trading systems.\n\n\nDrawing objects\n\n\nAll drawing objects that can be used within the chart can also be accessed using AgenaScript. In this way, you can turn on/off certain lines, arrows, rectangles and other objects with specified conditions.\n\n\nHints and advice\n\n\nThis section provides solutions to problems of an unusual nature. To solve such problems, you need to be able to trace and understand source code and programming. More advanced programmers and users may find solutions and suggestions that could help them in their own programming.", 
            "title": "Lets start"
        }, 
        {
            "location": "/#welcome-to-the-official-agenascript-documentation", 
            "text": "Want to learn more about the AgenaTrader scripting language? We've got the resources to help you get started. Start by browsing the documentation on the list below.", 
            "title": "Welcome to the official AgenaScript documentation!"
        }, 
        {
            "location": "/#introductory-words", 
            "text": "AgenaScript is AgenaTrader\u2019s integrated programming language. The syntax is derived from C# and thus closely resembles it.  AgenaScript allows you to execute any ideas/methods that are too complex for the ConditionEscort. From simple indicators to entire applications where AgenaTrader is only required to run in the background, anything that can be written in .NET can be implemented.  Information contained in this help document:  Handling bars and instruments  You will find a detailed explanation of how AgenaScript reacts and interacts with individual bars or candles as well as various trading instruments.  Events  AgenaScript is event-based and -driven. When (for example) a candle closes or a new candle opens, then an event has occurred. When a new price value is delivered by your data provider or a new order is executed by your broker, then these too are considered events. AgenaScript allows you to react to these events. You can read about the exact methodology in this and the following chapters.  Strategy programming  AgenaScript allows you to create your own trading strategies and execute them live within the market. Information pertaining to prerequisites and how orders are sent to the broker and managed internally can be found here.  Keywords  Like every other programming language, AgenaTrader has a set of commands that can be converted and used via Scripts. You should be relatively well versed in these if you wish to create your own indicators or trading systems.  Drawing objects  All drawing objects that can be used within the chart can also be accessed using AgenaScript. In this way, you can turn on/off certain lines, arrows, rectangles and other objects with specified conditions.  Hints and advice  This section provides solutions to problems of an unusual nature. To solve such problems, you need to be able to trace and understand source code and programming. More advanced programmers and users may find solutions and suggestions that could help them in their own programming.", 
            "title": "Introductory Words"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/", 
            "text": "Handling bars and instruments\n\n\nData is understood as information that is retrieved externally and uploaded to AgenaTrader, or as data series that are created by AgenaScripts.\n\n\nFurther detailed information can be found using the appropriate shortcuts:\n\n\nBars (Candles)\n\n\nData series\n\n\nInstruments\n\n\nBars (Candles)\n\n\nFunctionality\n\n\nA classical indicator calculates one or multiple values using an existing data series.\n\n\nData series can be anything from closing prices to daily lows or values of an hourly period etc.\n\n\nEvery period (meaning all candles of one day, one hour etc.) is assigned one or more indicator values.\nThe following example is based on an indicator value, such as with a moving average, for example.\nTo calculate a smoothed moving average, AgenaTrader needs a data series. In this example we will use the closing prices. All closing prices of a bar (candle) that are represented in the chart will be saved in a list and indexed.\n\n\nThe current closing price, meaning the closing price of the bar that is on the right-hand side of the chart, will be assigned an index of 0. The bar to the left of that will have an index of 1 and so on. The oldest bar displayed will have an index value of 500.\n\n\nWhenever a new bar is added within a session it will become the new index 0; the bar to the left of it, which previously had an index of 0, will become index 1 and so on. The oldest bar will become index 501.\nWithin a script (a self-created program/algorithm) the [\nClose\n] will be representative for the array (list) of all closing prices.\nThe last closing price is thus \nClose [0]\n; the closing price previous to this will become \nClose [1]\n, the value before that will become \nClose [2]\n and the oldest bar will be \nClose [501]\n. The number within the squared brackets represents the index. AgenaTrader allows you to use the \u201ebars ago\u201c expression for this in general cases.\n\n\nObviously, every bar will not only have a closing value but also a \nHigh\n, \nLow\n, \nOpen\n, \nMedian\n, \nTypical\n, \nWeighted\n, \nTime\n and \nVolume\n. Thus, the high of the candle that occurred 10 days ago will be \nHigh [10]\n, yesterday\u2019s low \nLow [1]\n...\n\n\nImportant tip:\n\n\nThe previous examples all assume that the calculations will occur at the end of a period. The value of the currently running index is not being taken into consideration.\n\n\nIf you wish to use the values of the currently forming candle then you will need to set the value of\n\n\n[\nCalculateOnBarClose\n] to \u201efalse\u201c.\n\n\nIn this case the currently running bar will have the value 0, the bar next to the current bar will have the value 1 and so on. The oldest bar (as in the example above) would now have the value 502.\n\n\nWith close [0] you would receive the most recent value of the last price that your data provider transmitted to AgenaTrader. All values of the bar (high [0], low [0]\u2026) may still change as long as the bar is not yet finished/closed and a new bar has not yet started. Only the open [0] value will not change.\n\n\nProperties of Bars\n\n\nProperties of Bars\n\n\n\"Bars\" represents a list of all bars (candles) within a chart (see [\nFunctionality\n][\nBars\n]).\n\n\nBars (\npublic\n IBars Bars) can be used directly in a script and equates to BarsArray [0] (see Bars.GetNextBeginEnd for more information).\n\n\nThe list of bars itself has many properties that can be used in AgenaScript. Properties are always indicated by a dot before the objects (in this case bars, list of candles).\n\n\nBarsSinceSession\n\n\nBars.Count\n\n\nBars.FirstBarOfSession\n\n\nBars.GetBar\n\n\nBars.GetBarsAgo\n\n\nBars.GetByIndex\n\n\nBars.GetIndex\n\n\nBars.GetNextBeginEnd\n\n\nBars.GetOpen\n \nGetHigh\nGetLow\nGetClose\nGetTime \nGetVolume\n\n\nBars.Instrument\n\n\nBars.IsIntraDay\n\n\nBars.PercentComplete\n\n\nBars.SessionBegin\n\n\nBars.SessionEnd\n\n\nBars.SessionNextBegin\n\n\nBars.SessionNextEnd\n\n\nBars.TickCount\n\n\nBars.TimeFrame\n\n\nBars.TotalTicks\n\n\nWith the \nOnBarUpdate()\n method you can use any properties you want without having to test for a null reference.\nAs soon as the function \nOnBarUpdate()\n is called up by AgenaScript, it is assumed that an object is also available. If you wish to use these properties outside of \nOnBarUpdate()\n then you should first perform a test for null references using \nif\n (Bars != \nnull\n).\n\n\nBarsSinceSession\n\n\nDescription\n\n\nBars.BarsSinceSession outputs the amount of bars that have occurred since the beginning of the current trading session.\n\n\nSee further [\nProperties\n] of bars.\n\n\nReturn Value\n\n\nType int Amount of Bars\n\n\nA value of -1 indicates a problem with referencing the correct session beginning.\n\n\nUsage\n\n\nBars.BarsSinceSession\n\n\nFurther Information\n\n\nWithin \nOnBarUpdate()\n this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.\n\n\nIf this property is used outside of OnBarUpdate() then you should test for a null reference before executing it. You can test using \nif\n (Bars!= \nnull\n) .\n\n\nExample\n\n\nPrint\n (\"Since the start of the last trading session there have been\u201d + Bars.BarsSinceSession + \u201cbars.\");\n\n\nBars.Count\n\n\nDescription\n\n\nBars.Count gives you the amount of bars in a data series.\n\n\nSee [\nProperties\n] for additional information.\n\n\nReturn Value\n\n\nType int Amount of Bars\n\n\nUsage\n\n\nBars.Count\n\n\nMore Information\n\n\nThe value of \nCurrentBar\n can only be lesser than or equal to Bars.Count - 1\n\n\nWhen you specify how many bars are to be loaded within AgenaTrader, then the value of Bars.Count is equal to this setting. In the following example, Bars.Count would give back a value of 500.\n\n\n\n\nExample\n\n\nPrint\n (\"There are a total of\u201d + Bars.Count + \u201cbars available.\");\n\n\nBars.FirstBarOfSession\n\n\nDescription\n\n\nWith Bars.FirstBarOfSession you can determine whether the current bar is the first bar of the trading session.\n\n\nSee [\nProperties\n] of bars for more information.\n\n\nReturn Value\n\n\nType bool\n\n\ntrue\n: The bar is the first bar of the current trading session\n\nfalse\n: The bar is not the first bar of the current trading session\n\n\nUsage\n\n\nBars.FirstBarOfSession\n\n\nMore Information\n\n\nWith \nOnBarUpdate()\n this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up, an object will become available.\nIf this property is called up outside of OnBarUpdate() you should test for a null reference using if (Bars != null).\n\n\nExample\n\n\nif\n (Bars.FirstBarOfSession)\n\n\nPrint\n (\"The current trading session started at\u201d + Time [0]);\n\n\nBars.GetBar\n\n\nDescription\n\n\nBars.GetBar outputs the first bars (from oldest to newest) that correspond to the specified date/time.\n\n\nSee [\nBars.GetBarsAgo\n], [\nBars.GetByIndex\n], [\nBars.GetIndex\n].\n\n\nParameter\n\n\nType DateTime\n\n\nReturn Value\n\n\nType IBar Bar Object, for the bars corresponding to the timestamp\n\n\nFor a timestamp older than the oldest bar: 0 (null)\nFor a timestamp younger than the newest bar: index of the last bar\n\n\nUsage\n\n\nBars.\nGetBar\n(DateTime time)\n\n\nMore Information\n\n\nFor the indexing of bars please see [\nFunctionality\n][\nBars\n]\n\n\nFor more information about using DateTime see [\nhttp://msdn.microsoft.com/de-de/library/system.datetime.aspx\n]\n\n\nExample\n\n\nPrint\n (\"The closing price for 01.03.2012 at 18:00:00 was \" + Bars.\nGetBar\n(\nnew DateTime\n(2012, 01, 03, 18, 0, 0)).Close);\n\n\nBars.GetBarsAgo\n\n\nDescription\n\n\nBars.GetBarsAgo outputs the index of the first bars (from oldest to newest) that correspond to the specified date/time.\n\n\nSee: [\nBars.GetBar\n], [\nBars.GetByIndex\n], [\nBars.GetIndex\n].\n\n\nParameter\n\n\nType DateTime\n\n\nReturn Value\n\n\nType int Index of the bar that corresponds to the timestamp\n\n\nWith a timestamp older than the oldest bar: 0 (null)\nWith a timestamp newer than the youngest bar: index of the last bar\n\n\nUsage\n\n\nBars.\nGetBarsAgo\n(DateTime time)\n\n\nMore Information\n\n\nFor more information about indexing please see [\nFunctionality\n][\nBars\n]\n\n\nFor more information about using DateTime see [\nhttp://msdn.microsoft.com/de-de/library/system.datetime.aspx\n]\n\n\nExample\n\n\nPrint\n(\"The bar for 01.03.2012 at 18:00:00 O\u2019clock has an index of \" + Bars.\nGetBarsAgo\n(\nnew DateTime\n(2012, 01, 03, 18, 0, 0)));\n\n\nBars.GetClose\n\n\nBars.GetClose(int index) \u2013 see [\nBars.GetOpen\n].\n\n\nBars.GetHigh\n\n\nBars.GetHigh(int index) \u2013 see [\nBars.GetOpen\n].\n\n\nBars.GetByIndex\n\n\nDescription\n\n\nBars.GetByIndex outputs the index for the specified bar object\n\n\nSee \nBars.GetBar\n, \nBars.GetBarsAgo\n, \nBars.GetIndex\n.\n\n\nParameter\n\n\nType int Index\n\n\nReturn Value\n\n\nType IBar Bar object for the specified index\n\n\nUsage\n\n\nBars.\nGetByIndex\n (int Index)\n\n\nMore Information\n\n\nFor indexing of bars see [\nFunctionality\n]\nBars\n\n\nExample\n\n\nPrint\n(Close[0] + \" and \" + Bars.\nGetByIndex\n(CurrentBar).Close + \" are equal in this example.\");\n\n\nBars.GetIndex\n\n\nDescription\n\n\nBars.GetIndex outputs the index of a bar \u2013 you can input either a bar object or a date-time object using this method.\n\n\nSee \nBars.GetBar\n, \nBars.GetBarsAgo\n, \nBars.GetByIndex\n.\n\n\nParameter\n\n\nType IBar bar\nor\nType DateTime\n\n\nReturn Value\n\n\nType int The bar index of the specified bar object or DateTime object\n\n\nUsage\n\n\nBars.\nGetIndex\n (IBar bar)\n\n\nBars.\nGetIndex\n (DateTime dt)\n\n\nMore Information\n\n\nFor more information about indexing see [\nFunctionality\n][\nBars\n]\n\n\nExample\n\n\nint\n barsAgo = 5;\n\n\nIBar bar = Bars.\nGetBar\n(Time[barsAgo]);\n\n\nPrint\n(barsAgo + \" and \" + Bars.\nGetIndex\n(bar) + \" are equal in this example.\");\n\n\nBars.GetLow\n\n\nBars.GetLow(int index) \u2013 see [\nBars.GetOpen\n].\n\n\nBars.GetNextBeginEnd\n\n\nDescription\n\n\nBars.GetNextBeginEnd outputs the date and time for the beginning and end of a trading session.\n\n\nSee \nBars.SessionBegin\n, \nBars.SessionEnd\n, \nBars.SessionNextBegin\n, \nBars.SessionNextEnd\n.\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDateTime\n\n\ntime\n\n\nDate or time for which the data of the following trading session will be scanned/searched.\n\n\n\n\n\n\niBars\n\n\nbars\n\n\nBar object for which the data will be scanned/searched.\n\n\n\n\n\n\nint\n\n\nbarsago\n\n\nNumber of days in the past for which the data will be searched/scanned.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nDateTime session begin\nDateTime session end\n\n\nNote:\n\nThe date for the beginning and the end of a trading session are connected components. If the specified date corresponds to the end date of the current trading session then the returned value for the beginning of a trading session may already be in the past. In this case the date for the following trading session cannot be returned.\n\n\nUsage\n\n\nBars.\nGetNextBeginEnd\n(Bars bars, \nint\n barsAgo, \nout\n DateTime sessionBegin, \nout\n DateTime sessionEnd)\n\n\nBars.\nGetNextBeginEnd\n(DateTime time, \nout\n DateTime sessionBegin, \nout\n DateTime sessionEnd)\n\n\nMore Information\n\n\nThe two signatures will not necessarily output the same result.\nWhen using the bar signature, the supplied bar will be inspected for its session template association. The beginning and end of the next session will be taken from this template.\n\n\nWhen using the time signature, the date and time of the supplied bar will be used to calculate the data for the current and the following sessions.\n\n\nWhen using the time signature, a timestamp is transmitted that corresponds exactly to the beginning or the end time of a session.\n\n\nMore information can be found here [\nhttp://msdn.microsoft.com/de-de/library/system.datetime.aspx\n]\n\n\nExample\n\n\nDateTime sessionBegin;\n\n\nDateTime sessionEnd;\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\nBars.\nGetNextBeginEnd\n(Bars, 0, \nout\n sessionBegin, \nout\n sessionEnd);\n\n\nPrint\n(\"Session Start: \" + sessionBegin + \" Session End: \" + sessionEnd);\n\n\n}\n\n\nBars.GetSessionDate\n\n\nDescription\n\n\nBars.GetSessionDate provides the date and the time of the start of a particular trading session.\n\n\nThe date and time for the start of the current trading session are also displayed correctly even if the function is used on a bar in the past.\n\n\nBars.GetOpen\n\n\nDescription\n\n\nFor reasons of compatibility, the following methods are available.\n\n\n\n\n\n\nBars.GetOpen(int index) outputs the open for the bars referenced with \nindex\n.\n\n\n\n\n\n\nBars.GetHigh(int index) outputs the high for the bars referenced with \nindex\n.\n\n\n\n\n\n\nBars.GetLow(int index) outputs the low for the bars referenced with \nindex\n.\n\n\n\n\n\n\nBars.GetClose(int index) outputs the close for the bars referenced with \nindex\n.\n\n\n\n\n\n\nBars.GetTime(int index) outputs the timestamp for the bars referenced with \nindex\n.\n\n\n\n\n\n\nBars.GetVolume(int index) outputs the volume for the bars referenced with \nindex\n.\n\n\n\n\n\n\nCaution\n: The indexing will deviate from the [\nIndexing\n][\nBars\n] normally used.\nHere, the indexing will begin with 0 for the oldest bar (on the left of the chart) and end with the newest bar on the right of the chart (=Bars.Count-1).\n\n\nThe indexing can easily be recalculated:\n\n\nprivate int Convert(int idx)\n\n\n{\n\n\nreturn Math.Max(0,Bars.Count-idx-1-(CalculateOnBarClose?1:0));\n\n\n}\n\n\nParameter\n\n\nint index (0 .. Bars.Count-1)\n\n\nReturn Value\n\n\nType double for GetOpen, GetHigh, GetLow, GetClose and GetVolume\n\n\nType DateTime for GetTime\n\n\nBars.GetTime\n\n\nBars.GetTime(int index) \u2013 see [\nBars.GetOpen\n].\n\n\nBars.GetVolume\n\n\nBars.GetVolume(int index) \u2013 see [\nBars.GetOpen\n].\n\n\nBars.Instrument\n\n\nDescription\n\n\nBars.Instrument outputs an instrument object for the trading instrument displayed within the chart.\n\n\nSee [\nProperties\n] for more information.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType Instrument\n\n\nUsage\n\n\nBars.Instrument\n\n\nMore Information\n\n\nFor more information regarding the trading instruments please see [\nInstrument\n].\n\n\nExample\n\n\n// both outputs will provide the same result\n\n\nPrint\n(\"The currently displayed trading instrument has the symbol: \" + Bars.Instrument);\n\n\nInstrument i = Bars.Instrument;\n\n\nPrint\n(\"The currently displayed trading instrument has the symbol \" + i.Symbol);\n\n\nBars.IsIntraDay\n\n\nThis function is not yet implemented.\n\n\nWe are working on this \u2013 please bear with us. Thank you for your patience.\n\n\n\n\nTODO\n\n\nBars.PercentComplete\n\n\nDescription\n\n\nBars.PercentComplete outputs the value that displays what percentage a bar has already completed. A bar with a period of 10 minutes has completed 50% after 5 minutes.\n\n\nFor non-time-based charts (Kagi, LineBreak, Renko, Range, P\nF etc.) this will output 0 during backtesting.\n\n\nReturn Value\n\n\ndouble\n\n\nA percentage value; 30% will be outputted as 0.3\n\n\nUsage\n\n\nBars.PercentComplete\n\n\nMore Information\n\n\nWith [\nOnBarUpdate()\n] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.\n\n\nIf this property is used outside of OnBarUpdate() you should test for a null reference before executing it. You can test using \nif\n (Bars != \nnull\n)\n\n\nExample\n\n\n// A 60 minute chart is looked at from an intraday perspective\n\n\n// every 5 minutes before the current bar closes\n\n\n// an acoustic signal shall be played\n\n\n// 55 min. equals 92%\n\n\nBool\n remind = \nfalse\n;\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\nif\n (FirstTickOfBar) remind = \ntrue\n;\n\n\nif\n (remind \n Bars.PercentComplete \n= 0.92)\n\n\n{\n\n\nremind = \nfalse\n;\n\n\nPlaySound\n(\"Alert1\");\n\n\n}\n\n\n}\n\n\nBars.SessionBegin\n\n\nDescription\n\n\nBars.SessionBegin outputs the date and time for the beginning of the current trading session.\n\n\nDate and time for the beginning of the current trading session will be displayed correctly when the function is used on a bar that has occurred in the past.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType DateTime\n\n\nUsage\n\n\nBars.GetSessionBegin\n\n\nMore Information\n\n\nThe time for the returned value will equal the starting time defined in the Market Escort for the specified exchange. The value itself is set within the Instrument Escort and can be called up in AgenaScript using the function [\nInstrument.Exchange\n] .\n\n\n\n\nExample\n\n\nPrint\n(\"The currently running trading session started at \" + Bars.SessionBegin );\n\n\nBars.SessionEnd\n\n\nDescription\n\n\nBars.SessionEnd outputs the time for the end of the currently running trading session.\nDate and time for the end of the current trading session will, in this case, also be outputted correctly when the function is used on a previous bar.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType DateTime\n\n\nUsage\n\n\nBars.GetSessionEnd\n\n\nMore Information\n\n\nThe time for the returned value will correlate with the end time of the trading session defined in the Market Escort for the exchange. The value itself can be set within the Instrument Escort and can be called up with AgenaScript using the [\nInstrument.Exchange\n] function.\n\n\n\n\nExample\n\n\nPrint\n(\"The current trading session will end at \" + Bars.SessionEnd);\n\n\nBars.SessionNextBegin\n\n\nDescription\n\n\nBars.SessionNextBegin outputs the date and time for the start of the next trading session.\nDate and time for the next session will be correctly outputted when the function is used on a bar in the past.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType DateTime\n\n\nUsage\n\n\nBars.GetSessionNextBegin\n\n\nMore Information\n\n\nThe time for the returned value will correlate to the value displayed in the MarketEscort. The value can be set within the Instrument Escort and can be called up using the [\nInstrument.Exchange\n] function.\n\n\n\n\nExample\n\n\nPrint\n(\"The next trading session starts at \" + Bars.SessionNextBegin);\n\n\nBars.SessionNextEnd\n\n\nDescription\n\n\nBars.SessionNextEnd outputs the date and time for the end of the next session.\nSee [\nProperties\n] for more information.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType DateTime\n\n\nUsage\n\n\nBars.GetSessionNextEnd\n\n\nMore Information\n\n\nThe time for the returned value will correlate with the value specified within the MarketEscort. The value itself can be set within the Instrument Escort and can be called up with AgenaScript using the [\nInstrument.Exchange\n] function.\n\n\n\n\nExample\n\n\nPrint\n(\"The next trading session ends at \" + Bars.SessionNextEnd);\n\n\nBars.TickCount\n\n\nDescription\n\n\nBars.TickCount outputs the total numbers of ticks contained within a bar.\n\n\nMore information can be found in [\nProperties\n] of bars.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType int\n\n\nUsage\n\n\nBars.TickCount\n\n\nMore Information\n\n\nWith [\nOnBarUpdate()\n] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.\n\n\nIf this property is used outside of OnBarUpdate(), you should test for a null reference before executing it. You can test using \nif\n (Bars != \nnull\n)\n\n\nExample\n\n\nPrint\n(\"The current bar consists of \" + Bars.TickCount + \" Ticks.\");\n\n\nBars.TimeFrame\n\n\nDescription\n\n\nBars.TimeFrame outputs the timeframe object containing information regarding the currently used timeframe.\n\n\nMore information can be found here: [\nProperties\n]\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType ITimeFrame\n\n\nUsage\n\n\nBars.TimeFrame\n\n\nMore Information\n\n\nFor more information about timeframe objects please see [\nTimeFrame\n].\n\n\nWith [\nOnBarUpdate()\n] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.\n\n\nIf this property is used outside of OnBarUpdate(),you should test for a null reference before executing it. You can test using \nif\n (Bars != \nnull\n)\n\n\nExample\n\n\n//Usage within a 30 minute chart\n\n\nTimeFrame tf = (TimeFrame) Bars.TimeFrame;\n\n\nPrint\n(Bars.TimeFrame); // outputs \"30 Min\"\n\n\nPrint\n(tf.Periodicity); // outputs \"Minute\"\n\n\nPrint\n(tf.PeriodicityValue); // outputs \"30\"\n\n\nBars.TotalTicks\n\n\nDescription\n\n\nBars.TotalTicks outputs the total number of ticks from the moment the function is called up.\n\n\nMore information can be found here: [\nProperties\n].\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType int\n\n\nUsage\n\n\nBars.TotalTicks\n\n\nMore Information\n\n\nThe data type int has a positive value range of 2147483647. When you assume 10 ticks per second, there will be no overlaps within 2 trading months with a daily runtime of 24 hours.\n\n\nWith [\nOnBarUpdate()\n] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.\n\n\nIf this property is used outside of OnBarUpdate(), you should test for a null reference before executing it. You can test using \nif\n (Bars != \nnull\n)\n\n\nExample\n\n\nPrint\n(\"The total amount of ticks is \" + Bars.TotalTicks);\n\n\nData Series\n\n\nDescription\n\n\nData series are interpreted as freely usable data storage containers for your programs. Additionally, they an integrated component of AgenaTrader that saves the price changes for individual bars. We will be focusing on the latter function here.\nIn the following section, the concept of data series will be explained in detail and understandably. All price data for the individual bars are organized and saved within data series.\nThe following are available:\n\n\nOpen\n \nOpens\n\n\nHigh\n \nHighs\n\n\nLow\n \nLows\n\n\nClose\n \nCloses\n\n\nMedian\n \nMedians\n\n\nTypical\n \nTypicals\n\n\nWeighted\n \nWeighteds\n\n\nTime\n \nTimes\n\n\nTimeFrame\n \nTimeFrames\n\n\nVolume\n \nVolumes\n\n\nOpen\n\n\nDescription\n\n\nOpen is a [\nDataSeries\n][\nData series\n] of the type [\nDataSeries\n], in which the historical opening prices are saved.\n\n\nParameter\n\n\nBarsAgo Index Value (see [\nBars\n])\n\n\nUsage\n\n\nOpen\n\n\nOpen[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property of [\nCalculateOnBarClose\n].\n\n\nExample\n\n\n// Opening price for the current period\n\n\nPrint\n(Time[0] + \" \" + Open[0]);\n\n\n// Opening price for the bars of 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Open[5]);\n\n\n// Current value for the SMA 14 that is based on the opening prices (rounded)\n\n\nPrint\n(\"SMA(14) calculated using the opening prices: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Open, 14)[0]));\n\n\nOpens\n\n\nDescription\n\n\nOpens is an array of data series that contains all open data series.\n\n\nThis array is only useful or meaningful for indicators or strategies that use multiple data from multiple timeframes.\nA new entry is entered into the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nOpens[0] The open data series of the chart timeframe\nOpens[1] The open data series of all bars in a daily timeframe\nOpens[2] The open data series of all bars in a weekly timeframe\n\n\nOpens[0][0] is equivalent to Open[0].\n\n\nIn addition, please see [\nMultiBars\n] for more information.\n\n\nParameter\n\n\nbarsAgo Index value for the individual bars within the data series (see [\nBars\n])\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nOpens[\nint\n barSeriesIndex]\n\n\nOpens[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property of [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example: [\nMultibars\n][\nMultiBars\n].\n\n\nHigh\n\n\nDescription\n\n\nHigh is a \n[DataSerie][\nData series\n]s\n of the type [\nDataSeries\n], in which the historical high prices are saved.\n\n\nParameter\n\n\nbarsAgo IndexValue (see [\nBars\n])\n\n\nUsage\n\n\nHigh\n\n\nHigh[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property of [\nCalculateOnBarClose\n].\n\n\nExample\n\n\n// High values of the current period\n\n\nPrint\n(Time[0] + \" \" + High[0]);\n\n\n// High values of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + High[5]);\n\n\n// the current value for the SMA 14 calculated on the basis of the high prices\n\n\nPrint\n(\"SMA(14) Calculated using the high prices: \" + Instrument.\nRound2TickSize\n(\nSMA\n(High, 14)[0]));\n\n\nHighs\n\n\nDescription\n\n\nHighs is an array of [\nDataSeries\n][1] that contains all high data series.\n\n\nThis array is only of value for indicators or strategies that use data from multiple timeframes.\n\n\nA new entry is added to the array whenever a new time unit is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nHighs[0] the high data series of the chart timeframe\nHighs[1] the high data series of all bars in a daily timeframe\nHighs[2] the high data series of all bars in a weekly timeframe\n\n\nHighs[0][0] is equivalent to High[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value for the individual bars within the data series (see [\nBars\n])\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nHighs[\nint\n barSeriesIndex]\n\n\nHighs[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property of [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nPlease see examples under [\nMultibars\n][\nMultiBars\n].\n\n\nLow\n\n\nDescription\n\n\nLow is a [\nDataSeries\n][\nData series\n] of the type [\nDataSeries\n], in which the historical low prices are saved.\n\n\nParameter\n\n\nbarsAgo IndexValue (see [\nBars\n])\n\n\nUsage\n\n\nLow\n\n\nLow[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property of [\nCalculateOnBarClose\n].\n\n\nExample\n\n\n// Lowest value of the current period\n\n\nPrint\n(Time[0] + \" \" + Low[0]);\n\n\n// Lowest value of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Low[5]);\n\n\n// The current value for the SMA 14 calculated on the basis of the low prices (smoothed)\n\n\nPrint\n(\"SMA(14) calculated using the high prices: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Low, 14)[0]));\n\n\nLows\n\n\nDescription\n\n\nLows is an array of [\nDataSeries\n][1] that contains all [\nLow\n] data series.\n\n\nThis array is only of value to indicators or strategies that use data from multiple time units.\n\n\nA new entry is added whenever a new time unit is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nLows[0] the low data series for the chart timeframe\nLows[1] the low data series for all bars in a daily timeframe\nLows[2] the low data series for all bars in a weekly timeframe\n\n\nLows[0][0] is equivalent to Low[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value for the individual bars within the data series\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nLows[\nint\n barSeriesIndex]\n\n\nLows[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example [\nMultibars\n][\nMultiBars\n].\n\n\nClose\n\n\nDescription\n\n\nClose is a [\nDataSeries\n][\nData series\n] of the type [\nDataSeries\n], in which the historical closing prices are saved.\n\n\nParameter\n\n\nbarsAgo Index value (see [\nBars\n])\n\n\nUsage\n\n\nClose\n\n\nClose[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nIndicators are usually calculated using the closing prices.\n\n\nExample\n\n\n// Closing price of the current period\n\n\nPrint\n(Time[0] + \" \" + Close[0]);\n\n\n// Closing price of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Close[5]);\n\n\n// Current value for the SMA 14 based on the closing prices\n\n\nPrint\n(\"SMA(14) calculated using the closing prices: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Close, 14)[0]));\n\n\n// Close does not need to be mentioned since it is used by default\n\n\nPrint\n(\"SMA(14) calculated using the closing prices: \" + Instrument.\nRound2TickSize\n(\nSMA\n(14)[0]));\n\n\nCloses\n\n\nDescription\n\n\nCloses is an array of [\nDataSeries\n][1] that contains all [\nLow\n] data series.\n\n\nThis array is only of importance to indicators or strategies that use data from multiple time units.\n\n\nA new entry is added to the array whenever a timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nCloses[0] the close data series of the chart timeframe\nCloses[1] the close data series of all bars in a daily timeframe\nCloses[2] the close data series of all bars in a weekly timeframe\n\n\nCloses[0][0] is equivalent to Close[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value of the individual bars within the data series\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nCloses[\nint\n barSeriesIndex]\n\n\nCloses[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example [\nMultibars\n][\nMultiBars\n].\n\n\nMedian\n\n\nDescription\n\n\nMedian is a [\nDataSeries\n][\nData series\n] of the type [\nDataSeries\n], in which the historical median values are saved.\n\n\nThe median price of a bar is calculated using (high + low) / 2\n\n\nSee [\nTypical\n] \n [\nWeighted\n].\n\n\nParameter\n\n\nbarsAgo Index value (see [\nBars\n])\n\n\nUsage\n\n\nMedian\n\n\nMedian[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nFurther information about median, typical und weighted:\n[\nhttp://blog.nobletrading.com/2009/12/median-price-typical-price-weighted.html\n]\n\n\nExample\n\n\n// Median price for the current period\n\n\nPrint\n(Time[0] + \" \" + Median[0]);\n\n\n// Median price of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Median[5]);\n\n\n// Current value for the SMA 14 calculated using the median prices\n\n\nPrint\n(\"SMA(14) calculated using the median prices: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Median, 14)[0]));\n\n\nMedians\n\n\nDescription\n\n\nMedians is an array of [\nDataSeries\n][1] that contains all [\nMedian\n] data series.\n\n\nThis array is only of value to indicators or strategies that use data from multiple timeframes.\n\n\nA new entry is added to the array whenever a new time frame is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nMedians[0] the median data series of the chart timeframe\nMedians[1] the median data series of all bars in a daily timeframe\nMedians[2] the median data series of all bars in a weekly timeframe\n\n\nMedians[0][0] is equivalent to Medians[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value for the individual bars within a data series\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nMedians[\nint\n barSeriesIndex]\n\n\nMedians[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nFurther information on median: http://www.investopedia.com/terms/m/median.asp\n\n\nExample\n\n\nSee example in [\nMultibars\n][\nMultiBars\n].\n\n\nTypical\n\n\nDescription\n\n\nTypical is a \nDataSeries\n of the type [\nDataSeries\n], in which the historical typical values are saved.\n\n\nThe typical price of a bar is calculated using (high + low + close) / 3.\n\n\nSee [\nMedian\n] and [\nWeighted\n].\n\n\nParameter\n\n\nbarsAgo Index value (see [\nBars\n])\n\n\nUsage\n\n\nTypical\n\n\nTypical[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nFurther information on typical: \nhttps://technicianapp.com/resources/typical-price/\n\n\nExample\n\n\n// Typical price for the current period\n\n\nPrint\n(Time[0] + \" \" + Typical[0]);\n\n\n// Typical price of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Typical[5]);\n\n\n// Current value for the SMA 14 calculated using the typical price\n\n\nPrint\n(\"SMA(14) calculated using the typical price: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Typical, 14)[0]));\n\n\nTypicals\n\n\nDescription\n\n\nTypicals is an array of \nDataSeries\n that contains all [\nTypical\n] data series.\n\n\nThis array is only of value to indicators and strategies that make use of multiple timeframes.\n\n\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nTypicals[0] the typical data series of the chart timeframe\nTypicals[1] the typical data series of all bars in a daily timeframe\nTypicals[2] the typical data series of all bars in a weekly timeframe\n\n\nTypicals[0][0] is equivalent to Typicals[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value of the individual bars within a data series\nbarSeriesIndex Index value of the various timeframes\n\n\nUsage\n\n\nTypicals[\nint\n barSeriesIndex]\n\n\nTypicals[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example [\nMultibars\n][\nMultiBars\n].\n\n\nWeighted\n\n\nDescription\n\n\nWeighted is a [\nDataSeries\n][\nData series\n] of the type [\nDataSeries\n], in which the historical weighted values are saved.\n\n\nThe weighted price of a bar is calculated using the formula (high + low + 2*close) / 4 and then weighted on the closing price.\n\n\nSee also [\nMedian\n] and [\nTypical\n].\n\n\nParameter\n\n\nbarsAgo Index value (see [\nBars\n])\n\n\nUsage\n\n\nWeighted\n\n\nWeighted[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nInformation regarding weighted: http://www.stock-trading-infocentre.com/pivot-points.html\n\n\nExample\n\n\n// Weighted price for the current period\n\n\nPrint\n(Time[0] + \" \" + Weighted[0]);\n\n\n// Weighted price of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Weighted[5]);\n\n\n// Current value for the SMA 14 using the weighted price\n\n\nPrint\n(\"SMA(14) calculated using the weighted price: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Weighted, 14)[0]));\n\n\nWeighteds\n\n\nDescription\n\n\nWeighteds is an array of [\nDataSeries\n][1] that contains all [\nWeighted\n] data series.\n\n\nThe array is only of value for indicators and strategies that use data from multiple timeframes.\n\n\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nWeighteds[0] the weighted data series of the chart timeframe\nWeighteds[1] the weighted data series of all bars in a daily timeframe\nWeighteds[2] the weighted data series of all bars in a weekly timeframe\n\n\nWeighteds[0][0] is equivalent to Weighteds[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value of the individual bars within a data series\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nWeighteds[\nint\n barSeriesIndex]\n\n\nWeighteds[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example under [\nMultibars\n][\nMultiBars\n].\n\n\nTime\n\n\nDescription\n\n\nTime is a [\nDataSeries\n][\nData series\n] of the type [\nDateTimeSeries\n], in which the timestamps of the individual bars are saved.\n\n\nParameter\n\n\nbarsAgo Index value (see [\nBars\n])\n\n\nUsage\n\n\nTime\n\n\nTime[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\n// Timestamp of the current period\n\n\nPrint\n(Time[0]);\n\n\n// Timestamp of the bar from 5 periods ago\n\n\nPrint\n(Time[5]);\n\n\nTimes\n\n\nDescription\n\n\nTimes is an array of \nDataSeries\n that contains all [\nTime\n] data series.\n\n\nThis array is only of value to indicators and strategies that make use of multiple timeframes.\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nTimes[0] the time data series of the chart timeframe\nTimes[1] the time data series of all bars in a daily timeframe\nTimes[2] the time data series of all bars in a weekly timeframe\n\n\nTimes[0][0] is equivalent to Times[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value for the individual bars within a data series\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nTimes[\nint\n barSeriesIndex]\n\n\nTimes[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example [\nMultibars\n][\nMultiBars\n].\n\n\nVolume\n\n\nDescription\n\n\nVolume is a [\nDataSeries\n][\nData series\n] of the type [\nDataSeries\n], in which the historical volume information is saved.\n\n\nParameter\n\n\nbarsAgo Index value (see [\nBars\n])\n\n\nUsage\n\n\nVolume\n\n\nVolume[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nThe value returned by the [\nVOL()\n] indicator is identical with the volume described here;\nfor example, Vol()[3] will have the same value as Volume[3].\n\n\nExample\n\n\n// Volume for the current period\n\n\nPrint\n(Time[0] + \" \" + Volume[0]);\n\n\n// Volume of the bar from 5 periods ago\n\n\nPrint\n(Time[5] + \" \" + Volume[5]);\n\n\n// Current value for the SMA 14 calculated using the volume\n\n\nPrint\n(\"SMA(14) calculated using the volume: \" + Instrument.\nRound2TickSize\n(\nSMA\n(Volume, 14)[0]));\n\n\nVolumes\n\n\nDescription\n\n\nVolumes is an array of \nDataSeries\n that contains all [\nVolume\n] data series.\n\n\nThis array is only of value for indicators or strategies that use data from multiple timeframes.\n\n\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nVolumes[0] the volume data series of the chart timeframe\nVolumes[1] the volume data series of all bars in the daily timeframe\nVolumes[2] the volume data series of all bars in the weekly timeframe\n\n\nVolumes[0][0] is equivalent to Volumes[0].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarsAgo Index value of the individual bars within a data series\n\n\nbarSeriesIndex Index value of the various timeframes\n\n\nUsage\n\n\nVolumes[\nint\n barSeriesIndex]\n\n\nVolumes[\nint\n barSeriesIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe returned value is dependent upon the property [\nCalculateOnBarClose\n].\n\n\nExample\n\n\nSee example [\nMultibars\n][\nMultiBars\n].\n\n\nInstruments\n\n\nThe term \"instrument\" denotes a tradable value such as a stock, ETF, future etc.\n\n\nAn instrument has various properties that can be used in AgenaScripts created by the user:\n\n\nInstrument.Compare\n\n\nInstrument.Currency\n\n\nInstrument.Digits\n\n\nInstrument.ETF\n\n\nInstrument.Exchange\n\n\nInstrument.Expiry\n\n\nInstrument.InstrumentType\n\n\nInstrument.Name\n\n\nInstrument.PointValue\n\n\nInstrument.Round2TickSize\n\n\nInstrument.Symbol\n\n\nInstrument.TickSize\n\n\nWith the \nOnBarUpdate()\n method you can use any properties you wish without having to test for a null reference.\nAs soon as the \nOnBarUpdate()\n function is called up by AgenaScript, an object will become available. If you wish to use these properties outside of \nOnBarUpdate()\n, you should first perform a test for null references using \nif\n (Bars != \nnull\n)\n\n\nInstrument.Compare\n\n\nDescription\n\n\nThe Instrument.Compare function compares two market prices whilst taking into account the correct number of decimal points. The smallest possible price change is displayed by the value TickSize. This function simplifies the otherwise time-consuming comparison using floating-point operations.\n\n\nParameter\n\n\ndouble value1\ndouble value2\n\n\nReturn value\n\n\nType int\n\n\n1 - Value1 is bigger than value2\n-1 - Value1 is smaller than value2\n0 - Value1 and value2 are equal\n\n\nUsage\n\n\nInstrument.\nCompare\n(\ndouble\n Value1, \ndouble\n Value2)\n\n\nMore Information\n\n\nIf the tick size is 0,00001 \u2013 as it usually is with FX values \u2013 then the following will be displayed:\n\n\nCompare(2, 1.99999) a 1, meaning 2 is bigger than 1.99999\nCompare(2, 2.000001) a 0, meaning the values are equal\nCompare(2, 1.999999) a 0, meaning the values are equal\nCompare(2, 2.00001) a -1, meaning 2 is smaller than 2.00001\n\n\nExample\n\n\nPrint\n(Instrument.\nCompare\n(2, 1.999999));\n\n\nInstrument.Currency\n\n\nDescription\n\n\nInstrument.Currency outputs a currency object that contains the corresponding currency in which the instrument is traded.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nA constant of the type \u201cpublic enum currencies\u201d\n\n\nUsage\n\n\nInstrument.Currency\n\n\nMore Information\n\n\nThe common currencies are: AUD, CAD, EUR, GBP, JPY or USD.\n\n\nExample\n\n\nPrint\n(Instrument.Name + \" is traded in \" + Instrument.Currency\n\n\nInstrument.Digits\n\n\nDescription\n\n\nInstrument.Digits outputs the number of decimal points in which the market price of the instrument is traded.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nint Digits\n\n\nUsage\n\n\nInstrument.Digits\n\n\nMore Information\n\n\nStocks are usually traded to two decimal points. Forex can be traded (depending on the data provider) with 4 or 5 decimal places.\n\n\nThis function is especially useful when formatting the output of various instruments that need rounding. Also see [\nTickSize\n] and [\nInstrument.Round2Ticks\n][\nInstrument.Round2TickSize\n].\n\n\nMore information can be found here: [\nFormatting of Numbers\n].\n\n\nExample\n\n\nPrint\n(\"The value of \" +Instrument.Name + \" is noted with a precision of \" + Instrument.Digits +\" Decimal points.\");\n\n\nInstrument.ETF\n\n\nDescription\n\n\nInstrument.ETF is used to differentiate between a stock and an ETF. This is necessary since ETFs are considered to be \u201estocks\u201c by some exchanges.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nType bool\n\n\nUsage\n\n\nInstrument.ETF\n\n\nMore Information\n\n\nWhat is an ETF?\n\n\nWikipedia: [\nhttp://de.wikipedia.org/wiki/Exchange-traded_fund\n]\n\n\nExample\n\n\nif\n (Instrument.InstrumentType == InstrumentType.Stock)\n\n\nif\n (Instrument.ETF)\n\n\nPrint\n(\"The value is an ETF.\");\n\n\nelse\n\n\nPrint\n(\"The value is a stock.\");\n\n\nInstrument.Exchange\n\n\nDescription\n\n\nInstrument.Exchange outputs the description/definition of the current exchange for the current instrument.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nAn exchange object of the type \u201cpublic enum exchanges\u201d\n\n\nUsage\n\n\nInstrument.Exchange\n\n\nMore Information\n\n\nAn overview of various exchange: \nhttps://en.wikipedia.org/wiki/List_of_stock_exchanges\n\n\nExample\n\n\nPrint\n(\"The instrument \" + Instrument.Name +\" is traded on the \" + Instrument.Exchange + \" exchange.\");\n\n\nInstrument.Expiry\n\n\nDescription\n\n\nInstrument.Expiry outputs the date (month and year) of the expiry of a financial instrument. Only derivative instruments such as options or futures will have an expiry date.\n\n\nParameter\n\n\nNone\n\n\nReturn Value\n\n\nType DateTime\n\n\nFor instruments without an expiry date the returned value is set to DateTime.MaxValue(= 31.12.9999 23.59:59)\n\n\nUsage\n\n\nInstrument.Expiry\n\n\nMore Information\n\n\nThe expiry date (expiry) can also be seen within the Instrument Escort:\n\n\n\n\nExample\n\n\nPrint\n(\"The instrument \" + Instrument.Name +\" will expire on \" + Instrument.Expiry);\n\n\nInstrument.InstrumentType\n\n\nDescription\n\n\nInstrument.InstrumentType outputs a type object of the trading instrument.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nObject of the type \u201cpublic enum instrument\u201d\n\n\nUsage\n\n\nInstrument.InstrumentType\n\n\nMore Information\n\n\nPotential values are: future, stock, index, currency, option, CFD and unknown.\n\n\nThere is no ETF type. ETFs are considered to be of the type \u201cstock\u201d \u2013 see [\nInstrument.ETF\n].\n\n\nThe instrument type can also be viewed within the Instrument Escort:\n\n\n\n\nExample\n\n\nPrint\n(\"The instrument \" + Instrument.Name + \" is of the type \" + Instrument.InstrumentType);\n\n\nInstrument.Name\n\n\nDescription\n\n\nInstrument.Name outputs the name/description of the trading instrument.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nType string\n\n\nUsage\n\n\nInstrument.Name\n\n\nMore Information\n\n\nThe instrument name can also be seen within the Instrument Escort:\n\n\n\n\nExample\n\n\nPrint\n(\"The currently loaded instrument inside the chart is named \" + Instrument.Name);\n\n\nInstrument.PointValue\n\n\nDescription\n\n\nInstrument.PointValue outputs the monetary value for a full point movement of the instrument.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\ndouble \u2013 point value\n\n\nUsage\n\n\nInstrument.PointValue\n\n\nMore Information\n\n\nExample for various point values\n (per amount, CFD, futures contract, lot etc.)\n\n\nStock: generally 1.00 Euro or 1.00 USD.\nEUR/USD: 100,000 USD\nDAX future: 25.00 Euro\n\n\nTick Value\n\n\nThe tick value can be calculated by multiplying the point value with the tick size.\n\n\nFor example, the E-mini S\nP 500 has a point value of $50. The tick size equals 0.25. This means that there are 4 ticks in one full point for the E-mini S\nP 500.\nSince 50 * 0.25 = 50/4 this means that the tick value is $12.50.\n\n\nThe point value can also be viewed within the Instrument Escort:\n\n\n\n\nExample\n\n\nPrint\n(\"When \" + Instrument.Name + \" rises for one full point then this is equal to \" + Instrument.PointValue + \" \" + Instrument.Currency);\n\n\nInstrument.Round2TickSize\n\n\nDescription\n\n\nThe function Instrument.Round2TickSize rounds the supplied market price to the smallest value divisible by the tick size of the instrument.\n\n\nParameter\n\n\ndouble \u2013 market value\n\n\nReturn value\n\n\ndouble\n\n\nUsage\n\n\nInstrument.\nRound2TickSize\n(\ndouble\n MarketPrice)\n\n\nMore Information\n\n\nThe number of decimal places to which the price is rounded depends on the instrument.\nIf, for example, an instrument is a stock, then the rounding will be performed to 2 decimal places. For a Forex instrument, it may be carried out to 4 or 5 decimal places.\n\n\nSee [\nTickSize\n] and [\nInstrument.Digits\n].\n\n\nExample of professional [\nFormatting\n][\nFormatting of Numbers\n].\n\n\nExample\n\n\ndouble\n Price = 12.3456789;\n\n\nPrint\n(Price + \" rounded for a \" + Instrument.Name + \" valid value is \" + Instrument.\nRound2TickSize\n(Price));\n\n\nInstrument.Symbol\n\n\nDescription\n\n\nInstrument.Symbol outputs the symbol that identifies the trading instrument within AgenaTrader. Depending on the symbol, the mappings for the various data feed providers and brokers will be managed in different ways.\n\n\nParameter\n\n\nnone\n\n\nReturn value\n\n\nType string\n\n\nUsage\n\n\nInstrument.Symbol\n\n\nMore Information\n\n\nBy using symbols, identical stocks being traded on different exchanges can be identified and separated from each other. The symbol BMW.DE is the BMW stock on the XETRA exchange. BMW.CFG is the CFD for the BMW stock.\n\n\nThe instrument symbol can also be viewed within the Instrument Escort:\n\n\n\n\nExample\n\n\nPrint\n(\"The instrument currently loaded within the chart has the symbol: \" + Instrument.Symbol);\n\n\nInstrument.TickSize\n\n\nDescription\n\n\nThe tick size is the smallest measurable unit that a financial instrument can move. This is usually called 1 tick.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\ndouble\n\n\nUsage\n\n\nInstrument.TickSize or simply TickSize\n\n\nMore Information\n\n\nThe keyword [\nTickSize\n] is equivalent to Instrument.TickSize. Both information requests will produce the same value and are thus interchangeable.\n\n\nExample\n\n\nStock: 0.01\nES future: 0.25\nEUR/USD: 0.00001\n\n\nSee [\nInstrument.PointValue\n] and [\nInstrument.Digits\n].\n\n\nExamples of professional [\nFormatting\n][\nFormatting of Numbers\n].\n\n\nExample\n\n\nPrint\n(\"The value of \" + Instrument.Name + \" can change for a minimum of \" + Instrument.TickSize + \" Tick(s).\");\n\n\nCollections\n\n\nDrawObjects\n\n\nDescription\n\n\nDrawObjects is a collection containing all drawing objects within the chart. The property hold all drawings which were generated by the script.\nThe index for DrawObjects is the explicit name for the drawing object (string tag).\n\n\nUsage\n\n\nDrawObjects [string tag]\n\n\nExample\n\n\nNote:\n To be able to use the interface definitions you must use the using method.\n\n\nusing\n AgenaTrader.Plugins;\n\n\n// Output number of drawing objects within the chart and their tags\n\n\nPrint\n(\"The chart contains \" + DrawObjects.Count + \" drawing objects.\");\n\n\nfor each\n (IDrawObject draw \nin\n DrawObjects) \nPrint\n(draw.Tag);\n\n\n//Draw a black trend line...\n\n\nDrawLine\n(\"MyLine\", \ntrue\n, 10, Close[10], 0, Close[0], Color.Black, DashStyle.Solid, 3);\n\n\n// ... and change the color to red\n\n\nITrendLine line = (ITrendLine) DrawObjects[\"MyLine\"];\n\n\nif\n (line != \nnull\n) line.Pen.Color = Color.Red;\n\n\n// Set all lines within the chart to a line strength of 3,\n\n\n// and lock it so that it cannot be edited or moved\n\n\nforeach\n (IDrawObject draw \nin\n DrawObjects)\n\n\nif\n (draw \nis\n IVerticalLine)\n\n\n{\n\n\nIVerticalLine vline = (IVerticalLine) draw;\n\n\nvline.Locked = \ntrue\n;\n\n\nvline.Editable = \nfalse\n;\n\n\nvline.Pen.Width = 3;\n\n\n}\n\n\nInput\n\n\nDescription\n\n\nInput is a [\nDataSeries\n] object in which the input data for an indicator or strategy is stored.\n\n\nIf the indicator is used without any explicit instructions for the input data, then the closing price for the current market prices will be used.\n\n\nWhen calling up the SMA(20) the smoothing average is calculated on the basis of the closing prices for the current chart price data (this is equivalent to SMA(close,20).\n\n\nInput[0] = Close[0].\n\n\nWhen calling up the SMA(high, 20) the high price values are loaded and used for the calculation of the smoothing average.\n\n\nInput[0] = High[0].\n\n\nThis way you can select which data series should be used for the calculation of the indicator.\n\n\ndouble\n d = \nRSI\n(\nSMA\n(20), 14, 3)[0]; calculates the 14 period RSI using the SMA(20) as the input data series.\nInput[0] = SMA(20)[0].\n\n\nUsage\n\n\nInput\n\n\nInput[\nint\n barsAgo]\n\n\nExample\n\n\nPrint\n(\"The input data for the indicators are \" + Input[0]);\n\n\nLines\n\n\nDescription\n\n\nLines is a collection that contains all [\nLine\n] objects of an indicator.\n\n\nWhen a line object is added to the indicator using the [\nAdd()\n] method, this line is automatically added to the \u201clines\u201d collection.\n\n\nThe order of the add commands determines how these lines are sorted. The first information request of Add() will create Lines[0], the next information request will be Lines[1] etc.\n\n\nSee [\nPlots\n].\n\n\nUsage\n\n\nLines[\nint\n index]\n\n\nExample\n\n\n// Add \"using System.Drawing.Drawing2D;\" for DashStyle\n\n\nprotected\n override void \nInitialize()\n\n\n{\n\n\nAdd\n(\nnew Line\n(Color.Blue, 70, \"Upper\")); // saves into Lines[0]\n\n\nAdd\n(\nnew Line\n(Color.Blue, 30, \"Lower\")); // saves into Lines[1]\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\n// When the RSI is above 70, properties of the lines will be changed\n\n\nif\n (\nRSI\n(14 ,3) \n= 70)\n\n\n{\n\n\n\n\nLines[0].Width = 3;\n\n\nLines[0].Color = Color.Red;\n\n\nLines[0].DashStyle = DashStyle.Dot;\n\n\n\n\n}\n\n\nelse\n\n\n{\n\n\n\n\nLines[0].Width = 1;\n\n\nLines[0].Color = Color.Blue;\n\n\nLines[0].DashStyle = DashStyle.Solid;\n\n\n\n\n}\n\n\n}\n\n\nPlotColors\n\n\nDescription\n\n\nPlotColors is a collection that contains all color series of all plot objects.\n\n\nWhen a plot is added using the [\nAdd()\n] method it automatically creates a color series object and is added to the PlotColors collection.\n\n\nThe order of the add commands determines how the plot colors are sorted. The first information request of Add() will create PlotColors[0], the following information request will create PlotColors[1] etc.\n\n\nUsage\n\n\nPlotColors[\nint\n PlotIndex][\nint\n barsAgo]\n\n\nMore Information\n\n\nMore information regarding the collection class:\n[\nhttp://msdn.microsoft.com/en-us/library/ybcx56wz%28v=vs.80%29.aspx\n]\n\n\nExample\n\n\nusing\n System;\n\n\nusing\n System.Collections.Generic;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n System.Drawing;\n\n\nusing\n AgenaTrader.API;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"PlotColor Demo\")]\n\n\npublic\n class PlotColorsDemo : UserIndicator\n\n\n{\n\n\npublic\n DataSeries SMA20 { get {return Values[0];} }\n\n\npublic\n DataSeries SMA50 { get {return Values[1];} }\n\n\npublic\n DataSeries SMA100 { get {return Values[2];} }\n\n\nprivate\n Pen pen;\n\n\nprotected\n override void \nInitialize()\n\n\n{\n\n\n// Set line strength (width) to 4\n\n\npen = \nnew Pen\n(Color.Empty, 4);\n\n\n// Add three plots with the defined line strength to the chart\n\n\nAdd\n(\nnew Plot\n(pen, PlotStyle.Line, \"SMA20\" )); //attached to PlotColors[0]\n\n\nAdd\n(\nnew Plot\n(pen, PlotStyle.Line, \"SMA50\" )); //attached to PlotColors[1]\n\n\nAdd\n(\nnew Plot\n(pen, PlotStyle.Line, \"SMA100\")); //attached to PlotColors[2]\n\n\nOverlay = \ntrue\n;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\n// Add values to the three plots\n\n\nSMA20.\nSet\n (\nSMA\n(20) [0]);\n\n\nSMA50.\nSet\n (\nSMA\n(50) [0]);\n\n\nSMA100.\nSet\n(\nSMA\n(100)[0]);\n\n\n// Change colors depending on the trend\n\n\nif\n (\nRising\n(Close))\n\n\n{\n\n\nPlotColors[0][0] = Color.LightGreen;\n\n\nPlotColors[1][0] = Color.Green;\n\n\nPlotColors[2][0] = Color.DarkGreen;\n\n\n}\n\n\nelse if\n (\nFalling\n(Close))\n\n\n{\n\n\nPlotColors[0][0] = Color.LightSalmon;\n\n\nPlotColors[1][0] = Color.Red;\n\n\nPlotColors[2][0] = Color.DarkRed;\n\n\n}\n\n\nelse\n\n\n{\n\n\nPlotColors[0][0] = Color.LightGray;\n\n\nPlotColors[1][0] = Color.Gray;\n\n\nPlotColors[2][0] = Color.DarkGray;\n\n\n}\n\n\n}\n\n\n}\n\n\n}\n\n\nPlots\n\n\nDescription\n\n\nPlots is a collection that contains the plot objects of an indicator.\n\n\nWhen a plot object is added to an indicator using the Add() method, it is also automatically added to the \u201cplots\u201d collection.\n\n\nThe order of the add commands determines how the plots are sorted. The first Add() information request will create Plots[0], the following information request will create Plots[1] etc.\n\n\nSee [\nLines\n].\n\n\nUsage\n\n\nPlots[\nint\n index]\n\n\nExample\n\n\nprotected\n override void \nInitialize()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Blue, \"MySMA 20\")); // saved to Plots[0]\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\nValue.\nSet\n(\nSMA\n(20)[0]);\n\n\n// If the market price is above the SMA colorize it green, otherwise red\n\n\nif\n (Close[0] \n \nSMA\n(20)[0])\n\n\n\n\nPlots[0].PlotColor = Color.Green;\n\n\n\n\nelse\n\n\n\n\nPlots[0].PlotColor = Color.Red;\n\n\n\n\n}\n\n\nValues\n\n\nDescription\n\n\nValues is a collection that contains the data series objects of an indicator.\n\n\nWhen a plot is added to an indicator using the Add() method, a value object is automatically created and added to the \u201cvalues\u201d collection.\n\n\nThe order of the add commands determines how the values are sorted. The first information request will create Values[0], the next information request will create Values[1] etc.\n\n\nValue\n is always identical to Values[0].\n\n\nUsage\n\n\nValues[\nint\n index]\n\n\nValues[\nint\n index][\nint\n barsAgo]\n\n\nMore Information\n\n\nThe methods known for a collection, Set() Reset() and Count(), are applicable for values.\n\n\nInformation on the class collection:\n[\nhttp://msdn.microsoft.com/en-us/library/ybcx56wz%28v=vs.80%29.aspx\n]\n\n\nExample\n\n\n// Check the second indicator value of one bar ago and set the value of the current indicator value based on it.\n\n\nif\n (Values[1][1] \n High[0] - Low[0])\n\n\nValue.\nSet\n(High[0] - Low[0]);\n\n\nelse\n\n\nValue.\nSet\n(High[0] - Close[0]);\n\n\nMultibars\n\n\nDescription\n\n\nAn indicator or a strategy will always have the same underlying timeframe-units as those units being displayed within the chart. The values of an SMA(14) indicator displayed in a 5 minute chart will be calculated based on the last fourteen 5 minute bars. A daily chart, on the other hand, would use the closing prices of the past 14 days in order to calculate this value.\nThe same method applies for your self-programmed indicators. A 5 minute chart will call up the [\nOnBarUpdate()\n] for each 5 minute bar.\nIf you want your self-created indicator to use a different timeframe, this is possible using multibars.\n\n\nExample\n\n\nusing\n System;\n\n\nusing\n System.Collections.Generic;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n System.Drawing;\n\n\nusing\n System.Linq;\n\n\nusing\n System.Xml;\n\n\nusing\n System.Xml.Serialization;\n\n\nusing\n AgenaTrader.API;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nusing\n AgenaTrader.Helper;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"Multibar Demo\")]\n\n\n// The indicator requires daily and weekly data\n\n\n[\nTimeFrameRequirements\n(\"1 Day\", \"1 Week\")]\n\n\npublic\n class MultiBarDemo : UserIndicator\n\n\n{\n\n\nprotected\n override void \nInitRequirements()\n\n\n\n\n{\n\n\nAdd\n(DatafeedHistoryPeriodicity.Day, 1);\n\n\nAdd\n(DatafeedHistoryPeriodicity.Week, 1);\n\n\n}\n\n\nprotected\n override void \nInitialize()\n\n\n\n\n{\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\n// The current value for the SMA 14 in a daily timeframe\n\n\nPrint\n(\nSMA\n(Closes[1], 14)[0]);\n\n\n// Current value for the SMA 14 in a weekly timeframe\n\n\nPrint\n(\nSMA\n(Closes[2], 14)[0]);\n\n\n}\n\n\n}\n\n\n}\n\n\nAdditional Notes\n\n\nWhen using additional timeframes, a further entry with the respective data series for the bars of the new timeframe will be added to the arrays [\nOpens\n], [\nHighs\n], [\nLows\n], [\nCloses\n], [\nMedians\n], [\nTypicals\n], [\nWeighteds\n], [\nTimes\n] and [\nVolumes\n]. The indexing will occur in the order of the addition of the new timeframes.\nCloses[0][0] is equivalent to Close[0].\nCloses[1][0] equals the current closing price for the daily data series\nCloses[2][0] equals the current closing price for the weekly data series\n\n\n\"Closes\" is, of course, interchangeable with Opens, Highs, Lows etc.\n\n\nSee [\nCurrentBars\n], [\nBarsInProgress\n], [\nTimeFrames\n], [\nTimeFrameRequirements\n].\n\n\nAdditional syntax methods are available for multibars:\n\n\n// Declare the variable TF_DAY and define it\n\n\nprivate\n static readonly TimeFrame TF_Day = \nnew TimeFrame\n(DatafeedHistoryPeriodicity.Day, 1);\n\n\nprivate\n static readonly TimeFrame TF_Week = \nnew TimeFrame\n(DatafeedHistoryPeriodicity.Week, 1);\n\n\n// The following instruction is identical to double d = Closes[1][0];\n\n\ndouble\n d = MultiBars.\nGetBarsItem\n(TF_Day).Close[0];\n\n\n// The following instruction is identical to double w = Closes[2][0];\n\n\ndouble\n w = MultiBars.\nGetBarsItem\n(TF_Week).Close[0];\n\n\nCurrentBars\n\n\nDescription\n\n\nCurrentBars is an array of int values that contains the number of \n[CurrentBar]s\n for each bar.\n\n\nThis array is only of value for indicators or strategies that use data from multiple timeframes.\n\n\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nCurrentBars[0] Current bar for the primary data series (chart timeframe)\nCurrentBars[1] Current bar for the daily bars\nCurrentBars[2] Current bar for the weekly bars\n\n\nCurrentBars[0] is equivalent to [\nCurrentBar\n][CurrentBar].\n\n\nAlso see [\nMultiBars\n].\n\n\nParameter\n\n\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nCurrentBars[\nint\n barSeriesIndex]\n\n\nExample\n\n\n//Ensure that a minimum of 20 bars is loaded\n\n\nfor\n (\nint\n i=0; i\nCurrentBars.Count; i++)\n\n\nif\n (CurrentBars[i] \n 20) return;\n\n\nBarsInProgress\n\n\nDescription\n\n\nWithin a multibars script, multiple bars objects are available. The OnBarUpdate() method\nwill therefore also be called up for every bar within your script. In order to include/exclude events of specific data series, you can use the BarsInProgress method.\n\n\nBarsInProgress is only of value for indicators or strategies that use data from multiple timeframes.\nWith \n[TimeFrameRequirements(\"1 Day\", \"1 Week\")]\n two timeframes will be added to the primary chart timeframe.\n\n\nIf OnBarUpdate() is called up by the primary data series, then BarsInProgress will equal zero. If OnBarUpdate() is called up by the daily bars, then BarsInProgress will equal 1. Weekly bars will have a value of 2.\n\n\nSee [\nMultibars\n][\nMultiBars\n] and [\nCurrentBars\n].\n\n\nParameter\n\n\nnone\n\n\nUsage\n\n\nBarsInProgress\n\n\nMore Information\n\n\nWithin a script that only works with primary timeframes, the value will always equal zero.\n\n\nExample\n\n\n// To demonstrate the methodology\n\n\n// set CalculateOnBarClose=false\n\n\nPrint\n(Time[0] + \" \" + BarsInProgress);\n\n\n// Calculate only for the chart timeframe\n\n\nprotected\n override void \nOnBarUpdate()\n\n\n{\n\n\nif\n (BarsInProgress \n 0) return;\n\n\n// Logic for the primary data series\n\n\n}\n\n\nTimeFrames\n\n\nDescription\n\n\nTimeFrames is an array of timeframe objects that contains a timeframe object for each individual bar object.\n\n\nThis array is only of value for indicators or strategies that use data from multiple timeframes.\n\n\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.\n\n\nWith \n[TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]\n the array will contain 3 entries:\n\n\nTimeFrames [0] Timeframe of the primary data series (chart timeframe)\nTimeFrames [1] \nPrint\n(TimeFrames[1]); // returns \"1 Day\"\nTimeFrames [2] \nPrint\n(TimeFrames[2]); // returns \"1 Week\"\n\n\nTimeFrames [0] is equivalent to [\nTimeFrame\n].\n\n\nSee [\nMultiBars\n].\n\n\nParameter\n\n\nbarSeriesIndex Index value for the various timeframes\n\n\nUsage\n\n\nTimeFrames [\nint\n barSeriesIndex]\n\n\nExample\n\n\nif\n (BarsInProgress == 0 \n CurrentBar == 0)\n\n\nfor\n (\nint\n i = BarsArray.Count-1; i \n= 0; i--)\n\n\n\n\nPrint\n(\"The Indicator \" + \nthis\n.Name + \" uses Bars of the Timeframe \" + TimeFrames[i]);", 
            "title": "Handling bars and instruments"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#handling-bars-and-instruments", 
            "text": "Data is understood as information that is retrieved externally and uploaded to AgenaTrader, or as data series that are created by AgenaScripts.  Further detailed information can be found using the appropriate shortcuts:  Bars (Candles)  Data series  Instruments", 
            "title": "Handling bars and instruments"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#bars-candles", 
            "text": "", 
            "title": "Bars (Candles)"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#functionality", 
            "text": "A classical indicator calculates one or multiple values using an existing data series.  Data series can be anything from closing prices to daily lows or values of an hourly period etc.  Every period (meaning all candles of one day, one hour etc.) is assigned one or more indicator values.\nThe following example is based on an indicator value, such as with a moving average, for example.\nTo calculate a smoothed moving average, AgenaTrader needs a data series. In this example we will use the closing prices. All closing prices of a bar (candle) that are represented in the chart will be saved in a list and indexed.  The current closing price, meaning the closing price of the bar that is on the right-hand side of the chart, will be assigned an index of 0. The bar to the left of that will have an index of 1 and so on. The oldest bar displayed will have an index value of 500.  Whenever a new bar is added within a session it will become the new index 0; the bar to the left of it, which previously had an index of 0, will become index 1 and so on. The oldest bar will become index 501.\nWithin a script (a self-created program/algorithm) the [ Close ] will be representative for the array (list) of all closing prices.\nThe last closing price is thus  Close [0] ; the closing price previous to this will become  Close [1] , the value before that will become  Close [2]  and the oldest bar will be  Close [501] . The number within the squared brackets represents the index. AgenaTrader allows you to use the \u201ebars ago\u201c expression for this in general cases.  Obviously, every bar will not only have a closing value but also a  High ,  Low ,  Open ,  Median ,  Typical ,  Weighted ,  Time  and  Volume . Thus, the high of the candle that occurred 10 days ago will be  High [10] , yesterday\u2019s low  Low [1] ...  Important tip:  The previous examples all assume that the calculations will occur at the end of a period. The value of the currently running index is not being taken into consideration.  If you wish to use the values of the currently forming candle then you will need to set the value of  [ CalculateOnBarClose ] to \u201efalse\u201c.  In this case the currently running bar will have the value 0, the bar next to the current bar will have the value 1 and so on. The oldest bar (as in the example above) would now have the value 502.  With close [0] you would receive the most recent value of the last price that your data provider transmitted to AgenaTrader. All values of the bar (high [0], low [0]\u2026) may still change as long as the bar is not yet finished/closed and a new bar has not yet started. Only the open [0] value will not change.", 
            "title": "Functionality"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#properties-of-bars", 
            "text": "", 
            "title": "Properties of Bars"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#properties-of-bars_1", 
            "text": "\"Bars\" represents a list of all bars (candles) within a chart (see [ Functionality ][ Bars ]).  Bars ( public  IBars Bars) can be used directly in a script and equates to BarsArray [0] (see Bars.GetNextBeginEnd for more information).  The list of bars itself has many properties that can be used in AgenaScript. Properties are always indicated by a dot before the objects (in this case bars, list of candles).  BarsSinceSession  Bars.Count  Bars.FirstBarOfSession  Bars.GetBar  Bars.GetBarsAgo  Bars.GetByIndex  Bars.GetIndex  Bars.GetNextBeginEnd  Bars.GetOpen  \nGetHigh\nGetLow\nGetClose\nGetTime \nGetVolume  Bars.Instrument  Bars.IsIntraDay  Bars.PercentComplete  Bars.SessionBegin  Bars.SessionEnd  Bars.SessionNextBegin  Bars.SessionNextEnd  Bars.TickCount  Bars.TimeFrame  Bars.TotalTicks  With the  OnBarUpdate()  method you can use any properties you want without having to test for a null reference.\nAs soon as the function  OnBarUpdate()  is called up by AgenaScript, it is assumed that an object is also available. If you wish to use these properties outside of  OnBarUpdate()  then you should first perform a test for null references using  if  (Bars !=  null ).", 
            "title": "Properties of Bars"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barssincesession", 
            "text": "", 
            "title": "BarsSinceSession"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description", 
            "text": "Bars.BarsSinceSession outputs the amount of bars that have occurred since the beginning of the current trading session.  See further [ Properties ] of bars.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value", 
            "text": "Type int Amount of Bars  A value of -1 indicates a problem with referencing the correct session beginning.", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage", 
            "text": "Bars.BarsSinceSession", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#further-information", 
            "text": "Within  OnBarUpdate()  this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.  If this property is used outside of OnBarUpdate() then you should test for a null reference before executing it. You can test using  if  (Bars!=  null ) .", 
            "title": "Further Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example", 
            "text": "Print  (\"Since the start of the last trading session there have been\u201d + Bars.BarsSinceSession + \u201cbars.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barscount", 
            "text": "", 
            "title": "Bars.Count"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_1", 
            "text": "Bars.Count gives you the amount of bars in a data series.  See [ Properties ] for additional information.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_1", 
            "text": "Type int Amount of Bars", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_1", 
            "text": "Bars.Count", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information", 
            "text": "The value of  CurrentBar  can only be lesser than or equal to Bars.Count - 1  When you specify how many bars are to be loaded within AgenaTrader, then the value of Bars.Count is equal to this setting. In the following example, Bars.Count would give back a value of 500.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_1", 
            "text": "Print  (\"There are a total of\u201d + Bars.Count + \u201cbars available.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsfirstbarofsession", 
            "text": "", 
            "title": "Bars.FirstBarOfSession"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_2", 
            "text": "With Bars.FirstBarOfSession you can determine whether the current bar is the first bar of the trading session.  See [ Properties ] of bars for more information.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_2", 
            "text": "Type bool  true : The bar is the first bar of the current trading session false : The bar is not the first bar of the current trading session", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_2", 
            "text": "Bars.FirstBarOfSession", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_1", 
            "text": "With  OnBarUpdate()  this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up, an object will become available.\nIf this property is called up outside of OnBarUpdate() you should test for a null reference using if (Bars != null).", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_2", 
            "text": "if  (Bars.FirstBarOfSession)  Print  (\"The current trading session started at\u201d + Time [0]);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetbar", 
            "text": "", 
            "title": "Bars.GetBar"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_3", 
            "text": "Bars.GetBar outputs the first bars (from oldest to newest) that correspond to the specified date/time.  See [ Bars.GetBarsAgo ], [ Bars.GetByIndex ], [ Bars.GetIndex ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter", 
            "text": "Type DateTime", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_3", 
            "text": "Type IBar Bar Object, for the bars corresponding to the timestamp  For a timestamp older than the oldest bar: 0 (null)\nFor a timestamp younger than the newest bar: index of the last bar", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_3", 
            "text": "Bars. GetBar (DateTime time)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_2", 
            "text": "For the indexing of bars please see [ Functionality ][ Bars ]  For more information about using DateTime see [ http://msdn.microsoft.com/de-de/library/system.datetime.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_3", 
            "text": "Print  (\"The closing price for 01.03.2012 at 18:00:00 was \" + Bars. GetBar ( new DateTime (2012, 01, 03, 18, 0, 0)).Close);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetbarsago", 
            "text": "", 
            "title": "Bars.GetBarsAgo"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_4", 
            "text": "Bars.GetBarsAgo outputs the index of the first bars (from oldest to newest) that correspond to the specified date/time.  See: [ Bars.GetBar ], [ Bars.GetByIndex ], [ Bars.GetIndex ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_1", 
            "text": "Type DateTime", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_4", 
            "text": "Type int Index of the bar that corresponds to the timestamp  With a timestamp older than the oldest bar: 0 (null)\nWith a timestamp newer than the youngest bar: index of the last bar", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_4", 
            "text": "Bars. GetBarsAgo (DateTime time)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_3", 
            "text": "For more information about indexing please see [ Functionality ][ Bars ]  For more information about using DateTime see [ http://msdn.microsoft.com/de-de/library/system.datetime.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_4", 
            "text": "Print (\"The bar for 01.03.2012 at 18:00:00 O\u2019clock has an index of \" + Bars. GetBarsAgo ( new DateTime (2012, 01, 03, 18, 0, 0)));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetclose", 
            "text": "Bars.GetClose(int index) \u2013 see [ Bars.GetOpen ].", 
            "title": "Bars.GetClose"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgethigh", 
            "text": "Bars.GetHigh(int index) \u2013 see [ Bars.GetOpen ].", 
            "title": "Bars.GetHigh"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetbyindex", 
            "text": "", 
            "title": "Bars.GetByIndex"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_5", 
            "text": "Bars.GetByIndex outputs the index for the specified bar object  See  Bars.GetBar ,  Bars.GetBarsAgo ,  Bars.GetIndex .", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_2", 
            "text": "Type int Index", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_5", 
            "text": "Type IBar Bar object for the specified index", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_5", 
            "text": "Bars. GetByIndex  (int Index)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_4", 
            "text": "For indexing of bars see [ Functionality ] Bars", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_5", 
            "text": "Print (Close[0] + \" and \" + Bars. GetByIndex (CurrentBar).Close + \" are equal in this example.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetindex", 
            "text": "", 
            "title": "Bars.GetIndex"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_6", 
            "text": "Bars.GetIndex outputs the index of a bar \u2013 you can input either a bar object or a date-time object using this method.  See  Bars.GetBar ,  Bars.GetBarsAgo ,  Bars.GetByIndex .", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_3", 
            "text": "Type IBar bar\nor\nType DateTime", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_6", 
            "text": "Type int The bar index of the specified bar object or DateTime object", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_6", 
            "text": "Bars. GetIndex  (IBar bar)  Bars. GetIndex  (DateTime dt)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_5", 
            "text": "For more information about indexing see [ Functionality ][ Bars ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_6", 
            "text": "int  barsAgo = 5;  IBar bar = Bars. GetBar (Time[barsAgo]);  Print (barsAgo + \" and \" + Bars. GetIndex (bar) + \" are equal in this example.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetlow", 
            "text": "Bars.GetLow(int index) \u2013 see [ Bars.GetOpen ].", 
            "title": "Bars.GetLow"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetnextbeginend", 
            "text": "", 
            "title": "Bars.GetNextBeginEnd"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_7", 
            "text": "Bars.GetNextBeginEnd outputs the date and time for the beginning and end of a trading session.  See  Bars.SessionBegin ,  Bars.SessionEnd ,  Bars.SessionNextBegin ,  Bars.SessionNextEnd .", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_4", 
            "text": "DateTime  time  Date or time for which the data of the following trading session will be scanned/searched.    iBars  bars  Bar object for which the data will be scanned/searched.    int  barsago  Number of days in the past for which the data will be searched/scanned.", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_7", 
            "text": "DateTime session begin\nDateTime session end  Note: The date for the beginning and the end of a trading session are connected components. If the specified date corresponds to the end date of the current trading session then the returned value for the beginning of a trading session may already be in the past. In this case the date for the following trading session cannot be returned.", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_7", 
            "text": "Bars. GetNextBeginEnd (Bars bars,  int  barsAgo,  out  DateTime sessionBegin,  out  DateTime sessionEnd)  Bars. GetNextBeginEnd (DateTime time,  out  DateTime sessionBegin,  out  DateTime sessionEnd)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_6", 
            "text": "The two signatures will not necessarily output the same result.\nWhen using the bar signature, the supplied bar will be inspected for its session template association. The beginning and end of the next session will be taken from this template.  When using the time signature, the date and time of the supplied bar will be used to calculate the data for the current and the following sessions.  When using the time signature, a timestamp is transmitted that corresponds exactly to the beginning or the end time of a session.  More information can be found here [ http://msdn.microsoft.com/de-de/library/system.datetime.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_7", 
            "text": "DateTime sessionBegin;  DateTime sessionEnd;  protected  override void  OnBarUpdate()  {  Bars. GetNextBeginEnd (Bars, 0,  out  sessionBegin,  out  sessionEnd);  Print (\"Session Start: \" + sessionBegin + \" Session End: \" + sessionEnd);  }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetsessiondate", 
            "text": "", 
            "title": "Bars.GetSessionDate"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_8", 
            "text": "Bars.GetSessionDate provides the date and the time of the start of a particular trading session.  The date and time for the start of the current trading session are also displayed correctly even if the function is used on a bar in the past.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetopen", 
            "text": "", 
            "title": "Bars.GetOpen"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_9", 
            "text": "For reasons of compatibility, the following methods are available.    Bars.GetOpen(int index) outputs the open for the bars referenced with  index .    Bars.GetHigh(int index) outputs the high for the bars referenced with  index .    Bars.GetLow(int index) outputs the low for the bars referenced with  index .    Bars.GetClose(int index) outputs the close for the bars referenced with  index .    Bars.GetTime(int index) outputs the timestamp for the bars referenced with  index .    Bars.GetVolume(int index) outputs the volume for the bars referenced with  index .    Caution : The indexing will deviate from the [ Indexing ][ Bars ] normally used.\nHere, the indexing will begin with 0 for the oldest bar (on the left of the chart) and end with the newest bar on the right of the chart (=Bars.Count-1).  The indexing can easily be recalculated:  private int Convert(int idx)  {  return Math.Max(0,Bars.Count-idx-1-(CalculateOnBarClose?1:0));  }", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_5", 
            "text": "int index (0 .. Bars.Count-1)", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_8", 
            "text": "Type double for GetOpen, GetHigh, GetLow, GetClose and GetVolume  Type DateTime for GetTime", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgettime", 
            "text": "Bars.GetTime(int index) \u2013 see [ Bars.GetOpen ].", 
            "title": "Bars.GetTime"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsgetvolume", 
            "text": "Bars.GetVolume(int index) \u2013 see [ Bars.GetOpen ].", 
            "title": "Bars.GetVolume"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsinstrument", 
            "text": "", 
            "title": "Bars.Instrument"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_10", 
            "text": "Bars.Instrument outputs an instrument object for the trading instrument displayed within the chart.  See [ Properties ] for more information.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_6", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_9", 
            "text": "Type Instrument", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_8", 
            "text": "Bars.Instrument", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_7", 
            "text": "For more information regarding the trading instruments please see [ Instrument ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_8", 
            "text": "// both outputs will provide the same result  Print (\"The currently displayed trading instrument has the symbol: \" + Bars.Instrument);  Instrument i = Bars.Instrument;  Print (\"The currently displayed trading instrument has the symbol \" + i.Symbol);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsisintraday", 
            "text": "This function is not yet implemented.  We are working on this \u2013 please bear with us. Thank you for your patience.   TODO", 
            "title": "Bars.IsIntraDay"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barspercentcomplete", 
            "text": "", 
            "title": "Bars.PercentComplete"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_11", 
            "text": "Bars.PercentComplete outputs the value that displays what percentage a bar has already completed. A bar with a period of 10 minutes has completed 50% after 5 minutes.  For non-time-based charts (Kagi, LineBreak, Renko, Range, P F etc.) this will output 0 during backtesting.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_10", 
            "text": "double  A percentage value; 30% will be outputted as 0.3", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_9", 
            "text": "Bars.PercentComplete", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_8", 
            "text": "With [ OnBarUpdate() ] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.  If this property is used outside of OnBarUpdate() you should test for a null reference before executing it. You can test using  if  (Bars !=  null )", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_9", 
            "text": "// A 60 minute chart is looked at from an intraday perspective  // every 5 minutes before the current bar closes  // an acoustic signal shall be played  // 55 min. equals 92%  Bool  remind =  false ;  protected  override void  OnBarUpdate()  {  if  (FirstTickOfBar) remind =  true ;  if  (remind   Bars.PercentComplete  = 0.92)  {  remind =  false ;  PlaySound (\"Alert1\");  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barssessionbegin", 
            "text": "", 
            "title": "Bars.SessionBegin"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_12", 
            "text": "Bars.SessionBegin outputs the date and time for the beginning of the current trading session.  Date and time for the beginning of the current trading session will be displayed correctly when the function is used on a bar that has occurred in the past.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_7", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_11", 
            "text": "Type DateTime", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_10", 
            "text": "Bars.GetSessionBegin", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_9", 
            "text": "The time for the returned value will equal the starting time defined in the Market Escort for the specified exchange. The value itself is set within the Instrument Escort and can be called up in AgenaScript using the function [ Instrument.Exchange ] .", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_10", 
            "text": "Print (\"The currently running trading session started at \" + Bars.SessionBegin );", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barssessionend", 
            "text": "", 
            "title": "Bars.SessionEnd"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_13", 
            "text": "Bars.SessionEnd outputs the time for the end of the currently running trading session.\nDate and time for the end of the current trading session will, in this case, also be outputted correctly when the function is used on a previous bar.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_8", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_12", 
            "text": "Type DateTime", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_11", 
            "text": "Bars.GetSessionEnd", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_10", 
            "text": "The time for the returned value will correlate with the end time of the trading session defined in the Market Escort for the exchange. The value itself can be set within the Instrument Escort and can be called up with AgenaScript using the [ Instrument.Exchange ] function.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_11", 
            "text": "Print (\"The current trading session will end at \" + Bars.SessionEnd);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barssessionnextbegin", 
            "text": "", 
            "title": "Bars.SessionNextBegin"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_14", 
            "text": "Bars.SessionNextBegin outputs the date and time for the start of the next trading session.\nDate and time for the next session will be correctly outputted when the function is used on a bar in the past.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_9", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_13", 
            "text": "Type DateTime", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_12", 
            "text": "Bars.GetSessionNextBegin", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_11", 
            "text": "The time for the returned value will correlate to the value displayed in the MarketEscort. The value can be set within the Instrument Escort and can be called up using the [ Instrument.Exchange ] function.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_12", 
            "text": "Print (\"The next trading session starts at \" + Bars.SessionNextBegin);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barssessionnextend", 
            "text": "", 
            "title": "Bars.SessionNextEnd"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_15", 
            "text": "Bars.SessionNextEnd outputs the date and time for the end of the next session.\nSee [ Properties ] for more information.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_10", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_14", 
            "text": "Type DateTime", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_13", 
            "text": "Bars.GetSessionNextEnd", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_12", 
            "text": "The time for the returned value will correlate with the value specified within the MarketEscort. The value itself can be set within the Instrument Escort and can be called up with AgenaScript using the [ Instrument.Exchange ] function.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_13", 
            "text": "Print (\"The next trading session ends at \" + Bars.SessionNextEnd);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barstickcount", 
            "text": "", 
            "title": "Bars.TickCount"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_16", 
            "text": "Bars.TickCount outputs the total numbers of ticks contained within a bar.  More information can be found in [ Properties ] of bars.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_11", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_15", 
            "text": "Type int", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_14", 
            "text": "Bars.TickCount", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_13", 
            "text": "With [ OnBarUpdate() ] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.  If this property is used outside of OnBarUpdate(), you should test for a null reference before executing it. You can test using  if  (Bars !=  null )", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_14", 
            "text": "Print (\"The current bar consists of \" + Bars.TickCount + \" Ticks.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barstimeframe", 
            "text": "", 
            "title": "Bars.TimeFrame"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_17", 
            "text": "Bars.TimeFrame outputs the timeframe object containing information regarding the currently used timeframe.  More information can be found here: [ Properties ]", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_12", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_16", 
            "text": "Type ITimeFrame", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_15", 
            "text": "Bars.TimeFrame", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_14", 
            "text": "For more information about timeframe objects please see [ TimeFrame ].  With [ OnBarUpdate() ] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.  If this property is used outside of OnBarUpdate(),you should test for a null reference before executing it. You can test using  if  (Bars !=  null )", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_15", 
            "text": "//Usage within a 30 minute chart  TimeFrame tf = (TimeFrame) Bars.TimeFrame;  Print (Bars.TimeFrame); // outputs \"30 Min\"  Print (tf.Periodicity); // outputs \"Minute\"  Print (tf.PeriodicityValue); // outputs \"30\"", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barstotalticks", 
            "text": "", 
            "title": "Bars.TotalTicks"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_18", 
            "text": "Bars.TotalTicks outputs the total number of ticks from the moment the function is called up.  More information can be found here: [ Properties ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_13", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_17", 
            "text": "Type int", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_16", 
            "text": "Bars.TotalTicks", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_15", 
            "text": "The data type int has a positive value range of 2147483647. When you assume 10 ticks per second, there will be no overlaps within 2 trading months with a daily runtime of 24 hours.  With [ OnBarUpdate() ] this property can be used without having to test for a null reference. As soon as the OnBarUpdate() method is called up by AgenaScript, the object will become available.  If this property is used outside of OnBarUpdate(), you should test for a null reference before executing it. You can test using  if  (Bars !=  null )", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_16", 
            "text": "Print (\"The total amount of ticks is \" + Bars.TotalTicks);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#data-series", 
            "text": "", 
            "title": "Data Series"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_19", 
            "text": "Data series are interpreted as freely usable data storage containers for your programs. Additionally, they an integrated component of AgenaTrader that saves the price changes for individual bars. We will be focusing on the latter function here.\nIn the following section, the concept of data series will be explained in detail and understandably. All price data for the individual bars are organized and saved within data series.\nThe following are available:  Open   Opens  High   Highs  Low   Lows  Close   Closes  Median   Medians  Typical   Typicals  Weighted   Weighteds  Time   Times  TimeFrame   TimeFrames  Volume   Volumes", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#open", 
            "text": "", 
            "title": "Open"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_20", 
            "text": "Open is a [ DataSeries ][ Data series ] of the type [ DataSeries ], in which the historical opening prices are saved.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_14", 
            "text": "BarsAgo Index Value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_17", 
            "text": "Open  Open[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_16", 
            "text": "The returned value is dependent upon the property of [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_17", 
            "text": "// Opening price for the current period  Print (Time[0] + \" \" + Open[0]);  // Opening price for the bars of 5 periods ago  Print (Time[5] + \" \" + Open[5]);  // Current value for the SMA 14 that is based on the opening prices (rounded)  Print (\"SMA(14) calculated using the opening prices: \" + Instrument. Round2TickSize ( SMA (Open, 14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#opens", 
            "text": "", 
            "title": "Opens"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_21", 
            "text": "Opens is an array of data series that contains all open data series.  This array is only useful or meaningful for indicators or strategies that use multiple data from multiple timeframes.\nA new entry is entered into the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Opens[0] The open data series of the chart timeframe\nOpens[1] The open data series of all bars in a daily timeframe\nOpens[2] The open data series of all bars in a weekly timeframe  Opens[0][0] is equivalent to Open[0].  In addition, please see [ MultiBars ] for more information.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_15", 
            "text": "barsAgo Index value for the individual bars within the data series (see [ Bars ])\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_18", 
            "text": "Opens[ int  barSeriesIndex]  Opens[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_17", 
            "text": "The returned value is dependent upon the property of [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_18", 
            "text": "See example: [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#high", 
            "text": "", 
            "title": "High"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_22", 
            "text": "High is a  [DataSerie][ Data series ]s  of the type [ DataSeries ], in which the historical high prices are saved.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_16", 
            "text": "barsAgo IndexValue (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_19", 
            "text": "High  High[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_18", 
            "text": "The returned value is dependent upon the property of [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_19", 
            "text": "// High values of the current period  Print (Time[0] + \" \" + High[0]);  // High values of the bar from 5 periods ago  Print (Time[5] + \" \" + High[5]);  // the current value for the SMA 14 calculated on the basis of the high prices  Print (\"SMA(14) Calculated using the high prices: \" + Instrument. Round2TickSize ( SMA (High, 14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#highs", 
            "text": "", 
            "title": "Highs"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_23", 
            "text": "Highs is an array of [ DataSeries ][1] that contains all high data series.  This array is only of value for indicators or strategies that use data from multiple timeframes.  A new entry is added to the array whenever a new time unit is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Highs[0] the high data series of the chart timeframe\nHighs[1] the high data series of all bars in a daily timeframe\nHighs[2] the high data series of all bars in a weekly timeframe  Highs[0][0] is equivalent to High[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_17", 
            "text": "barsAgo Index value for the individual bars within the data series (see [ Bars ])\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_20", 
            "text": "Highs[ int  barSeriesIndex]  Highs[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_19", 
            "text": "The returned value is dependent upon the property of [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_20", 
            "text": "Please see examples under [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#low", 
            "text": "", 
            "title": "Low"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_24", 
            "text": "Low is a [ DataSeries ][ Data series ] of the type [ DataSeries ], in which the historical low prices are saved.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_18", 
            "text": "barsAgo IndexValue (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_21", 
            "text": "Low  Low[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_20", 
            "text": "The returned value is dependent upon the property of [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_21", 
            "text": "// Lowest value of the current period  Print (Time[0] + \" \" + Low[0]);  // Lowest value of the bar from 5 periods ago  Print (Time[5] + \" \" + Low[5]);  // The current value for the SMA 14 calculated on the basis of the low prices (smoothed)  Print (\"SMA(14) calculated using the high prices: \" + Instrument. Round2TickSize ( SMA (Low, 14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#lows", 
            "text": "", 
            "title": "Lows"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_25", 
            "text": "Lows is an array of [ DataSeries ][1] that contains all [ Low ] data series.  This array is only of value to indicators or strategies that use data from multiple time units.  A new entry is added whenever a new time unit is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Lows[0] the low data series for the chart timeframe\nLows[1] the low data series for all bars in a daily timeframe\nLows[2] the low data series for all bars in a weekly timeframe  Lows[0][0] is equivalent to Low[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_19", 
            "text": "barsAgo Index value for the individual bars within the data series\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_22", 
            "text": "Lows[ int  barSeriesIndex]  Lows[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_21", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_22", 
            "text": "See example [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#close", 
            "text": "", 
            "title": "Close"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_26", 
            "text": "Close is a [ DataSeries ][ Data series ] of the type [ DataSeries ], in which the historical closing prices are saved.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_20", 
            "text": "barsAgo Index value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_23", 
            "text": "Close  Close[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_22", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].  Indicators are usually calculated using the closing prices.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_23", 
            "text": "// Closing price of the current period  Print (Time[0] + \" \" + Close[0]);  // Closing price of the bar from 5 periods ago  Print (Time[5] + \" \" + Close[5]);  // Current value for the SMA 14 based on the closing prices  Print (\"SMA(14) calculated using the closing prices: \" + Instrument. Round2TickSize ( SMA (Close, 14)[0]));  // Close does not need to be mentioned since it is used by default  Print (\"SMA(14) calculated using the closing prices: \" + Instrument. Round2TickSize ( SMA (14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#closes", 
            "text": "", 
            "title": "Closes"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_27", 
            "text": "Closes is an array of [ DataSeries ][1] that contains all [ Low ] data series.  This array is only of importance to indicators or strategies that use data from multiple time units.  A new entry is added to the array whenever a timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Closes[0] the close data series of the chart timeframe\nCloses[1] the close data series of all bars in a daily timeframe\nCloses[2] the close data series of all bars in a weekly timeframe  Closes[0][0] is equivalent to Close[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_21", 
            "text": "barsAgo Index value of the individual bars within the data series\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_24", 
            "text": "Closes[ int  barSeriesIndex]  Closes[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_23", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_24", 
            "text": "See example [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#median", 
            "text": "", 
            "title": "Median"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_28", 
            "text": "Median is a [ DataSeries ][ Data series ] of the type [ DataSeries ], in which the historical median values are saved.  The median price of a bar is calculated using (high + low) / 2  See [ Typical ]   [ Weighted ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_22", 
            "text": "barsAgo Index value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_25", 
            "text": "Median  Median[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_24", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].  Further information about median, typical und weighted:\n[ http://blog.nobletrading.com/2009/12/median-price-typical-price-weighted.html ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_25", 
            "text": "// Median price for the current period  Print (Time[0] + \" \" + Median[0]);  // Median price of the bar from 5 periods ago  Print (Time[5] + \" \" + Median[5]);  // Current value for the SMA 14 calculated using the median prices  Print (\"SMA(14) calculated using the median prices: \" + Instrument. Round2TickSize ( SMA (Median, 14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#medians", 
            "text": "", 
            "title": "Medians"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_29", 
            "text": "Medians is an array of [ DataSeries ][1] that contains all [ Median ] data series.  This array is only of value to indicators or strategies that use data from multiple timeframes.  A new entry is added to the array whenever a new time frame is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Medians[0] the median data series of the chart timeframe\nMedians[1] the median data series of all bars in a daily timeframe\nMedians[2] the median data series of all bars in a weekly timeframe  Medians[0][0] is equivalent to Medians[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_23", 
            "text": "barsAgo Index value for the individual bars within a data series\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_26", 
            "text": "Medians[ int  barSeriesIndex]  Medians[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_25", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].  Further information on median: http://www.investopedia.com/terms/m/median.asp", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_26", 
            "text": "See example in [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#typical", 
            "text": "", 
            "title": "Typical"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_30", 
            "text": "Typical is a  DataSeries  of the type [ DataSeries ], in which the historical typical values are saved.  The typical price of a bar is calculated using (high + low + close) / 3.  See [ Median ] and [ Weighted ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_24", 
            "text": "barsAgo Index value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_27", 
            "text": "Typical  Typical[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_26", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].  Further information on typical:  https://technicianapp.com/resources/typical-price/  Example  // Typical price for the current period  Print (Time[0] + \" \" + Typical[0]);  // Typical price of the bar from 5 periods ago  Print (Time[5] + \" \" + Typical[5]);  // Current value for the SMA 14 calculated using the typical price  Print (\"SMA(14) calculated using the typical price: \" + Instrument. Round2TickSize ( SMA (Typical, 14)[0]));", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#typicals", 
            "text": "", 
            "title": "Typicals"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_31", 
            "text": "Typicals is an array of  DataSeries  that contains all [ Typical ] data series.  This array is only of value to indicators and strategies that make use of multiple timeframes.  A new entry is added to the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Typicals[0] the typical data series of the chart timeframe\nTypicals[1] the typical data series of all bars in a daily timeframe\nTypicals[2] the typical data series of all bars in a weekly timeframe  Typicals[0][0] is equivalent to Typicals[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_25", 
            "text": "barsAgo Index value of the individual bars within a data series\nbarSeriesIndex Index value of the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_28", 
            "text": "Typicals[ int  barSeriesIndex]  Typicals[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_27", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_27", 
            "text": "See example [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#weighted", 
            "text": "", 
            "title": "Weighted"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_32", 
            "text": "Weighted is a [ DataSeries ][ Data series ] of the type [ DataSeries ], in which the historical weighted values are saved.  The weighted price of a bar is calculated using the formula (high + low + 2*close) / 4 and then weighted on the closing price.  See also [ Median ] and [ Typical ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_26", 
            "text": "barsAgo Index value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_29", 
            "text": "Weighted  Weighted[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_28", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].  Information regarding weighted: http://www.stock-trading-infocentre.com/pivot-points.html", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_28", 
            "text": "// Weighted price for the current period  Print (Time[0] + \" \" + Weighted[0]);  // Weighted price of the bar from 5 periods ago  Print (Time[5] + \" \" + Weighted[5]);  // Current value for the SMA 14 using the weighted price  Print (\"SMA(14) calculated using the weighted price: \" + Instrument. Round2TickSize ( SMA (Weighted, 14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#weighteds", 
            "text": "", 
            "title": "Weighteds"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_33", 
            "text": "Weighteds is an array of [ DataSeries ][1] that contains all [ Weighted ] data series.  The array is only of value for indicators and strategies that use data from multiple timeframes.  A new entry is added to the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Weighteds[0] the weighted data series of the chart timeframe\nWeighteds[1] the weighted data series of all bars in a daily timeframe\nWeighteds[2] the weighted data series of all bars in a weekly timeframe  Weighteds[0][0] is equivalent to Weighteds[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_27", 
            "text": "barsAgo Index value of the individual bars within a data series\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_30", 
            "text": "Weighteds[ int  barSeriesIndex]  Weighteds[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_29", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_29", 
            "text": "See example under [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#time", 
            "text": "", 
            "title": "Time"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_34", 
            "text": "Time is a [ DataSeries ][ Data series ] of the type [ DateTimeSeries ], in which the timestamps of the individual bars are saved.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_28", 
            "text": "barsAgo Index value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_31", 
            "text": "Time  Time[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_30", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_30", 
            "text": "// Timestamp of the current period  Print (Time[0]);  // Timestamp of the bar from 5 periods ago  Print (Time[5]);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#times", 
            "text": "", 
            "title": "Times"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_35", 
            "text": "Times is an array of  DataSeries  that contains all [ Time ] data series.  This array is only of value to indicators and strategies that make use of multiple timeframes.\nA new entry is added to the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Times[0] the time data series of the chart timeframe\nTimes[1] the time data series of all bars in a daily timeframe\nTimes[2] the time data series of all bars in a weekly timeframe  Times[0][0] is equivalent to Times[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_29", 
            "text": "barsAgo Index value for the individual bars within a data series\nbarSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_32", 
            "text": "Times[ int  barSeriesIndex]  Times[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_31", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_31", 
            "text": "See example [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#volume", 
            "text": "", 
            "title": "Volume"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_36", 
            "text": "Volume is a [ DataSeries ][ Data series ] of the type [ DataSeries ], in which the historical volume information is saved.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_30", 
            "text": "barsAgo Index value (see [ Bars ])", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_33", 
            "text": "Volume  Volume[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_32", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].  The value returned by the [ VOL() ] indicator is identical with the volume described here;\nfor example, Vol()[3] will have the same value as Volume[3].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_32", 
            "text": "// Volume for the current period  Print (Time[0] + \" \" + Volume[0]);  // Volume of the bar from 5 periods ago  Print (Time[5] + \" \" + Volume[5]);  // Current value for the SMA 14 calculated using the volume  Print (\"SMA(14) calculated using the volume: \" + Instrument. Round2TickSize ( SMA (Volume, 14)[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#volumes", 
            "text": "", 
            "title": "Volumes"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_37", 
            "text": "Volumes is an array of  DataSeries  that contains all [ Volume ] data series.  This array is only of value for indicators or strategies that use data from multiple timeframes.  A new entry is added to the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  Volumes[0] the volume data series of the chart timeframe\nVolumes[1] the volume data series of all bars in the daily timeframe\nVolumes[2] the volume data series of all bars in the weekly timeframe  Volumes[0][0] is equivalent to Volumes[0].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_31", 
            "text": "barsAgo Index value of the individual bars within a data series  barSeriesIndex Index value of the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_34", 
            "text": "Volumes[ int  barSeriesIndex]  Volumes[ int  barSeriesIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_33", 
            "text": "The returned value is dependent upon the property [ CalculateOnBarClose ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_33", 
            "text": "See example [ Multibars ][ MultiBars ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instruments", 
            "text": "The term \"instrument\" denotes a tradable value such as a stock, ETF, future etc.  An instrument has various properties that can be used in AgenaScripts created by the user:  Instrument.Compare  Instrument.Currency  Instrument.Digits  Instrument.ETF  Instrument.Exchange  Instrument.Expiry  Instrument.InstrumentType  Instrument.Name  Instrument.PointValue  Instrument.Round2TickSize  Instrument.Symbol  Instrument.TickSize  With the  OnBarUpdate()  method you can use any properties you wish without having to test for a null reference.\nAs soon as the  OnBarUpdate()  function is called up by AgenaScript, an object will become available. If you wish to use these properties outside of  OnBarUpdate() , you should first perform a test for null references using  if  (Bars !=  null )", 
            "title": "Instruments"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentcompare", 
            "text": "", 
            "title": "Instrument.Compare"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_38", 
            "text": "The Instrument.Compare function compares two market prices whilst taking into account the correct number of decimal points. The smallest possible price change is displayed by the value TickSize. This function simplifies the otherwise time-consuming comparison using floating-point operations.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_32", 
            "text": "double value1\ndouble value2", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_18", 
            "text": "Type int  1 - Value1 is bigger than value2\n-1 - Value1 is smaller than value2\n0 - Value1 and value2 are equal", 
            "title": "Return value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_35", 
            "text": "Instrument. Compare ( double  Value1,  double  Value2)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_34", 
            "text": "If the tick size is 0,00001 \u2013 as it usually is with FX values \u2013 then the following will be displayed:  Compare(2, 1.99999) a 1, meaning 2 is bigger than 1.99999\nCompare(2, 2.000001) a 0, meaning the values are equal\nCompare(2, 1.999999) a 0, meaning the values are equal\nCompare(2, 2.00001) a -1, meaning 2 is smaller than 2.00001", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_34", 
            "text": "Print (Instrument. Compare (2, 1.999999));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentcurrency", 
            "text": "", 
            "title": "Instrument.Currency"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_39", 
            "text": "Instrument.Currency outputs a currency object that contains the corresponding currency in which the instrument is traded.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_33", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_19", 
            "text": "A constant of the type \u201cpublic enum currencies\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_36", 
            "text": "Instrument.Currency", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_35", 
            "text": "The common currencies are: AUD, CAD, EUR, GBP, JPY or USD.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_35", 
            "text": "Print (Instrument.Name + \" is traded in \" + Instrument.Currency", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentdigits", 
            "text": "", 
            "title": "Instrument.Digits"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_40", 
            "text": "Instrument.Digits outputs the number of decimal points in which the market price of the instrument is traded.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_34", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_20", 
            "text": "int Digits", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_37", 
            "text": "Instrument.Digits", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_36", 
            "text": "Stocks are usually traded to two decimal points. Forex can be traded (depending on the data provider) with 4 or 5 decimal places.  This function is especially useful when formatting the output of various instruments that need rounding. Also see [ TickSize ] and [ Instrument.Round2Ticks ][ Instrument.Round2TickSize ].  More information can be found here: [ Formatting of Numbers ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_36", 
            "text": "Print (\"The value of \" +Instrument.Name + \" is noted with a precision of \" + Instrument.Digits +\" Decimal points.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentetf", 
            "text": "", 
            "title": "Instrument.ETF"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_41", 
            "text": "Instrument.ETF is used to differentiate between a stock and an ETF. This is necessary since ETFs are considered to be \u201estocks\u201c by some exchanges.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_35", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_21", 
            "text": "Type bool", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_38", 
            "text": "Instrument.ETF", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_37", 
            "text": "What is an ETF?  Wikipedia: [ http://de.wikipedia.org/wiki/Exchange-traded_fund ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_37", 
            "text": "if  (Instrument.InstrumentType == InstrumentType.Stock)  if  (Instrument.ETF)  Print (\"The value is an ETF.\");  else  Print (\"The value is a stock.\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentexchange", 
            "text": "", 
            "title": "Instrument.Exchange"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_42", 
            "text": "Instrument.Exchange outputs the description/definition of the current exchange for the current instrument.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_36", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_22", 
            "text": "An exchange object of the type \u201cpublic enum exchanges\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_39", 
            "text": "Instrument.Exchange", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_38", 
            "text": "An overview of various exchange:  https://en.wikipedia.org/wiki/List_of_stock_exchanges  Example  Print (\"The instrument \" + Instrument.Name +\" is traded on the \" + Instrument.Exchange + \" exchange.\");", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentexpiry", 
            "text": "", 
            "title": "Instrument.Expiry"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_43", 
            "text": "Instrument.Expiry outputs the date (month and year) of the expiry of a financial instrument. Only derivative instruments such as options or futures will have an expiry date.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_37", 
            "text": "None", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_23", 
            "text": "Type DateTime  For instruments without an expiry date the returned value is set to DateTime.MaxValue(= 31.12.9999 23.59:59)", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_40", 
            "text": "Instrument.Expiry", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_39", 
            "text": "The expiry date (expiry) can also be seen within the Instrument Escort:", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_38", 
            "text": "Print (\"The instrument \" + Instrument.Name +\" will expire on \" + Instrument.Expiry);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentinstrumenttype", 
            "text": "", 
            "title": "Instrument.InstrumentType"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_44", 
            "text": "Instrument.InstrumentType outputs a type object of the trading instrument.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_38", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_24", 
            "text": "Object of the type \u201cpublic enum instrument\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_41", 
            "text": "Instrument.InstrumentType", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_40", 
            "text": "Potential values are: future, stock, index, currency, option, CFD and unknown.  There is no ETF type. ETFs are considered to be of the type \u201cstock\u201d \u2013 see [ Instrument.ETF ].  The instrument type can also be viewed within the Instrument Escort:", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_39", 
            "text": "Print (\"The instrument \" + Instrument.Name + \" is of the type \" + Instrument.InstrumentType);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentname", 
            "text": "", 
            "title": "Instrument.Name"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_45", 
            "text": "Instrument.Name outputs the name/description of the trading instrument.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_39", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_25", 
            "text": "Type string", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_42", 
            "text": "Instrument.Name", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_41", 
            "text": "The instrument name can also be seen within the Instrument Escort:", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_40", 
            "text": "Print (\"The currently loaded instrument inside the chart is named \" + Instrument.Name);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentpointvalue", 
            "text": "", 
            "title": "Instrument.PointValue"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_46", 
            "text": "Instrument.PointValue outputs the monetary value for a full point movement of the instrument.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_40", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_26", 
            "text": "double \u2013 point value", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_43", 
            "text": "Instrument.PointValue", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_42", 
            "text": "Example for various point values  (per amount, CFD, futures contract, lot etc.)  Stock: generally 1.00 Euro or 1.00 USD.\nEUR/USD: 100,000 USD\nDAX future: 25.00 Euro  Tick Value  The tick value can be calculated by multiplying the point value with the tick size.  For example, the E-mini S P 500 has a point value of $50. The tick size equals 0.25. This means that there are 4 ticks in one full point for the E-mini S P 500.\nSince 50 * 0.25 = 50/4 this means that the tick value is $12.50.  The point value can also be viewed within the Instrument Escort:", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_41", 
            "text": "Print (\"When \" + Instrument.Name + \" rises for one full point then this is equal to \" + Instrument.PointValue + \" \" + Instrument.Currency);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentround2ticksize", 
            "text": "", 
            "title": "Instrument.Round2TickSize"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_47", 
            "text": "The function Instrument.Round2TickSize rounds the supplied market price to the smallest value divisible by the tick size of the instrument.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_41", 
            "text": "double \u2013 market value", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_27", 
            "text": "double", 
            "title": "Return value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_44", 
            "text": "Instrument. Round2TickSize ( double  MarketPrice)", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_43", 
            "text": "The number of decimal places to which the price is rounded depends on the instrument.\nIf, for example, an instrument is a stock, then the rounding will be performed to 2 decimal places. For a Forex instrument, it may be carried out to 4 or 5 decimal places.  See [ TickSize ] and [ Instrument.Digits ].  Example of professional [ Formatting ][ Formatting of Numbers ].", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_42", 
            "text": "double  Price = 12.3456789;  Print (Price + \" rounded for a \" + Instrument.Name + \" valid value is \" + Instrument. Round2TickSize (Price));", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentsymbol", 
            "text": "", 
            "title": "Instrument.Symbol"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_48", 
            "text": "Instrument.Symbol outputs the symbol that identifies the trading instrument within AgenaTrader. Depending on the symbol, the mappings for the various data feed providers and brokers will be managed in different ways.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_42", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_28", 
            "text": "Type string", 
            "title": "Return value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_45", 
            "text": "Instrument.Symbol", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_44", 
            "text": "By using symbols, identical stocks being traded on different exchanges can be identified and separated from each other. The symbol BMW.DE is the BMW stock on the XETRA exchange. BMW.CFG is the CFD for the BMW stock.  The instrument symbol can also be viewed within the Instrument Escort:", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_43", 
            "text": "Print (\"The instrument currently loaded within the chart has the symbol: \" + Instrument.Symbol);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#instrumentticksize", 
            "text": "", 
            "title": "Instrument.TickSize"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_49", 
            "text": "The tick size is the smallest measurable unit that a financial instrument can move. This is usually called 1 tick.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_43", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#return-value_29", 
            "text": "double", 
            "title": "Return Value"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_46", 
            "text": "Instrument.TickSize or simply TickSize", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_45", 
            "text": "The keyword [ TickSize ] is equivalent to Instrument.TickSize. Both information requests will produce the same value and are thus interchangeable.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_44", 
            "text": "Stock: 0.01\nES future: 0.25\nEUR/USD: 0.00001  See [ Instrument.PointValue ] and [ Instrument.Digits ].  Examples of professional [ Formatting ][ Formatting of Numbers ].", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_45", 
            "text": "Print (\"The value of \" + Instrument.Name + \" can change for a minimum of \" + Instrument.TickSize + \" Tick(s).\");", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#collections", 
            "text": "", 
            "title": "Collections"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#drawobjects", 
            "text": "", 
            "title": "DrawObjects"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_50", 
            "text": "DrawObjects is a collection containing all drawing objects within the chart. The property hold all drawings which were generated by the script.\nThe index for DrawObjects is the explicit name for the drawing object (string tag).", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_47", 
            "text": "DrawObjects [string tag]  Example \nNote:  To be able to use the interface definitions you must use the using method.  using  AgenaTrader.Plugins;  // Output number of drawing objects within the chart and their tags  Print (\"The chart contains \" + DrawObjects.Count + \" drawing objects.\");  for each  (IDrawObject draw  in  DrawObjects)  Print (draw.Tag);  //Draw a black trend line...  DrawLine (\"MyLine\",  true , 10, Close[10], 0, Close[0], Color.Black, DashStyle.Solid, 3);  // ... and change the color to red  ITrendLine line = (ITrendLine) DrawObjects[\"MyLine\"];  if  (line !=  null ) line.Pen.Color = Color.Red;  // Set all lines within the chart to a line strength of 3,  // and lock it so that it cannot be edited or moved  foreach  (IDrawObject draw  in  DrawObjects)  if  (draw  is  IVerticalLine)  {  IVerticalLine vline = (IVerticalLine) draw;  vline.Locked =  true ;  vline.Editable =  false ;  vline.Pen.Width = 3;  }", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#input", 
            "text": "", 
            "title": "Input"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_51", 
            "text": "Input is a [ DataSeries ] object in which the input data for an indicator or strategy is stored.  If the indicator is used without any explicit instructions for the input data, then the closing price for the current market prices will be used.  When calling up the SMA(20) the smoothing average is calculated on the basis of the closing prices for the current chart price data (this is equivalent to SMA(close,20).  Input[0] = Close[0].  When calling up the SMA(high, 20) the high price values are loaded and used for the calculation of the smoothing average.  Input[0] = High[0].  This way you can select which data series should be used for the calculation of the indicator.  double  d =  RSI ( SMA (20), 14, 3)[0]; calculates the 14 period RSI using the SMA(20) as the input data series.\nInput[0] = SMA(20)[0].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_48", 
            "text": "Input  Input[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_46", 
            "text": "Print (\"The input data for the indicators are \" + Input[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#lines", 
            "text": "", 
            "title": "Lines"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_52", 
            "text": "Lines is a collection that contains all [ Line ] objects of an indicator.  When a line object is added to the indicator using the [ Add() ] method, this line is automatically added to the \u201clines\u201d collection.  The order of the add commands determines how these lines are sorted. The first information request of Add() will create Lines[0], the next information request will be Lines[1] etc.  See [ Plots ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_49", 
            "text": "Lines[ int  index]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_47", 
            "text": "// Add \"using System.Drawing.Drawing2D;\" for DashStyle  protected  override void  Initialize()  {  Add ( new Line (Color.Blue, 70, \"Upper\")); // saves into Lines[0]  Add ( new Line (Color.Blue, 30, \"Lower\")); // saves into Lines[1]  }  protected  override void  OnBarUpdate()  {  // When the RSI is above 70, properties of the lines will be changed  if  ( RSI (14 ,3)  = 70)  {   Lines[0].Width = 3;  Lines[0].Color = Color.Red;  Lines[0].DashStyle = DashStyle.Dot;   }  else  {   Lines[0].Width = 1;  Lines[0].Color = Color.Blue;  Lines[0].DashStyle = DashStyle.Solid;   }  }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#plotcolors", 
            "text": "", 
            "title": "PlotColors"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_53", 
            "text": "PlotColors is a collection that contains all color series of all plot objects.  When a plot is added using the [ Add() ] method it automatically creates a color series object and is added to the PlotColors collection.  The order of the add commands determines how the plot colors are sorted. The first information request of Add() will create PlotColors[0], the following information request will create PlotColors[1] etc.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_50", 
            "text": "PlotColors[ int  PlotIndex][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_46", 
            "text": "More information regarding the collection class:\n[ http://msdn.microsoft.com/en-us/library/ybcx56wz%28v=vs.80%29.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_48", 
            "text": "using  System;  using  System.Collections.Generic;  using  System.ComponentModel;  using  System.Drawing;  using  AgenaTrader.API;  namespace  AgenaTrader.UserCode  {  [ Description (\"PlotColor Demo\")]  public  class PlotColorsDemo : UserIndicator  {  public  DataSeries SMA20 { get {return Values[0];} }  public  DataSeries SMA50 { get {return Values[1];} }  public  DataSeries SMA100 { get {return Values[2];} }  private  Pen pen;  protected  override void  Initialize()  {  // Set line strength (width) to 4  pen =  new Pen (Color.Empty, 4);  // Add three plots with the defined line strength to the chart  Add ( new Plot (pen, PlotStyle.Line, \"SMA20\" )); //attached to PlotColors[0]  Add ( new Plot (pen, PlotStyle.Line, \"SMA50\" )); //attached to PlotColors[1]  Add ( new Plot (pen, PlotStyle.Line, \"SMA100\")); //attached to PlotColors[2]  Overlay =  true ;  }  protected  override void  OnBarUpdate()  {  // Add values to the three plots  SMA20. Set  ( SMA (20) [0]);  SMA50. Set  ( SMA (50) [0]);  SMA100. Set ( SMA (100)[0]);  // Change colors depending on the trend  if  ( Rising (Close))  {  PlotColors[0][0] = Color.LightGreen;  PlotColors[1][0] = Color.Green;  PlotColors[2][0] = Color.DarkGreen;  }  else if  ( Falling (Close))  {  PlotColors[0][0] = Color.LightSalmon;  PlotColors[1][0] = Color.Red;  PlotColors[2][0] = Color.DarkRed;  }  else  {  PlotColors[0][0] = Color.LightGray;  PlotColors[1][0] = Color.Gray;  PlotColors[2][0] = Color.DarkGray;  }  }  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#plots", 
            "text": "", 
            "title": "Plots"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_54", 
            "text": "Plots is a collection that contains the plot objects of an indicator.  When a plot object is added to an indicator using the Add() method, it is also automatically added to the \u201cplots\u201d collection.  The order of the add commands determines how the plots are sorted. The first Add() information request will create Plots[0], the following information request will create Plots[1] etc.  See [ Lines ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_51", 
            "text": "Plots[ int  index]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_49", 
            "text": "protected  override void  Initialize()  {  Add ( new Plot (Color.Blue, \"MySMA 20\")); // saved to Plots[0]  }  protected  override void  OnBarUpdate()  {  Value. Set ( SMA (20)[0]);  // If the market price is above the SMA colorize it green, otherwise red  if  (Close[0]    SMA (20)[0])   Plots[0].PlotColor = Color.Green;   else   Plots[0].PlotColor = Color.Red;   }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#values", 
            "text": "", 
            "title": "Values"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_55", 
            "text": "Values is a collection that contains the data series objects of an indicator.  When a plot is added to an indicator using the Add() method, a value object is automatically created and added to the \u201cvalues\u201d collection.  The order of the add commands determines how the values are sorted. The first information request will create Values[0], the next information request will create Values[1] etc.  Value  is always identical to Values[0].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_52", 
            "text": "Values[ int  index]  Values[ int  index][ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_47", 
            "text": "The methods known for a collection, Set() Reset() and Count(), are applicable for values.  Information on the class collection:\n[ http://msdn.microsoft.com/en-us/library/ybcx56wz%28v=vs.80%29.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_50", 
            "text": "// Check the second indicator value of one bar ago and set the value of the current indicator value based on it.  if  (Values[1][1]   High[0] - Low[0])  Value. Set (High[0] - Low[0]);  else  Value. Set (High[0] - Close[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#multibars", 
            "text": "", 
            "title": "Multibars"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_56", 
            "text": "An indicator or a strategy will always have the same underlying timeframe-units as those units being displayed within the chart. The values of an SMA(14) indicator displayed in a 5 minute chart will be calculated based on the last fourteen 5 minute bars. A daily chart, on the other hand, would use the closing prices of the past 14 days in order to calculate this value.\nThe same method applies for your self-programmed indicators. A 5 minute chart will call up the [ OnBarUpdate() ] for each 5 minute bar.\nIf you want your self-created indicator to use a different timeframe, this is possible using multibars.", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_51", 
            "text": "using  System;  using  System.Collections.Generic;  using  System.ComponentModel;  using  System.Drawing;  using  System.Linq;  using  System.Xml;  using  System.Xml.Serialization;  using  AgenaTrader.API;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  using  AgenaTrader.Helper;  namespace  AgenaTrader.UserCode  {  [ Description (\"Multibar Demo\")]  // The indicator requires daily and weekly data  [ TimeFrameRequirements (\"1 Day\", \"1 Week\")]  public  class MultiBarDemo : UserIndicator  {  protected  override void  InitRequirements()   {  Add (DatafeedHistoryPeriodicity.Day, 1);  Add (DatafeedHistoryPeriodicity.Week, 1);  }  protected  override void  Initialize()   {  CalculateOnBarClose =  true ;  }  protected  override void  OnBarUpdate()  {  // The current value for the SMA 14 in a daily timeframe  Print ( SMA (Closes[1], 14)[0]);  // Current value for the SMA 14 in a weekly timeframe  Print ( SMA (Closes[2], 14)[0]);  }  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#additional-notes", 
            "text": "When using additional timeframes, a further entry with the respective data series for the bars of the new timeframe will be added to the arrays [ Opens ], [ Highs ], [ Lows ], [ Closes ], [ Medians ], [ Typicals ], [ Weighteds ], [ Times ] and [ Volumes ]. The indexing will occur in the order of the addition of the new timeframes.\nCloses[0][0] is equivalent to Close[0].\nCloses[1][0] equals the current closing price for the daily data series\nCloses[2][0] equals the current closing price for the weekly data series  \"Closes\" is, of course, interchangeable with Opens, Highs, Lows etc.  See [ CurrentBars ], [ BarsInProgress ], [ TimeFrames ], [ TimeFrameRequirements ].  Additional syntax methods are available for multibars:  // Declare the variable TF_DAY and define it  private  static readonly TimeFrame TF_Day =  new TimeFrame (DatafeedHistoryPeriodicity.Day, 1);  private  static readonly TimeFrame TF_Week =  new TimeFrame (DatafeedHistoryPeriodicity.Week, 1);  // The following instruction is identical to double d = Closes[1][0];  double  d = MultiBars. GetBarsItem (TF_Day).Close[0];  // The following instruction is identical to double w = Closes[2][0];  double  w = MultiBars. GetBarsItem (TF_Week).Close[0];", 
            "title": "Additional Notes"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#currentbars", 
            "text": "", 
            "title": "CurrentBars"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_57", 
            "text": "CurrentBars is an array of int values that contains the number of  [CurrentBar]s  for each bar.  This array is only of value for indicators or strategies that use data from multiple timeframes.  A new entry is added to the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  CurrentBars[0] Current bar for the primary data series (chart timeframe)\nCurrentBars[1] Current bar for the daily bars\nCurrentBars[2] Current bar for the weekly bars  CurrentBars[0] is equivalent to [ CurrentBar ][CurrentBar].  Also see [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_44", 
            "text": "barSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_53", 
            "text": "CurrentBars[ int  barSeriesIndex]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_52", 
            "text": "//Ensure that a minimum of 20 bars is loaded  for  ( int  i=0; i CurrentBars.Count; i++)  if  (CurrentBars[i]   20) return;", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#barsinprogress", 
            "text": "", 
            "title": "BarsInProgress"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_58", 
            "text": "Within a multibars script, multiple bars objects are available. The OnBarUpdate() method\nwill therefore also be called up for every bar within your script. In order to include/exclude events of specific data series, you can use the BarsInProgress method.  BarsInProgress is only of value for indicators or strategies that use data from multiple timeframes.\nWith  [TimeFrameRequirements(\"1 Day\", \"1 Week\")]  two timeframes will be added to the primary chart timeframe.  If OnBarUpdate() is called up by the primary data series, then BarsInProgress will equal zero. If OnBarUpdate() is called up by the daily bars, then BarsInProgress will equal 1. Weekly bars will have a value of 2.  See [ Multibars ][ MultiBars ] and [ CurrentBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_45", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_54", 
            "text": "BarsInProgress", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#more-information_48", 
            "text": "Within a script that only works with primary timeframes, the value will always equal zero.", 
            "title": "More Information"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_53", 
            "text": "// To demonstrate the methodology  // set CalculateOnBarClose=false  Print (Time[0] + \" \" + BarsInProgress);  // Calculate only for the chart timeframe  protected  override void  OnBarUpdate()  {  if  (BarsInProgress   0) return;  // Logic for the primary data series  }", 
            "title": "Example"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#timeframes", 
            "text": "", 
            "title": "TimeFrames"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#description_59", 
            "text": "TimeFrames is an array of timeframe objects that contains a timeframe object for each individual bar object.  This array is only of value for indicators or strategies that use data from multiple timeframes.  A new entry is added to the array whenever a new timeframe is added to an indicator or strategy.  With  [TimeFrameRequirements((\"1 Day\"), (\"1 Week\"))]  the array will contain 3 entries:  TimeFrames [0] Timeframe of the primary data series (chart timeframe)\nTimeFrames [1]  Print (TimeFrames[1]); // returns \"1 Day\"\nTimeFrames [2]  Print (TimeFrames[2]); // returns \"1 Week\"  TimeFrames [0] is equivalent to [ TimeFrame ].  See [ MultiBars ].", 
            "title": "Description"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#parameter_46", 
            "text": "barSeriesIndex Index value for the various timeframes", 
            "title": "Parameter"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#usage_55", 
            "text": "TimeFrames [ int  barSeriesIndex]", 
            "title": "Usage"
        }, 
        {
            "location": "/handling_bars_and_instruments/handling_bars_and_instruments/#example_54", 
            "text": "if  (BarsInProgress == 0   CurrentBar == 0)  for  ( int  i = BarsArray.Count-1; i  = 0; i--)   Print (\"The Indicator \" +  this .Name + \" uses Bars of the Timeframe \" + TimeFrames[i]);", 
            "title": "Example"
        }, 
        {
            "location": "/events/", 
            "text": "Events\n\n\nAgenaTrader is an \nevent-oriented\n application by definition.\n\n\nProgramming in AgenaTrader using the various application programming interface ([\nAPI\n]) methods is based initially on the [\nOverwriting\n] of routines predefined for event handling.\n\n\nThe following methods can be used and therefore overwritten:\n\n\n\n\n[\nOnBarUpdate()\n]\n\n\n[\nOnExecution()\n]\n\n\n[\nOnMarketData()\n]\n\n\n[\nOnMarketDepth()\n]\n\n\n[\nOnOrderUpdate()\n]\n\n\n[\nOnStartUp()\n]\n\n\n[\nOnTermination()\n]\n\n\n\n\nOnBarUpdate()\n\n\nDescription\n\n\nThe OnBarUpdate() method is called up whenever a bar changes; depending on the variables of \nCalculateOnBarClose\n, this will happen upon every incoming tick or when the bar has completed/closed.\nOnBarUpdate is the most important method and also, in most cases, contains the largest chunk of code for your self-created indicators or strategies.\nThe editing begins with the oldest bar and goes up to the newest bar within the chart. The oldest bar has the number 0. The indexing and numbering will continue to happen; in order to obtain the numbering of the bars you can use the current bar variable. You can see an example illustrating this below.\n\n\nCaution: the numbering/indexing is different from the bar index \u2013 see \nBars\n.\n\n\nMore information can be found here: \nEvents\n.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nnone\n\n\nUsage\n\n\nprotected override void OnBarUpdate()\n\n\n\n\nExample\n\n\nprotected override void OnBarUpdate()\n{\n    Print(\nCalling of OnBarUpdate for the bar number \n + CurrentBar + \n from \n +Time\\[0\\]);\n}\n\n\n\n\nOnExecution()\n\n\nDescription\n\n\nThe OnExecution() method is called up when an order is executed (filled).\nThe status of a strategy can be changed by a strategy-managed order. This status change can be initiated by the changing of a volume, price or the status of the exchange (from \u201cworking\u201d to \u201cfilled\u201d). It is guaranteed that this method will be called up in the correct order for all events.\n\n\nOnExecution() will always be executed AFTER [\nOnOrderUpdate()\n].\n\n\nMore information can be found here: [\nEvents\n]\n\n\nParameter\n\n\nAn execution object of the type IExecution\n\n\nReturn Value\n\n\nnone\n\n\nUsage\n\n\nprotected override void OnExecution(IExecution execution)\n````\n\n### Example\n```cs\nprivate IOrder entryOrder = null;\n\nprotected override void OnBarUpdate()\n{\n    if (entryOrder == null \n Close[0] \n Open[0])\n    entryOrder = EnterLong();\n}\n\nprotected override void OnExecution(IExecution execution)\n{\n    // Example 1\n    if (entryOrder != null \n execution.Order == entryOrder)\n    Print(execution.ToString());\n\n    // Example 2\n    if (execution.Order != null \n execution.Order.OrderState == OrderState.Filled)\n    Print(execution.ToString());\n}\n\n\n\n\nOnMarketData()\n\n\nDescription\n\n\nThe OnMarketData() method is called up when a change in level 1 data has occurred, meaning whenever there is a change in the bid price, ask price, bid volume, or ask volume, and of course in the last price after a real turnover has occurred.\nIn a multibar indicator, the BarsInProgress method identifies the data series that was used for an information request for OnMarketData().\nOnMarketData() will not be called up for historical data.\nMore information can be found here: \nEvents\n.\n\n\nNotes regarding data from Yahoo (YFeed)\n\n\nThe field \"LastPrice\" equals \u2013 as usual \u2013 either the bid price or the ask price, depending on the last revenue turnover.\n\n\nThe \u201eMarketDataType\u201c field always equals the \u201elast\" value\n\n\nThe fields \"Volume\", \"BidSize\" and \"AskSize\" are always 0.\n\n\nUsage\n\n\nprotected override void OnMarketData(MarketDataEventArgs e)\n\n\n\n\nReturn Value\n\n\nnone\n\n\nParameter\n\n\n[\nMarketDataEventArgs\n] e\n\n\nExample\n\n\nprotected override void OnMarketData(MarketDataEventArgs e)\n{\n    Print(\nAskPrice \n+e.AskPrice);\n    Print(\nAskSize \n+e.AskSize);\n    Print(\nBidPrice \n+e.BidPrice);\n    Print(\nBidSize \n+e.BidSize);\n    Print(\nInstrument \n+e.Instrument);\n    Print(\nLastPrice \n+e.LastPrice);\n    Print(\nMarketDataType \n+e.MarketDataType);\n    Print(\nPrice \n+e.Price);\n    Print(\nTime \n+e.Time);\n    Print(\nVolume \n+e.Volume);\n}\n\n\n\n\nOnMarketDepth()\n\n\nDescription\n\n\nThe OnMarketDepth() method is called up whenever there is a change in the level 2 data (market depth).\nIn a multibar indicator, the BarsInProgress method identifies the data series for which the OnMarketDepth() method is called up.\nOnMarketDepth is not called up for historical data.\n\n\nMore information can be found here: \nEvents\n.\n\n\nUsage\n\n\nprotected override void OnMarketDepth(MarketDepthEventArgs e)\n\n\n\n\nReturn Value\n\n\nnone\n\n\nParameter\n\n\n[\nMarketDepthEventArgs\n] e\n\n\nExample\n\n\nprotected override void OnMarketDepth(MarketDepthEventArgs e)\n{\n    // Output for the current ask price\n    if (e.MarketDataType == MarketDataType.Ask \n e.Operation == Operation.Update)\n    Print(\"The current ask is + e.Price + \" \" + e.Volume);\n}\n\n\nOnOrderUpdate()\n\n\nDescription\n\n\nThe OnOrderUpdate() method is called up whenever the status is changed by a strategy-managed order.\nA status change can therefore occur due to a change in the volume, price or status of the exchange (from \u201cworking\u201d to \u201cfilled\u201d). It is guaranteed that this method will be called up in the correct order for the relevant events.\n\n\nImportant note:\n\nIf a strategy is to be controlled by order executions, we highly recommend that you use OnExecution() instead of OnOrderUpdate(). Otherwise there may be problems with partial executions.\n\n\nMore information can be found here: [\nEvents\n].\n\n\nParameter\n\n\nAn order object of the type IOrder\n\n\nReturn Value\n\n\nNone\n\n\nUsage\n\n\nprotected override void OnOrderUpdate(IOrder order)\n\n\n\n\nExample\n\n\n\nprivate IOrder entryOrder = null;\n\nprotected override void OnBarUpdate()\n{\n    if (entryOrder == null \n Close[0] \ngt; Open\\[0\\])\n    entryOrder = EnterLong();\n}\n\nprotected override void OnOrderUpdate(IOrder order)\n{\n    if (entryOrder != null \n entryOrder == order)\n    {\n        Print(order.ToString());\n        if (order.OrderState == OrderState.Cancelled)\n        {\n        Print(\nOrder was canceled.\n);\n        entryOrder = null;\n        }\n\n    }\n}\n\n\n\n\nOnStartUp()\n\n\nDescription\n\n\nThe OnStartUp() method can be overridden to initialize your own variables, perform license checks or call up user forms etc.\nOnStartUp() is only called up once at the beginning of the script, after [\nInitialize()\n] and before [\nOnBarUpdate()\n] are called up.\n\n\nSee [\nOnTermination()\n].\n\n\nMore information can be found here: [\nEvents\n] .\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nnone\n\n\nUsage\n\n\nprotected override void OnStartUp()\n\n\n\n\nExample\n\n\nprivate myForm Window;\n\nprotected override void OnStartUp()\n{\n    if (ChartControl != null)\n    {\n    Window = new myForm();\n    Window.Show();\n    }\n}\n\n\n\n\nOnTermination()\n\n\nDescription\n\n\nThe OnTermination() method can also be overridden in order to once again free up all the resources used in the script.\n\n\nSee \nInitialize()\n and \nOnStartUp()\n.\n\n\nMore information can be found here: \nEvents\n.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nnone\n\n\nUsage\n\n\nprotected override void OnTermination()\n\n\n\n\nMore Information\n\n\nCaution:\n\n\nPlease do not override the Dispose() method since this can only be used much later within the script. This would lead to resources being used and held for an extended period and thus potentially causing unexpected consequences for the entire application.\n\n\nExample\n\n\nprotected override void OnTermination()\n{\n    if (Window != null)\n    {\n        Window.Dispose();\n        Window = null;\n    }\n}", 
            "title": "Events"
        }, 
        {
            "location": "/events/#events", 
            "text": "AgenaTrader is an  event-oriented  application by definition.  Programming in AgenaTrader using the various application programming interface ([ API ]) methods is based initially on the [ Overwriting ] of routines predefined for event handling.  The following methods can be used and therefore overwritten:   [ OnBarUpdate() ]  [ OnExecution() ]  [ OnMarketData() ]  [ OnMarketDepth() ]  [ OnOrderUpdate() ]  [ OnStartUp() ]  [ OnTermination() ]", 
            "title": "Events"
        }, 
        {
            "location": "/events/#onbarupdate", 
            "text": "", 
            "title": "OnBarUpdate()"
        }, 
        {
            "location": "/events/#description", 
            "text": "The OnBarUpdate() method is called up whenever a bar changes; depending on the variables of  CalculateOnBarClose , this will happen upon every incoming tick or when the bar has completed/closed.\nOnBarUpdate is the most important method and also, in most cases, contains the largest chunk of code for your self-created indicators or strategies.\nThe editing begins with the oldest bar and goes up to the newest bar within the chart. The oldest bar has the number 0. The indexing and numbering will continue to happen; in order to obtain the numbering of the bars you can use the current bar variable. You can see an example illustrating this below.  Caution: the numbering/indexing is different from the bar index \u2013 see  Bars .  More information can be found here:  Events .", 
            "title": "Description"
        }, 
        {
            "location": "/events/#parameter", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#return-value", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#usage", 
            "text": "protected override void OnBarUpdate()", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#example", 
            "text": "protected override void OnBarUpdate()\n{\n    Print( Calling of OnBarUpdate for the bar number   + CurrentBar +   from   +Time\\[0\\]);\n}", 
            "title": "Example"
        }, 
        {
            "location": "/events/#onexecution", 
            "text": "", 
            "title": "OnExecution()"
        }, 
        {
            "location": "/events/#description_1", 
            "text": "The OnExecution() method is called up when an order is executed (filled).\nThe status of a strategy can be changed by a strategy-managed order. This status change can be initiated by the changing of a volume, price or the status of the exchange (from \u201cworking\u201d to \u201cfilled\u201d). It is guaranteed that this method will be called up in the correct order for all events.  OnExecution() will always be executed AFTER [ OnOrderUpdate() ].  More information can be found here: [ Events ]", 
            "title": "Description"
        }, 
        {
            "location": "/events/#parameter_1", 
            "text": "An execution object of the type IExecution", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#return-value_1", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#usage_1", 
            "text": "protected override void OnExecution(IExecution execution)\n````\n\n### Example\n```cs\nprivate IOrder entryOrder = null;\n\nprotected override void OnBarUpdate()\n{\n    if (entryOrder == null   Close[0]   Open[0])\n    entryOrder = EnterLong();\n}\n\nprotected override void OnExecution(IExecution execution)\n{\n    // Example 1\n    if (entryOrder != null   execution.Order == entryOrder)\n    Print(execution.ToString());\n\n    // Example 2\n    if (execution.Order != null   execution.Order.OrderState == OrderState.Filled)\n    Print(execution.ToString());\n}", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#onmarketdata", 
            "text": "", 
            "title": "OnMarketData()"
        }, 
        {
            "location": "/events/#description_2", 
            "text": "The OnMarketData() method is called up when a change in level 1 data has occurred, meaning whenever there is a change in the bid price, ask price, bid volume, or ask volume, and of course in the last price after a real turnover has occurred.\nIn a multibar indicator, the BarsInProgress method identifies the data series that was used for an information request for OnMarketData().\nOnMarketData() will not be called up for historical data.\nMore information can be found here:  Events .  Notes regarding data from Yahoo (YFeed)  The field \"LastPrice\" equals \u2013 as usual \u2013 either the bid price or the ask price, depending on the last revenue turnover.  The \u201eMarketDataType\u201c field always equals the \u201elast\" value  The fields \"Volume\", \"BidSize\" and \"AskSize\" are always 0.", 
            "title": "Description"
        }, 
        {
            "location": "/events/#usage_2", 
            "text": "protected override void OnMarketData(MarketDataEventArgs e)", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#return-value_2", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#parameter_2", 
            "text": "[ MarketDataEventArgs ] e", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#example_1", 
            "text": "protected override void OnMarketData(MarketDataEventArgs e)\n{\n    Print( AskPrice  +e.AskPrice);\n    Print( AskSize  +e.AskSize);\n    Print( BidPrice  +e.BidPrice);\n    Print( BidSize  +e.BidSize);\n    Print( Instrument  +e.Instrument);\n    Print( LastPrice  +e.LastPrice);\n    Print( MarketDataType  +e.MarketDataType);\n    Print( Price  +e.Price);\n    Print( Time  +e.Time);\n    Print( Volume  +e.Volume);\n}", 
            "title": "Example"
        }, 
        {
            "location": "/events/#onmarketdepth", 
            "text": "", 
            "title": "OnMarketDepth()"
        }, 
        {
            "location": "/events/#description_3", 
            "text": "The OnMarketDepth() method is called up whenever there is a change in the level 2 data (market depth).\nIn a multibar indicator, the BarsInProgress method identifies the data series for which the OnMarketDepth() method is called up.\nOnMarketDepth is not called up for historical data.  More information can be found here:  Events .", 
            "title": "Description"
        }, 
        {
            "location": "/events/#usage_3", 
            "text": "protected override void OnMarketDepth(MarketDepthEventArgs e)", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#return-value_3", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#parameter_3", 
            "text": "[ MarketDepthEventArgs ] e", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#example_2", 
            "text": "protected override void OnMarketDepth(MarketDepthEventArgs e)\n{\n    // Output for the current ask price\n    if (e.MarketDataType == MarketDataType.Ask   e.Operation == Operation.Update)\n    Print(\"The current ask is + e.Price + \" \" + e.Volume);\n}", 
            "title": "Example"
        }, 
        {
            "location": "/events/#onorderupdate", 
            "text": "", 
            "title": "OnOrderUpdate()"
        }, 
        {
            "location": "/events/#description_4", 
            "text": "The OnOrderUpdate() method is called up whenever the status is changed by a strategy-managed order.\nA status change can therefore occur due to a change in the volume, price or status of the exchange (from \u201cworking\u201d to \u201cfilled\u201d). It is guaranteed that this method will be called up in the correct order for the relevant events.  Important note: If a strategy is to be controlled by order executions, we highly recommend that you use OnExecution() instead of OnOrderUpdate(). Otherwise there may be problems with partial executions.  More information can be found here: [ Events ].", 
            "title": "Description"
        }, 
        {
            "location": "/events/#parameter_4", 
            "text": "An order object of the type IOrder", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#return-value_4", 
            "text": "None", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#usage_4", 
            "text": "protected override void OnOrderUpdate(IOrder order)", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#example_3", 
            "text": "private IOrder entryOrder = null;\n\nprotected override void OnBarUpdate()\n{\n    if (entryOrder == null   Close[0]  gt; Open\\[0\\])\n    entryOrder = EnterLong();\n}\n\nprotected override void OnOrderUpdate(IOrder order)\n{\n    if (entryOrder != null   entryOrder == order)\n    {\n        Print(order.ToString());\n        if (order.OrderState == OrderState.Cancelled)\n        {\n        Print( Order was canceled. );\n        entryOrder = null;\n        }\n\n    }\n}", 
            "title": "Example"
        }, 
        {
            "location": "/events/#onstartup", 
            "text": "", 
            "title": "OnStartUp()"
        }, 
        {
            "location": "/events/#description_5", 
            "text": "The OnStartUp() method can be overridden to initialize your own variables, perform license checks or call up user forms etc.\nOnStartUp() is only called up once at the beginning of the script, after [ Initialize() ] and before [ OnBarUpdate() ] are called up.  See [ OnTermination() ].  More information can be found here: [ Events ] .", 
            "title": "Description"
        }, 
        {
            "location": "/events/#parameter_5", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#return-value_5", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#usage_5", 
            "text": "protected override void OnStartUp()", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#example_4", 
            "text": "private myForm Window;\n\nprotected override void OnStartUp()\n{\n    if (ChartControl != null)\n    {\n    Window = new myForm();\n    Window.Show();\n    }\n}", 
            "title": "Example"
        }, 
        {
            "location": "/events/#ontermination", 
            "text": "", 
            "title": "OnTermination()"
        }, 
        {
            "location": "/events/#description_6", 
            "text": "The OnTermination() method can also be overridden in order to once again free up all the resources used in the script.  See  Initialize()  and  OnStartUp() .  More information can be found here:  Events .", 
            "title": "Description"
        }, 
        {
            "location": "/events/#parameter_6", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/events/#return-value_6", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/events/#usage_6", 
            "text": "protected override void OnTermination()", 
            "title": "Usage"
        }, 
        {
            "location": "/events/#more-information", 
            "text": "Caution:  Please do not override the Dispose() method since this can only be used much later within the script. This would lead to resources being used and held for an extended period and thus potentially causing unexpected consequences for the entire application.", 
            "title": "More Information"
        }, 
        {
            "location": "/events/#example_5", 
            "text": "protected override void OnTermination()\n{\n    if (Window != null)\n    {\n        Window.Dispose();\n        Window = null;\n    }\n}", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/", 
            "text": "Strategy Programming\n\n\nAccount\n\n\nDescription\n\n\nAccount is an object containing information about the account with which the current strategy is working.\n\n\nThe individual properties are:\n\n\n\n\n\n\nAccount.AccountConnection\n    \nName for the broker connection used (the name assigned under the account connection submenu)\n\n\n\n\n\n\nAccount.AccountType\n    \nType of account (live account, simulated account etc.)\n\n\n\n\n\n\nAccount.Broker\n    \nName/definition for the broker\n\n\n\n\n\n\nAccount.BuyingPower\n    \nThe current account equity in consideration of the leverage provided by the broker (IB leverages your account equity by a factor of 4, meaning that with 10000\u20ac your buying power is equal to 40000\u20ac)\n\n\n\n\n\n\nAccount.CashValue\n    \nAmount (double)\n\n\n\n\n\n\nAccount.Currency\n    \nCurrency in which the account is held\n\n\n\n\n\n\nAccount.ExcessEquity\n    \nExcess\n\n\n\n\n\n\nAccount.InitialMargin\n    \nInitial margin (depends on the broker, double)\n\n\n\n\n\n\nAccount.InstrumentType\n    \nType of trading instrument (type AgenaTrader.Plugins.InstrumentTypes)\n\n\n\n\n\n\nAccount.IsDemo\n    \nTrue, if the account is a demo account\n\n\n\n\n\n\nAccount.Name\n    \nName of the account (should be identical to Account.AccountConnection)\n\n\n\n\n\n\nAccount.OverNightMargin\n    \nOvernight margin (depends on the broker, double)\n\n\n\n\n\n\nAccount.RealizedProfitLoss\n    \nRealized profits and losses (double)\n\n\n\n\n\n\nExample\n\n\nPrint\n(\"AccountConnection \" + Account.AccountConnection);\n\n\nPrint\n(\"AccountType \" + Account.AccountType);\n\n\nPrint\n(\"Broker \" + Account.Broker);\n\n\nPrint\n(\"BuyingPower \" + Account.BuyingPower);\n\n\nPrint\n(\"CashValue \" + Account.CashValue);\n\n\nPrint\n(\"Currency \" + Account.Currency);\n\n\nPrint\n(\"ExcessEquity \" + Account.ExcessEquity);\n\n\nPrint\n(\"InitialMargin \" + Account.InitialMargin);\n\n\nPrint\n(\"InstrumentTypes \" + Account.InstrumentTypes);\n\n\nPrint\n(\"IsDemo \" + Account.IsDemo);\n\n\nPrint\n(\"Name \" + Account.Name);\n\n\nPrint\n(\"OverNightMargin \" + Account.OverNightMargin);\n\n\nPrint\n(\"RealizedProfitLoss \" + Account.RealizedProfitLoss);\n\n\nBarsSinceEntry()\n\n\nDescription\n\n\nThe property \u201cBarsSinceEntry\u201d returns the number of bars that have occurred since the last entry into the market.\n\n\nUsage\n\n\nBarsSinceEntry\n()\n\n\nBarsSinceEntry\n(string signalName)\n\n\nFor multi-bar strategies\n\n\nBarsSinceEntry\n(\nint\n barsInProgressIndex, string signalName, \nint\n entriesAgo)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nThe signal name (string) that has been used to clearly label the entry within an entry method.\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\n\n\n                   Index for the data series for which the entry order was executed.                                          \n                   See *[BarsInProgress][*BarsInProgress*].*                                                                  |\n\n\n\n| entriesAgo          | Number of entries in the past. A zero indicates the number of bars that have formed after the last entry. |\n\n\nExample\n\n\nPrint\n(\"The last entry was \" + \nBarsSinceEntry\n() + \" bars ago.\");\n\n\nBarsSinceExit()\n\n\nDescription\n\n\nThe property \u201cBarsSinceExit\u201d outputs the number of bars that have occurred since the last exit from the market.\n\n\nUsage\n\n\nBarsSinceExit\n()\n\n\nBarsSinceExit\n(string signalName)\n\n\nFor multi-bar strategies\n\n\nBarsSinceExit\n(\nint\n barsInProgressIndex, string signalName, \nint\n exitsAgo)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nThe signal name (string) that has been used to clearly label the exit within the exit method.\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\n\n\n                   Index of the data series for which the exit order has been executed.                                                       \n                   See [*BarsInProgress*].                                                                                                    |\n\n\n\n| exitsAgo            | Number of exits that have occurred in the past. A zero indicates the number of bars that have formed after the last exit. |\n\n\nExample\n\n\nPrint\n(\"The last exit was \" + \nBarsSinceExit\n() + \" bars ago.\");\n\n\nCancelOrder()\n\n\nDescription\n\n\nCancel order deletes an order.\n\n\nA cancel request is sent to the broker. There is no guarantee that the order will actually be deleted there. It may occur that the order receives a partial execution before it is deleted. Therefore we recommend that you check the status of the order with [\nOnOrderUpdate()\n].\n\n\nUsage\n\n\nCancelOrder\n(IOrder order)\n\n\nParameter\n\n\nAn order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\nprivate\n IOrder myEntryOrder = \nnull\n;\n\n\nprivate int\n barNumberOfOrder = 0;\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// Place an entry stop at the high of the current bar\n\n\nif\n (myEntryOrder == \nnull\n)\n\n\n{\n\n\nmyEntryOrder = \nEnterLongStop\n(High[0], \"stop long\");\n\n\nbarNumberOfOrder = CurrentBar;\n\n\n}\n\n\n// Delete the order after 3 bars\n\n\nif\n (Position.MarketPosition == PositionType.Flat \n\n\nCurrentBar \n barNumberOfOrder + 3)\n\n\nCancelOrder\n(myEntryOrder);\n\n\n}\n\n\nChangeOrder()\n\n\nDescription\n\n\nChange order, as the name suggests, changes an order.\n\n\nUsage\n\n\nChangeOrder\n(IOrder iOrder, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\niOrder\n\n\nAn order object of the type \u201cIOrder\u201d\n\n\n\n\n\n\nquantity\n\n\nNumber of units to be ordered\n\n\n\n\n\n\nlimitPrice\n\n\nLimit price. Set this to 0 if not needed\n\n\n\n\n\n\nstopPrice\n\n\nStop price. Set this to 0 if not needed\n\n\n\n\n\n\n\n\nExample\n\n\nprivate\n IOrder stopOrder = \nnull\n;\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// If the position is profiting by 4 ticks then set the stop to break-even\n\n\nif\n (stopOrder != \nnull\n \n stopOrder.StopPrice \n Position.AvgPrice \n Close[0] \n= Position.AvgPrice + 4 * TickSize)\n\n\nChangeOrder\n(stopOrder, stopOrder.Quantity, stopOrder.LimitPrice, Position.AvgPrice);\n\n\n}\n\n\nDataSeriesConfigurable\n\n\nDefaultQuantity\n\n\nDescription\n\n\nChange order changes an order.\n\n\nDefault quantity defines the amount to be used in a strategy. Default quantity is set within the [\nInitialize()\n] method.\n\n\nUsage\n\n\nChangeOrder\n(IOrder iOrder, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nParameter\n\n\nan int value containing the amount (stocks, contracts etc.)\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nDefaultQuantity = 100;\n\n\n}\n\n\nEnterLong()\n\n\nDescription\n\n\nEnter long creates a long position (buy).\n\n\nIf a signature not containing an amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterLongLimit()\n], [\nEnterLongStop()\n], [\nEnterLongStopLimit()\n].\n\n\nUsage\n\n\nEnterLong\n()\n\n\nEnterLong\n(string signalName)\n\n\nEnterLong\n(\nint\n quantity)\n\n\nEnterLong\n(\nint\n quantity, string signalName)\n\n\nFor multi-bar strategies\n\n\nEnterLong\n(\nint\n barsInProgressIndex, \nint\n quantity, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nThe amount of stocks/contracts\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the entry order is to be executed. See [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter a long position if the last entry is 10 bars in the past\n\n\n// and if two SMAs have crossed\n\n\nif\n (\nBarsSinceEntry\n() \n 10 \n \nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterLong\n(\"SMA cross entry\");\n\n\nEnterLongLimit()\n\n\nDescription\n\n\nEnter long limit creates a limit order for entering a long position (buy).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterLong()\n], [\nEnterLongStop()\n], [\nEnterLongStopLimit()\n].\n\n\nUsage\n\n\nEnterLongLimit\n(\ndouble\n limitPrice)\n\n\nEnterLongLimit\n(\ndouble\n limitPrice, string signalName)\n\n\nEnterLongLimit\n(\nint\n quantity, \ndouble\n limitPrice)\n\n\nEnterLongLimit\n(\nint\n quantity, \ndouble\n limitPrice, string signalName)\n\n\nFor Multibar-Strategies\n\n\nEnterLongLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount of stocks/contracts/etc.\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the entry order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until removed with [\nCancelOrder\n] or until it reaches its expiry (see [\nTimeInForce\n]).\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// A long position is placed if the last entry was 10 bars ago and the two SMAs have crossed each other\n\n\nif\n (\nBarsSinceEntry\n() \n 10 \n \nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterLongLimit\n(\"SMA cross entry\");\n\n\nEnterLongStop()\n\n\nDescription\n\n\nEnter long stop creates a limit order for entering a long position (buy).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterLong()\n], [\nEnterLongLimit()\n], [\nEnterLongStopLimit()\n].\n\n\nUsage\n\n\nEnterLongStop\n(\ndouble\n stopPrice)\n\n\nEnterLongStop\n(\ndouble\n stopPrice, string signalName)\n\n\nEnterLongStop\n(\nint\n quantity, \ndouble\n stopPrice)\n\n\nEnterLongStop\n(\nint\n quantity, \ndouble\n stopPrice, string signalName)\n\n\nFor multi-bar strategies\n\n\nEnterLongStop\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n stopPrice, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount of stocks or contracts etc.\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies\n\n\n\n\n\n\nIndex of the data series for which an entry order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted with the [\nCancelOrder\n] command or until it reaches its expiry time (see [\nTimeInForce\n]).\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\nprivate\n IOrder myEntryOrder = \nnull\n;\n\n\n// Place an entry order at the high of the current bar\n\n\nif\n (myEntryOrder == \nnull\n)\n\n\nmyEntryOrder = \nEnterLongStop\n(High[0], \"Stop Long\");\n\n\nEnterLongStopLimit()\n\n\nDescription\n\n\nEnter long stop limit creates a buy stop limit order for entering a long position.\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterLong()\n], [\nEnterLongLimit()\n], [\nEnterLongStop()\n].\n\n\nUsage\n\n\nEnterLongStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nEnterLongStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice, string signalName)\n\n\nEnterLongStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nEnterLongStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName)\n\n\nFor multi-bar strategies\n\n\nEnterLongStopLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName)\n\n\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount of stocks or contracts to be ordered\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the entry order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until canceled with the CancelOrder command or until it reaches its expiry (see [\nTimeInForce\n]).\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\nprivate\n IOrder myEntryOrder = \nnull\n;\n\n\n// Place an entry stop at the high of the current bar\n// if the high is reached, a limit order will be placed 2 ticks above the high\n\n\nif\n (myEntryOrder == \nnull\n)\n\n\nmyEntryOrder = \nEnterLongStopLimit\n(High[0]+2*TickSize, High[0], \"Stop Long\");\n\n\nEnterShort()\n\n\nDescription\n\n\nEnter short creates a market order for entering a short position (naked sell).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterShortLimit()\n], [\nEnterShortStop()\n], [\nEnterShortStopLimit()\n].\n\n\nUsage\n\n\nEnterShort\n()\n\n\nEnterShort\n(string signalName)\n\n\nEnterShort\n(\nint\n quantity)\n\n\nEnterShort\n(\nint\n quantity, string signalName)\n\n\nFor multi-bar strategies\n\n\nEnterShort\n(\nint\n barsInProgressIndex, \nint\n quantity, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount of stocks/contracts etc.\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies\n\n\n\n\n\n\nIndex of the data series for which the entry order is to be executed\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// A short position will be placed if the last entry is 10 bars in the past and two SMAs have crossed each other\n\n\nif\n (\nBarsSinceEntry\n() \n 10 \n \nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterShort\n(\"SMA cross entry\");\n\n\nEnterShortLimit()\n\n\nDescription\n\n\nEnter short limit creates a limit order for entering a short position (naked short).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterShort()\n], [\nEnterShortStop()\n], [\nEnterShortStopLimit()\n].\n\n\nUsage\n\n\nEnterShortLimit\n(\ndouble\n limitPrice)\n\n\nEnterShortLimit\n(\ndouble\n limitPrice, string signalName)\n\n\nEnterShortLimit\n(\nint\n quantity, \ndouble\n limitPrice)\n\n\nEnterShortLimit\n(\nint\n quantity, \ndouble\n limitPrice, string signalName)\n\n\nFor Multibar-Strategies\n\n\nEnterShortLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount to be ordered\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the entry order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted with the CancelOrder command or until it reaches its expiry (see [\nTimeInForce\n]).\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter a short position if the last entry is 10 bars in the past and two SMAs have crossed each other\n\n\nif\n (\nBarsSinceEntry\n() \n 10 \n \nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterShortLimit\n(\"SMA cross entry\");\n\n\nEnterShortStop()\n\n\nDescription\n\n\nEnter short stop creates a limit order for entering a short position.\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\nSee [\nEnterShort()\n], [\nEnterShortLimit()\n], [\nEnterShortStopLimit()\n].\n\n\nUsage\n\n\nEnterShortStop\n(\ndouble\n stopPrice)\n\n\nEnterShortStop\n(\ndouble\n stopPrice, string signalName)\n\n\nEnterShortStop\n(\nint\n quantity, \ndouble\n stopPrice)\n\n\nEnterShortStop\n(\nint\n quantity, \ndouble\n stopPrice, string signalName)\n\n\nFor multi-bar strategies\n\n\nEnterShortStop\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n stopPrice, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount to be ordered\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the entry order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will remain active until canceled using the CancelOrder command or until it reaches its expiry time\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\nprivate\n IOrder myEntryOrder = \nnull\n;\n\n\n// Place an entry stop at the low of the current bar\n\n\nif\n (myEntryOrder == \nnull\n)\n\n\nmyEntryOrder = \nEnterShortStop\n(Low[0], \"stop short\");\n\n\nEnterShortStopLimit()\n\n\nDescription\n\n\nEnter short stop limit creates a sell stop limit order for entering a short position.\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nEnterShort()\n], [\nEnterShortLimit()\n], [\nEnterShortStop()\n].\n\n\nUsage\n\n\nEnterShortStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nEnterShortStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice, string signalName)\n\n\nEnterShortStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nEnterShortStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName)\n\n\nFor multi-bar strategies\n\n\nEnterShortStopLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName)\n\n\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nAmount to be ordered\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which an entry order is to be placed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nAn order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\nprivate\n IOrder myEntryOrder = \nnull\n;\n\n\n// Place an entry stop at the low of the current bar; if the low is reached then place a limit order 2 ticks below the low\n\n\nif\n (myEntryOrder == \nnull\n)\n\n\nmyEntryOrder = \nEnterShortStopLimit\n(Low[0]-2*TickSize, Low[0], \"stop short\");\n\n\nEntriesPerDirection\n\n\nDescription\n\n\nEntries per direction defines the maximum number of entries permitted in one direction (long or short).\n\n\nWhether the name of the entry signal is taken into consideration or not is defined within [\nEntryHandling\n].\n\n\nEntries per direction is defined with the [\nInitialize()\n] method.\n\n\nUsage\n\n\nEntriesPerDirection\n\n\nParameter\n\n\nAn int value for the maximum entries permitted in one direction.\n\n\nExample\n\n\n// Example 1\n\n\n// If one of the two entry conditions is true and a long position is opened, then the other entry signal will be ignored\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nEntriesPerDirection = 1;\n\n\nEntryHandling = EntryHandling.AllEntries;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1)\n\n\nEnterLong\n(\"SMA Cross Entry\");\n\n\nif\n (\nCrossAbove\n(\nRSI\n(14, 3), 30, 1)\n\n\nEnterLong\n(\"RSI Cross Entry);\n\n\n}\n\n\n// Example 2\n\n\n// For each differently named entry signal, a long position will be opened\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nEntriesPerDirection = 1;\n\n\nEntryHandling = EntryHandling.UniqueEntries;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1)\n\n\nEnterLong\n(\"SMA Cross Entry\");\n\n\nif\n (\nCrossAbove\n(\nRSI\n(14, 3), 30, 1)\n\n\nEnterLong\n(\"RSI Cross Entry);\n\n\n}\n\n\nEntryHandling\n\n\nDescription\n\n\nEntry handling decides how the maximum number of entries permitted in one direction is interpreted ([\nEntriesPerDirection\n]).\n\n\nEntry handling is defined with the [\nInitialize()\n] method.\n\n\nEntryHandling.AllEntries\n\n\nAgenaTrader continues to create entry orders until the maximum number of entries permitted (defined in [\nEntriesPerDirection\n]) per direction (long or short) is reached, regardless of how the entry signals are named.\n\n\nIf entries per direction = 2, then enter long (\"SMA crossover\") and enter long (\"range breakout\") combined will reach the maximum number of long entries permitted.\n\n\nEntryHandling.UniqueEntries\n\n\nAgenaTrader continues to generate entry orders until the maximum number of entries (defined in entries per direction) in one direction (long or short) for the differently named entry signals has been reached.\nIf entries per direction = 2, then it is possible for two signals for enter long (\"SMA crossover\") \nand\n 2 signals for enter long (\"range breakout\") to be traded.\n\n\nUsage\n\n\nEntryHandling\n\n\nExample\n\n\nSee [\nEntriesPerDirection\n].\n\n\nExcludeTradeHistoryInBacktest\n\n\nExitLong()\n\n\nDescription\n\n\nExit long creates a sell market order for closing a long position (sell).\n\n\nIf a signature not containing a set amount is used, the amount is set by [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nExitLong()\n], [\nExitLongLimit()\n], [\nExitLongStop()\n], [\nExitLongStopLimit()\n].\n\n\nUsage\n\n\nExitLong\n()\n\n\nExitLong\n(\nint\n quantity)\n\n\nExitLong\n(string fromEntry signal)\n\n\nExitLong\n(string signalName, string fromEntry signal)\n\n\nExitLong\n(\nint\n quantity, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitLong\n(\nint\n barsInProgressIndex, \nint\n quantity, string signalName, string fromEntry signal)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nquantity\n\n\nThe quantity to be sold\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the attached entry signal\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross each other\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterLong\n(\"SMA Cross Entry\");\n\n\n// Close position\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitLong\n();\n\n\nExitLongLimit()\n\n\nDescription\n\n\nExit long limit creates a sell limit order for closing a long position (i.e. for selling).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\nSee [\nExitLong()\n], [\nExitLongLimit()\n], [\nExitLongStop()\n], [\nExitLongStopLimit()\n].\n\n\nUsage\n\n\nExitLongLimit\n(\ndouble\n limitPrice)\n\n\nExitLongLimit\n(\nint\n quantity, \ndouble\n limitPrice)\n\n\nExitLongLimit\n(\ndouble\n limitPrice, string fromEntry signal)\n\n\nExitLongLimit\n(\ndouble\n limitPrice, string signalName, string fromEntry signal)\n\n\nExitLongLimit\n(\nint\n quantity, \ndouble\n limitPrice, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitLongLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, string signalName, string fromEntry signal)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the attached entry signal\n\n\n\n\n\n\nquantity\n\n\nOrder quantity to be sold\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross each other\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterLong\n(\"SMA Cross Entry\");\n\n\n// Close position\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitLongLimit\n(\nGetCurrentBid\n());\n\n\nExitLongStop()\n\n\nDescription\n\n\nExit long stop creates a sell stop order for closing a long position (short).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\nSee [\nExitLong()\n], [\nExitLongLimit()\n], [\nExitLongStop()\n], [\nExitLongStopLimit()\n].\n\n\nUsage\n\n\nExitLongStop\n(\nint\n quantity, \ndouble\n stopPrice)\n\n\nExitLongStop\n(\ndouble\n stopPrice, string fromEntry signal)\n\n\nExitLongStop\n(\ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nExitLongStop\n(\nint\n quantity, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitLongStop\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n stopPrice, string signalName, string fromEntry signal)ExitLongStop\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the associated entry signal\n\n\n\n\n\n\nquantity\n\n\nThe quantity to be sold\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross each other\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterLong\n(\"SMA Cross Entry\");\n\n\n// Close position\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitLongStop\n(Low[0]);\n\n\nExitLongStopLimit()\n\n\nDescription\n\n\nExit long stop limit creates a sell stop limit order for closing a long position (i.e. selling).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nExitLong()\n], [\nExitLongLimit()\n], [\nExitLongStop()\n], [\nExitLongStopLimit()\n].\n\n\nUsage\n\n\nExitLongStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nExitLongStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nExitLongStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice, string fromEntry signal)\n\n\nExitLongStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nExitLongStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nFor Multibar-Strategies\n\n\nExitLongStopLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the associated entry signal\n\n\n\n\n\n\nquantity\n\n\nThe quantity to be sold\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross each other\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterLong\n(\"SMA Cross Entry\");\n\n\n// Close position\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitLongStopLimit\n(Low[0]-10*TickSize, Low[0]);\n\n\nExitOnClose\n\n\nExitOnCloseSeconds\n\n\nExitShort()\n\n\nDescription\n\n\nExit short creates a buy-to-cover market order for closing a short position (buy).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\nSee [\nExitShort()\n], [\nExitShortLimit()\n], [\nExitShortStop()\n], [\nExitShortStopLimit()\n].\n\n\nUsage\n\n\nExitShort\n()\n\n\nExitShort\n(\nint\n quantity)\n\n\nExitShort\n(string fromEntry signal)\n\n\nExitShort\n(string signalName, string fromEntry signal)\n\n\nExitShort\n(\nint\n quantity, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitShort\n(\nint\n barsInProgressIndex, \nint\n quantity, string signalName, string fromEntry signal)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nQuantity\n\n\nOrder quantity to be bought\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the associated entry signal\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross each other\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterShort\n(\"SMA cross entry\");\n\n\n// Close position\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitShort\n();\n\n\nExitShortLimit()\n\n\nDescription\n\n\nExit short limit creates a buy-to-cover limit order for closing a short position (buy).\n\n\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nExitShort()\n], [\nExitShortLimit()\n], [\nExitShortStop()\n], [\nExitShortStopLimit()\n].\n\n\nUsage\n\n\nExitShortLimit\n(\ndouble\n limitPrice)\n\n\nExitShortLimit\n(\nint\n quantity, \ndouble\n limitPrice)\n\n\nExitShortLimit\n(\ndouble\n limitPrice, string fromEntry signal)\n\n\nExitShortLimit\n(\ndouble\n limitPrice, string signalName, string fromEntry signal)\n\n\nExitShortLimit\n(\nint\n quantity, \ndouble\n limitPrice, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitShortLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, string signalName, string fromEntry signal)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the associated entry signal\n\n\n\n\n\n\nquantity\n\n\nOrder quantity to be bought\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterShort\n(\"SMA cross entry\");\n\n\n// Close position\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitShortLimit\n(\nGetCurrentAsk\n());\n\n\nExitShortStop()\n\n\nDescription\n\n\nExit short stop creates a buy-to-cover stop order for closing a short position.\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nExitShort()\n], [\nExitShortLimit()\n], [\nExitShortStop()\n], [\nExitShortStopLimit()\n].\n\n\nUsage\n\n\nExitShortStop\n(\nint\n quantity, \ndouble\n stopPrice)\n\n\nExitShortStop\n(\ndouble\n stopPrice, string fromEntry signal)\n\n\nExitShortStop\n(\ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nExitShortStop\n(\nint\n quantity, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitShortStop\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n stopPrice, string signalName, string fromEntry signal)ExitLongStop\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the associated entry signal\n\n\n\n\n\n\nquantity\n\n\nOrder quantity to be bought\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs have crossed\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterShort\n(\"SMA cross entry\");\n\n\n// Close position\n\n\nif\n (\nCrossAbove\n (\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitShortStop\n(High[0]);\n\n\nExitShortStopLimit()\n\n\nDescription\n\n\nExit short stop limit creates a buy-to-cover stop limit order for closing a short position.\nIf a signature not containing a set amount is used, the amount is set by the [\nDefaultQuantity\n] or taken from the strategy dialog window.\n\n\nSee [\nExitLong()\n], [\nExitLongLimit()\n], [\nExitLongStop()\n], [\nExitLongStopLimit()\n].\n\n\nUsage\n\n\nExitShortStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nExitShortStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice)\n\n\nExitShortStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice, string fromEntry signal)\n\n\nExitShortStopLimit\n(\ndouble\n limitPrice, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nExitShortStopLimit\n(\nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nFor multi-bar strategies\n\n\nExitShortStopLimit\n(\nint\n barsInProgressIndex, \nbool\n liveUntilCancelled, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string signalName, string fromEntry signal)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsignalName\n\n\nAn unambiguous name\n\n\n\n\n\n\nfromEntry signal\n\n\nThe name of the associated entry signal\n\n\n\n\n\n\nquantity\n\n\nOrder quantity to be bought\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor [\nMultibar\n][\nMultiBars\n] strategies.\n\n\n\n\n\n\nIndex of the data series for which the exit order is to be executed.\n\n\n\n\n\n\n\n\nSee [\nBarsInProgress\n].\n\n\n\n\n\n\n\n\nlimitPrice\n\n\nA double value for the limit price\n\n\n\n\n\n\nstopPrice\n\n\nA double value for the stop price\n\n\n\n\n\n\nliveUntilCancelled\n\n\nThe order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.\n\n\n\n\n\n\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n// Enter if two SMAs cross each other\n\n\nif\n (\nCrossBelow\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nEnterShort\n(\"SMA cross entry\");\n\n\n// Close position\n\n\nif\n (\nCrossAbove\n(\nSMA\n(10), \nSMA\n(20), 1))\n\n\nExitShortStopLimit\n(High[0]+10*TickSize, High[0]);\n\n\nGetAccountValue()\n\n\nDescription\n\n\nGet account value outputs information regarding the account for which the current strategy is being carried out.\n\n\nSee [\nGetProfitLoss()\n].\n\n\nUsage\n\n\nGetAccountValue\n(AccountItem accountItem)\n\n\nParameter\n\n\nPossible values for account item are:\n\n\nAccountItem.BuyingPower\n\n\nAccountItem.CashValue\n\n\nAccountItem.RealizedProfitLoss\n\n\nReturn Value\n\n\na double value for the account item\n\n\nfor historical bars, a zero (0) is returned\n\n\nExample\n\n\nPrint\n(\"The current account cash value is \" + \nGetAccountValue\n(AccountItem.CashValue));\n\n\nPrint\n(\"The current account cash value with the leverage provided by the broker is \" + \nGetAccountValue\n(AccountItem.BuyingPower));\n\n\nPrint\n(\"The current P/L already realized is \" + \nGetAccountValue\n(AccountItem.RealizedProfitLoss));\n\n\nGetProfitLoss()\n\n\nDescription\n\n\nGet profit loss outputs the currently unrealized profit or loss for a running position.\n\n\nSee [\nGetAccountValue()\n].\n\n\nUsage\n\n\nGetProfitLoss\n(\nint\n pLType);\n\n\nParameter\n\n\nPotential values for the P/L type are:\n\n\n0 \u2013 Amount: P/L as a currency amount\n\n\n1 \u2013 Percent: P/L in percent\n\n\n2 \u2013 Risk: P/L in Van Tharp R-multiples ([\nhttp://www.vantharp.com/tharp-concepts/risk-and-r-multiples.asp\n])\n\n\n3 \u2013 P/L in ticks\n\n\nReturn Value\n\n\na double value for the unrealized profit or loss\n\n\nExample\n\n\nPrint\n(\"The current risk for the strategy \" + \nthis\n.Name + \" is \" + \nGetProfitLoss\n(1) + \" \" + Instrument.Currency);\n\n\nPrint\n(\"This equals \"+ string.\nFormat\n( \"{0:F1} R.\", \nGetProfitLoss\n(3)));\n\n\nMarketPosition\n\n\nSee [\nPosition.MarketPosition\n].\n\n\nPerformance\n\n\nDescription\n\n\nPerformance is an object containing information regarding all trades that have been generated by a strategy.\n\n\nThe trades are sorted into multiple lists. With the help of these lists it is easier to create a performance evaluation.\n\n\nSee Performance Characteristics.\n\n\nThe individual lists are:\n\n\n\n\n\n\nPerformance.AllTrades\n    \nA [\nTrade\n] collection object containing all trades generated by a strategy\n\n\n\n\n\n\nPerformance.LongTrades\n    \nA [\nTrade\n] collection object containing all long trades generated by a strategy\n\n\n\n\n\n\nPerformance.ShortTrades\n    \nA [\nTrade\n] collection object containing all short trades generated by a strategy\n\n\n\n\n\n\nPerformance.WinningTrades\n    \nA [\nTrade\n] collection object containing all profitable trades generated by a strategy\n\n\n\n\n\n\nPerformance.LosingTrades\n    \nA [\nTrade\n] collection object containing all loss trades generated by a strategy\n\n\n\n\n\n\nExample\n\n\n// When exiting a strategy, create a performance evaluation\n\n\nprotected\n override void \nOnTermination\n()\n\n\n{\n\n\nPrint\n(\"Performance evaluation of the strategy : \" + \nthis\n.Name);\n\n\nPrint\n(\"----------------------------------------------------\");\n\n\nPrint\n(\"Amount of all trades: \" + Performance.AllTrades.Count);\n\n\nPrint\n(\"Amount of winning trades: \" + Performance.WinningTrades.Count);\n\n\nPrint\n(\"Amount of all loss trades: \" + Performance.LosingTrades.Count);\n\n\nPrint\n(\"Amount of all long trades: \" + Performance.LongTrades.Count);\n\n\nPrint\n(\"Amount of short trades: \" + Performance.ShortTrades.Count);\n\n\nPrint\n(\"Result: \" + Account.RealizedProfitLoss + \" \" + Account.Currency);\n\n\n}\n\n\nPosition\n\n\nDescription\n\n\nPosition is an object containing information regarding the position currently being managed by a strategy.\n\n\nThe individual properties are:\n\n\n\n\n\n\nPosition.AvgPrice\n    \nThe average buy or sell price of a position.\n    For positions without partial executions, this is equal to the entry price.\n\n\n\n\n\n\nPosition.CreatedDateTime\n    \nDate and time at which the position was opened.\n\n\n\n\n\n\nPosition.Instrument\n    \nThe trading instrument in which the position exists.\n    See \nInstruments\n.\n\n\n\n\n\n\nPosition.MarketPosition\n    \nOne of three possible positions in the market:\n\n\n\n\nPositionType.Flat\n\n\nPositionType.Long\n\n\nPositionType.Short\n\n\n\n\n\n\n\n\nPosition.OpenProfitLoss\n    \nThe currently not yet realized profit or loss.\n    See [\nGetProfitLoss()\n].\n\n\n\n\n\n\nPosition.ProfitCurrency\n    \nProfit (or loss) displayed as a currency amount.\n\n\n\n\n\n\nPosition.ProfitPercent\n    \nProfit (or loss) displayed in percent.\n\n\n\n\n\n\nPosition.ProfitPoints\n    \nProfit (or loss) displayed in points or pips.\n\n\n\n\n\n\nPosition.Quantity\n    \nAmount of stocks, contracts, CFDs etc. within a position.\n\n\n\n\n\n\nExample\n\n\nif\n (Position.MarketPosition != PositionType.Flat)\n\n\n{\n\n\nPrint\n(\"Average price \" + Position.AvgPrice);\n\n\nPrint\n(\"Opening time \" + Position.CreatedDateTime);\n\n\nPrint\n(\"Instrument \" + Position.Instrument);\n\n\nPrint\n(\"Current positioning \" + Position.MarketPosition);\n\n\nPrint\n(\"Unrealized P/L \" + Position.OpenProfitLoss);\n\n\nPrint\n(\"P/L (currency) \" + Position.ProfitCurrency);\n\n\nPrint\n(\"P/L (in percent) \" + Position.ProfitPercent);\n\n\nPrint\n(\"P/L (in points) \" + Position.ProfitPoints);\n\n\nPrint\n(\"Pieces \" + Position.Quantity);\n\n\n}\n\n\nQuantity\n\n\nSee [\nPosition.Quantity\n][\nPosition.MarketPosition\n].\n\n\n\n\nSetProfitTarget()\n\n\nDescription\n\n\nSet profit target immediately creates a \u201ctake profit\u201d order after an entry order is generated. The order is sent directly to the broker and becomes active immediately.\nIf the profit target is static, you can also define SetProfitTarget() with the Initialize() method.\n\n\nSee [\nSetStopLoss()\n], [\nSetTrailStop()\n].\n\n\nUsage\n\n\nSetProfitTarget\n(\ndouble\n currency)\n\n\nSetProfitTarget\n(CalculationMode mode, \ndouble value\n)\n\n\nSetProfitTarget\n(string fromEntry signal, CalculationMode mode, \ndouble value\n)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncurrency\n\n\nSets the profit target in a currency, for example 500\u20ac.\n\n\n\n\n\n\nmode\n\n\nPossible values are:\n\n\n\n\n\n\n\n\n                - CalculationMode.Percent (display in percent)                                                                                                                     \n                - CalculationMode.Price (display as price value)                                                                                                                   \n                - CalculationMode.Ticks (display in ticks or pips)                                                                                                                 |\n\n\n\n| value            | The distance between entry price and profit target. This is dependent upon the \u201emode\u201c but generally refers to a monetary value, a percentage or a value in ticks. |\n| fromEntry signal | The name of the entry signal for which the profit target is to be generated. The amount is taken from the entry order referenced.                                 |\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// Creates a profit target order 10 ticks above break-even\n\n\nSetProfitTarget\n(CalculationMode.Ticks, 10);\n\n\n}\n\n\nSetStopLoss()\n\n\nDescription\n\n\nSet stop loss creates a stop loss order after an entry order is placed. The order is sent directly to the broker and becomes effective immediately.\n\n\nIf the stop loss is static, then SetStopLoss() can be defined with the Initialize() method.\n\n\nSee [\nSetProfitTarget()\n], [\nSetTrailStop()\n].\n\n\nUsage\n\n\nSetStopLoss\n(\ndouble\n currency)\n\n\nSetStopLoss\n(\ndouble\n currency, \nbool\n simulated)\n\n\nSetStopLoss\n(CalculationMode mode, \ndouble value\n)\n\n\nSetStopLoss\n(string fromEntry signal, CalculationMode mode, \ndouble value\n, \nbool\n simulated)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncurrency\n\n\nThe difference between the stop loss and the entry price (=risk) in a currency, such as 500\u20ac\n\n\n\n\n\n\nmode\n\n\nPotential values can be:\n\n\n\n\n\n\n\n\n                - CalculationMode.Percent (display in percent)                                                                                                                                                               \n                - CalculationMode.Price (display as price value)                                                                                                                                                             \n                - CalculationMode.Ticks (display in ticks or pips)                                                                                                                                                           |\n\n\n\n| simulated        | When set to \u201ctrue,\u201d the stop order does not go live (as a market order) until the price has \u201etouched\u201c it for the first time (meaning that it is executed just as it would be under real market conditions). |\n| value            | The distance between stop price and profit target. This is dependent upon the \u201emode\u201c but generally refers to a monetary value, a percentage or a value in ticks.                                            |\n| fromEntry signal | The name of the entry signal for which the stop order is to be generated. The amount is taken from the entry order referenced.                                                                              |\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// Sets a stop of 500\u20ac\n\n\nSetStopLoss\n(500);\n\n\n}\n\n\nSetTrailStop()\n\n\nDescription\n\n\nSet trail stop creates a trail stop order after an entry order is generated. Its purpose is to protect you from losses, and after reaching break-even, to protect your gains.\n\n\nThe order is sent directly to the broker and becomes effective immediately.\n\n\nIf the stop loss price and the offset value are static, you can define SetTrailStop() with the Initialize() method.\n\n\nIf you use SetTrailStop() within the [\nOnBarUpdate()\n] method, you must make sure that the parameters are readjusted to the initial value, otherwise the most recently used settings will be used for the new position.\n\n\nFunctionality:\n\n\nAssuming that you have SetTrailStop(CalculationMode.Ticks, 30) selected:\n\n\nIn a long position, the stop will be 30 ticks from the previously reached high. If the market makes a new high, the stop will be adjusted. However, the stop will no longer be moved downwards.\n\n\nIn a short position, this behavior starts with the most recent low.\n\n\nTips:\n\n\nIt is not possible to use SetStopLoss and SetTrailStop for the same position at the same time within one strategy. The SetStopLoss() method will always have precedence over the other methods.\n\n\nHowever, it is possible to use both variants parallel to each other in the same strategy if they are referencing different entry signals.\n\n\nPartial executions of a single order will cause a separate trading stop for each partial position.\n\n\nIf a SetProfitTarget() is used in addition to a SetTrailStop(), then both orders will be automatically linked to form an OCO order.\n\n\nIt is always a stop market order that is generated, and not a stop limit order.\n\n\nIf a position is closed by a different exit order within the strategy, then the TrailingStopOrder is automatically deleted.\n\n\nSee [\nSetStopLoss()\n], [\nSetProfitTarget()\n].\n\n\nUsage\n\n\nSetTrailStop\n(\ndouble\n currency)\n\n\nSetTrailStop\n(\ndouble\n currency, \nbool\n simulated)\n\n\nSetTrailStop\n(CalculationMode mode, \ndouble value\n)\n\n\nSetTrailStop\n(string fromEntry signal, CalculationMode mode, \ndouble value\n, \nbool\n simulated)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncurrency\n\n\nThe distance between the stop loss and the entry price\n\n\n\n\n\n\nmode\n\n\nPossible values are:\n\n\n\n\n\n\n\n\n                - CalculationMode.Percent                                                                                                                                                                                    \n                - CalculationMode.Ticks                                                                                                                                                                                      |\n\n\n\n| simulated        | When set to \u201ctrue,\u201d the stop order does not go live (as a market order) until the price has \u201etouched\u201c it for the first time (meaning that it is executed just as it would be under real market conditions). |\n| value            | The distance between stop price and profit target. This is dependent upon the \u201emode\u201c but generally refers to a monetary value, a percentage or a value in ticks.                                            |\n| fromEntry signal | The name of the entry signal for which the stop order is to be generated. The amount is taken from the entry order referenced.                                                                              |\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// Sets a trailing stop of 30 ticks\n\n\nSetTrailStop\n(CalculationMode.Ticks, 30);\n\n\n}\n\n\nSubmitOrder()\n\n\nDescription\n\n\nSubmit order creates a user-defined order. For this order, no stop or limit order is placed in the market. All AgenaTrader control mechanisms are switched off for this order type. The user is responsible for managing the various stop and target orders, including partial executions.\n\n\nSee [\nOnOrderUpdate()\n], [\nOnExecution()\n].\n\n\nUsage\n\n\nSubmitOrder\n(\nint\n barsInProgressIndex, OrderAction orderAction, OrderType orderType, \nint\n quantity, \ndouble\n limitPrice, \ndouble\n stopPrice, string ocoId, string signalName)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbarsInProgressIndex\n\n\nFor multi-bar strategies.\n\n\n\n\n\n\nIndex of the data series for which the order is to be executed.\n\n\n\n\n\n\n\n\nSee BarsInProgress.\n\n\n\n\n\n\n\n\norderAction\n\n\nPossible values are:\n\n\n\n\n\n\n\n\n                   OrderAction.Buy                                                     \n                   Buy order for a long entry\n\n                   OrderAction.Sell                                                    \n                   Sell order for closing a long position\n\n                   OrderAction.SellShort                                               \n                   Sell order for a short entry\n\n                   OrderAction.BuyToCover                                              \n                   Buy order for closing a short position                              |\n\n\n\n| orderType           | Possible values:                                                   \n\n\n                   OrderType.Limit\n\n                   OrderType.Market\n\n                   OrderType.Stop\n\n                   OrderType.StopLimit                                                 |\n\n\n\n| quantity            | Amount                                                             |\n| limitPrice          | Limit value. Inputting a 0 makes this parameter irrelevant         |\n| stopPrice           | Stop value. Inputting a 0 makes this parameter irrelevant          |\n| ocoId               | A unique ID (string) for linking multiple orders into an OCO group |\n| signalName          | An unambiguous signal name (string)                                |\n\n\nReturn Value\n\n\nan order object of the type \u201cIOrder\u201d\n\n\nExample\n\n\n\n\nprivate\n IOrder entryOrder = \nnull\n;\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// Entry conditions\n\n\nif\n (Close[0] \n \nSMA\n(20)[0] \n entryOrder == \nnull\n)\n\n\nentryOrder = \nSubmitOrder\n(0, OrderAction.Buy, OrderType.Market, 1, 0, 0, \"\", \"Enter long\");\n\n\n}\n\n\nTimeInForce\n\n\nDescription\n\n\nThe time in force property determines how long an order is valid for. The validity period is dependent upon which values are accepted by a broker.\n\n\nTimeInForce is specified with the [\nInitialize()\n] method.\n\n\nPermitted values are:\nTimeInForce.day\nTimeInForce.loc\nTimeInForce.gtc (GTC = good till canceled)\nTimeInForce.gtd\n\n\nDefault:\n TimeInForce.GTC\n\n\nUsage\n\n\nTimeInForce\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nTimeInForce = TimeInForce.Day;\n\n\n}\n\n\nTraceOrders\n\n\nDescription\n\n\nThe trace orders property is especially useful for keeping track of orders generated by strategies. It also provides an overview of which orders were generated by which strategies.\nTrace orders can be specified with the [\nInitialize()\n] method.\n\n\nWhen TraceOrders is activated, each order will display the following values in the output window:\n\n\nInstrument\n\n\nTime frame\n\n\nAction\n\n\nType\n\n\nLimit price\n\n\nStop price\n\n\nQuantity\n\n\nName\n\n\nThis information is useful when creating and debugging strategies.\n\n\nUsage\n\n\nTraceOrders\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\ntrue\n Tracing is currently switched on\n\nfalse\n Tracing is switched off\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nClearOutputWindow\n();\n\n\nTraceOrders = \ntrue\n;\n\n\n}\n\n\nTrade\n\n\nDescription\n\n\nTrade is an object containing information about trades that have been executed by a strategy or are currently running.\n\n\nThe individual properties are:\n\n\n\n\n\n\nTrade.AvgPrice\n    \nAverage entry price\n\n\n\n\n\n\nTrade.ClosedProfitLoss\n    \nProfit or loss already realized\n\n\n\n\n\n\nTrade.Commission\n    \nCommissions\n\n\n\n\n\n\nTrade.CreatedDateTime\n    \nTime at which the trade was created\n\n\n\n\n\n\nTrade.EntryReason\n    \nDescription of the entry signal\n    For strategies: signal entry name\n\n\n\n\n\n\nTrade.ExitDateTime\n    \nTime at which the trade was closed\n\n\n\n\n\n\nTrade.ExitPrice\n    \nExit price\n\n\n\n\n\n\nTrade.ExitReason\n    \nDescription of the exit signal\n    For strategies: name of the strategy\n\n\n\n\n\n\nTrade.Instrument\n    \nDescription of the trading instrument\n\n\n\n\n\n\nTrade.MarketPosition\n    \nPositioning within the market\n\n\n\n\nPositionType.Flat\n\n\nPositionType.Long\n\n\nPositionType.Short\n\n\n\n\n\n\n\n\nTrade.OpenProfitLoss\n    \nUnrealized profit/loss of a running position\n\n\n\n\n\n\nTrade.ProfitCurrency\n    \nProfit or loss in the currency that the account is held in\n\n\n\n\n\n\nTrade.ProfitLoss\n    \nProfit or loss\n\n\n\n\n\n\nTrade.ProfitPercent\n    \nProfit or loss in percent\n\n\n\n\n\n\nTrade.ProfitPercentWithCommission\n    \nProfit or loss in percent with commissions\n\n\n\n\n\n\nTrade.ProfitPoints\n    \nProfit or loss in points/pips\n\n\n\n\n\n\nTrade.Quantity\n    \nQuantity of stocks/contracts/ETFs/etc.\n\n\n\n\n\n\nTrade.TimeFrame\n    \nTimeframe in which the trade was opened\n\n\n\n\n\n\nTrade.Url\n    \nURL for the snapshot of the chart at the moment of creation\n\n\n\n\n\n\nExample\n\n\nprotected\n override void \nOnTermination\n()\n\n\n{\n\n\nif\n (Performance.AllTrades.Count \n 1) return;\n\n\nforeach\n (ITrade trade \nin\n Performance.AllTrades)\n\n\n{\n\n\nPrint\n(\"Trade #\"+trade.Id);\n\n\nPrint\n(\"--------------------------------------------\");\n\n\nPrint\n(\"Average price \" + trade.AvgPrice);\n\n\nPrint\n(\"Realized P/L \" + trade.ClosedProfitLoss);\n\n\nPrint\n(\"Commissions \" + trade.Commission);\n\n\nPrint\n(\"Time of entry \" + trade.CreatedDateTime);\n\n\nPrint\n(\"Entry reason \" + trade.EntryReason);\n\n\nPrint\n(\"Time of exit \" + trade.ExitDateTime);\n\n\nPrint\n(\"Exit price \" + trade.ExitPrice);\n\n\nPrint\n(\"Exit reason \" + trade.ExitReason);\n\n\nPrint\n(\"Instrument \" + trade.Instrument);\n\n\nPrint\n(\"Positioning \" + trade.MarketPosition);\n\n\nPrint\n(\"Unrealized P/L \" + trade.OpenProfitLoss);\n\n\nPrint\n(\"P/L (currency) \" + trade.ProfitCurrency);\n\n\nPrint\n(\"P/L \" + trade.ProfitLoss);\n\n\nPrint\n(\"P/L (in percent) \" + trade.ProfitPercent);\n\n\nPrint\n(\"P/L (% with commission)\" + trade.ProfitPercentWithCommission);\n\n\nPrint\n(\"PL (in points) \" + trade.ProfitPoints);\n\n\nPrint\n(\"Quantity \" + trade.Quantity);\n\n\nPrint\n(\"Timeframe \" + trade.TimeFrame);\n\n\nPrint\n(\"URL for the snapshot \" + trade.Url);\n\n\nPrint\n(\"\");\n\n\n}\n\n\n}\n\n\nUnmanaged\n\n\nBacktesting and Optimization\n\n\nPerformance Characteristics\n\n\nPerformance characteristics are the various factors that can be calculated for a list of trades. The trades can be generated by a strategy in real-time or based on a backtest.\n\n\nThe following are available:\n\n\n\n\nall trades\n\n\nall long trades\n\n\nall short trades\n\n\nall winning trades\n\n\nall losing trades\n\n\n\n\nSee [\nPerformance\n].\n\n\nThe individual factors are:\n\n\n\n\n\n\nAvgEtd\n    \nThe average drawdown at the end of a trade\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.AvgEtd\n    \nPrint\n(\"Average ETD of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgEtd);\n\n\n\n\n\n\nAvgMae\n    \nAverage maximum adverse excursion\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.AvgMae\n    \nPrint\n(\"Average MAE of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgMae);\n\n\n\n\n\n\nAvgMfe\n    \nAverage maximum favorable excursion\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.AvgMfe\n    \nPrint\n(\"Average MFE of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgMfe);\n\n\n\n\n\n\nAvgProfit\n    \nAverage profit for all trades\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.AvgProfit\n    \nPrint\n(\"Average profit of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgProfit);\n\n\n\n\n\n\nCumProfit\n    \nThe cumulative winnings over all trades\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.CumProfit\n    \nPrint\n(\"Average cumulative profit of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.CumProfit);\n\n\n\n\n\n\nDrawDown\n    \nThe drawdown for all trades\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.DrawDown\n    \nPrint\n(\"Drawdown of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.DrawDown);\n\n\n\n\n\n\nLargestLoser\n    \nThe largest losing trade\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.LargestLoser\n    \nPrint\n(\"Largest loss of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.LargestLoser);\n\n\n\n\n\n\nLargestWinner\n    \nThe largest winning trade\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.LargestWinner\n    \nPrint\n(\"Largest win of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.LargestWinner);\n\n\n\n\n\n\nProfitPerMonth\n    \nThe total performance (wins/losses) for the month (also in percent)\n    \nTradeCollection\n.TradesPerformance.\nTradesPerformanceValues\n.ProfitPerMonth\n    \nPrint\n(\"Profit per month of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.ProfitPerMonth);\n\n\n\n\n\n\nStdDev\n\n    The standard deviation for the wins/losses. With this, you are able to identify outliers. The smaller the standard deviation, the higher the expectation of winnings.\n\n\n\n\n\n\nAll factors are double values.", 
            "title": "Strategy programming"
        }, 
        {
            "location": "/strategy_programming/#strategy-programming", 
            "text": "", 
            "title": "Strategy Programming"
        }, 
        {
            "location": "/strategy_programming/#account", 
            "text": "", 
            "title": "Account"
        }, 
        {
            "location": "/strategy_programming/#description", 
            "text": "Account is an object containing information about the account with which the current strategy is working.  The individual properties are:    Account.AccountConnection\n     Name for the broker connection used (the name assigned under the account connection submenu)    Account.AccountType\n     Type of account (live account, simulated account etc.)    Account.Broker\n     Name/definition for the broker    Account.BuyingPower\n     The current account equity in consideration of the leverage provided by the broker (IB leverages your account equity by a factor of 4, meaning that with 10000\u20ac your buying power is equal to 40000\u20ac)    Account.CashValue\n     Amount (double)    Account.Currency\n     Currency in which the account is held    Account.ExcessEquity\n     Excess    Account.InitialMargin\n     Initial margin (depends on the broker, double)    Account.InstrumentType\n     Type of trading instrument (type AgenaTrader.Plugins.InstrumentTypes)    Account.IsDemo\n     True, if the account is a demo account    Account.Name\n     Name of the account (should be identical to Account.AccountConnection)    Account.OverNightMargin\n     Overnight margin (depends on the broker, double)    Account.RealizedProfitLoss\n     Realized profits and losses (double)", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#example", 
            "text": "Print (\"AccountConnection \" + Account.AccountConnection);  Print (\"AccountType \" + Account.AccountType);  Print (\"Broker \" + Account.Broker);  Print (\"BuyingPower \" + Account.BuyingPower);  Print (\"CashValue \" + Account.CashValue);  Print (\"Currency \" + Account.Currency);  Print (\"ExcessEquity \" + Account.ExcessEquity);  Print (\"InitialMargin \" + Account.InitialMargin);  Print (\"InstrumentTypes \" + Account.InstrumentTypes);  Print (\"IsDemo \" + Account.IsDemo);  Print (\"Name \" + Account.Name);  Print (\"OverNightMargin \" + Account.OverNightMargin);  Print (\"RealizedProfitLoss \" + Account.RealizedProfitLoss);", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#barssinceentry", 
            "text": "", 
            "title": "BarsSinceEntry()"
        }, 
        {
            "location": "/strategy_programming/#description_1", 
            "text": "The property \u201cBarsSinceEntry\u201d returns the number of bars that have occurred since the last entry into the market.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage", 
            "text": "BarsSinceEntry ()  BarsSinceEntry (string signalName)  For multi-bar strategies  BarsSinceEntry ( int  barsInProgressIndex, string signalName,  int  entriesAgo)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter", 
            "text": "signalName  The signal name (string) that has been used to clearly label the entry within an entry method.    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.                        Index for the data series for which the entry order was executed.                                          \n                   See *[BarsInProgress][*BarsInProgress*].*                                                                  |  | entriesAgo          | Number of entries in the past. A zero indicates the number of bars that have formed after the last entry. |", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_1", 
            "text": "Print (\"The last entry was \" +  BarsSinceEntry () + \" bars ago.\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#barssinceexit", 
            "text": "", 
            "title": "BarsSinceExit()"
        }, 
        {
            "location": "/strategy_programming/#description_2", 
            "text": "The property \u201cBarsSinceExit\u201d outputs the number of bars that have occurred since the last exit from the market.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_1", 
            "text": "BarsSinceExit ()  BarsSinceExit (string signalName)  For multi-bar strategies  BarsSinceExit ( int  barsInProgressIndex, string signalName,  int  exitsAgo)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_1", 
            "text": "signalName  The signal name (string) that has been used to clearly label the exit within the exit method.    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.                        Index of the data series for which the exit order has been executed.                                                       \n                   See [*BarsInProgress*].                                                                                                    |  | exitsAgo            | Number of exits that have occurred in the past. A zero indicates the number of bars that have formed after the last exit. |", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_2", 
            "text": "Print (\"The last exit was \" +  BarsSinceExit () + \" bars ago.\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#cancelorder", 
            "text": "", 
            "title": "CancelOrder()"
        }, 
        {
            "location": "/strategy_programming/#description_3", 
            "text": "Cancel order deletes an order.  A cancel request is sent to the broker. There is no guarantee that the order will actually be deleted there. It may occur that the order receives a partial execution before it is deleted. Therefore we recommend that you check the status of the order with [ OnOrderUpdate() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_2", 
            "text": "CancelOrder (IOrder order)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_2", 
            "text": "An order object of the type \u201cIOrder\u201d", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_3", 
            "text": "private  IOrder myEntryOrder =  null ;  private int  barNumberOfOrder = 0;  protected  override void  OnBarUpdate ()  {  // Place an entry stop at the high of the current bar  if  (myEntryOrder ==  null )  {  myEntryOrder =  EnterLongStop (High[0], \"stop long\");  barNumberOfOrder = CurrentBar;  }  // Delete the order after 3 bars  if  (Position.MarketPosition == PositionType.Flat   CurrentBar   barNumberOfOrder + 3)  CancelOrder (myEntryOrder);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#changeorder", 
            "text": "", 
            "title": "ChangeOrder()"
        }, 
        {
            "location": "/strategy_programming/#description_4", 
            "text": "Change order, as the name suggests, changes an order.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_3", 
            "text": "ChangeOrder (IOrder iOrder,  int  quantity,  double  limitPrice,  double  stopPrice)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_3", 
            "text": "iOrder  An order object of the type \u201cIOrder\u201d    quantity  Number of units to be ordered    limitPrice  Limit price. Set this to 0 if not needed    stopPrice  Stop price. Set this to 0 if not needed", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_4", 
            "text": "private  IOrder stopOrder =  null ;  protected  override void  OnBarUpdate ()  {  // If the position is profiting by 4 ticks then set the stop to break-even  if  (stopOrder !=  null    stopOrder.StopPrice   Position.AvgPrice   Close[0]  = Position.AvgPrice + 4 * TickSize)  ChangeOrder (stopOrder, stopOrder.Quantity, stopOrder.LimitPrice, Position.AvgPrice);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#dataseriesconfigurable", 
            "text": "", 
            "title": "DataSeriesConfigurable"
        }, 
        {
            "location": "/strategy_programming/#defaultquantity", 
            "text": "", 
            "title": "DefaultQuantity"
        }, 
        {
            "location": "/strategy_programming/#description_5", 
            "text": "Change order changes an order.  Default quantity defines the amount to be used in a strategy. Default quantity is set within the [ Initialize() ] method.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_4", 
            "text": "ChangeOrder (IOrder iOrder,  int  quantity,  double  limitPrice,  double  stopPrice)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_4", 
            "text": "an int value containing the amount (stocks, contracts etc.)", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_5", 
            "text": "protected  override void  Initialize ()  {  DefaultQuantity = 100;  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#enterlong", 
            "text": "", 
            "title": "EnterLong()"
        }, 
        {
            "location": "/strategy_programming/#description_6", 
            "text": "Enter long creates a long position (buy).  If a signature not containing an amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterLongLimit() ], [ EnterLongStop() ], [ EnterLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_5", 
            "text": "EnterLong ()  EnterLong (string signalName)  EnterLong ( int  quantity)  EnterLong ( int  quantity, string signalName)  For multi-bar strategies  EnterLong ( int  barsInProgressIndex,  int  quantity, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_5", 
            "text": "signalName  An unambiguous name    quantity  The amount of stocks/contracts    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the entry order is to be executed. See [ BarsInProgress ].", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_6", 
            "text": "// Enter a long position if the last entry is 10 bars in the past  // and if two SMAs have crossed  if  ( BarsSinceEntry ()   10    CrossAbove ( SMA (10),  SMA (20), 1))  EnterLong (\"SMA cross entry\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#enterlonglimit", 
            "text": "", 
            "title": "EnterLongLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_7", 
            "text": "Enter long limit creates a limit order for entering a long position (buy).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterLong() ], [ EnterLongStop() ], [ EnterLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_6", 
            "text": "EnterLongLimit ( double  limitPrice)  EnterLongLimit ( double  limitPrice, string signalName)  EnterLongLimit ( int  quantity,  double  limitPrice)  EnterLongLimit ( int  quantity,  double  limitPrice, string signalName)  For Multibar-Strategies  EnterLongLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_6", 
            "text": "signalName  An unambiguous name    quantity  Amount of stocks/contracts/etc.    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the entry order is to be executed.     See [ BarsInProgress ].     limitPrice  A double value for the limit price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until removed with [ CancelOrder ] or until it reaches its expiry (see [ TimeInForce ]).", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_1", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_7", 
            "text": "// A long position is placed if the last entry was 10 bars ago and the two SMAs have crossed each other  if  ( BarsSinceEntry ()   10    CrossAbove ( SMA (10),  SMA (20), 1))  EnterLongLimit (\"SMA cross entry\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#enterlongstop", 
            "text": "", 
            "title": "EnterLongStop()"
        }, 
        {
            "location": "/strategy_programming/#description_8", 
            "text": "Enter long stop creates a limit order for entering a long position (buy).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterLong() ], [ EnterLongLimit() ], [ EnterLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_7", 
            "text": "EnterLongStop ( double  stopPrice)  EnterLongStop ( double  stopPrice, string signalName)  EnterLongStop ( int  quantity,  double  stopPrice)  EnterLongStop ( int  quantity,  double  stopPrice, string signalName)  For multi-bar strategies  EnterLongStop ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  stopPrice, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_7", 
            "text": "signalName  An unambiguous name    quantity  Amount of stocks or contracts etc.    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies    Index of the data series for which an entry order is to be executed.     See [ BarsInProgress ].     stopPrice  A double value for the stop price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted with the [ CancelOrder ] command or until it reaches its expiry time (see [ TimeInForce ]).", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_2", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_8", 
            "text": "private  IOrder myEntryOrder =  null ;  // Place an entry order at the high of the current bar  if  (myEntryOrder ==  null )  myEntryOrder =  EnterLongStop (High[0], \"Stop Long\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#enterlongstoplimit", 
            "text": "", 
            "title": "EnterLongStopLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_9", 
            "text": "Enter long stop limit creates a buy stop limit order for entering a long position.  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterLong() ], [ EnterLongLimit() ], [ EnterLongStop() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_8", 
            "text": "EnterLongStopLimit ( double  limitPrice,  double  stopPrice)  EnterLongStopLimit ( double  limitPrice,  double  stopPrice, string signalName)  EnterLongStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice)  EnterLongStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice, string signalName)  For multi-bar strategies  EnterLongStopLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice,  double  stopPrice, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_8", 
            "text": "signalName  An unambiguous name    quantity  Amount of stocks or contracts to be ordered    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the entry order is to be executed.     See [ BarsInProgress ].     stopPrice  A double value for the stop price    limitPrice  A double value for the limit price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until canceled with the CancelOrder command or until it reaches its expiry (see [ TimeInForce ]).", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_3", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_9", 
            "text": "private  IOrder myEntryOrder =  null ;  // Place an entry stop at the high of the current bar\n// if the high is reached, a limit order will be placed 2 ticks above the high  if  (myEntryOrder ==  null )  myEntryOrder =  EnterLongStopLimit (High[0]+2*TickSize, High[0], \"Stop Long\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#entershort", 
            "text": "", 
            "title": "EnterShort()"
        }, 
        {
            "location": "/strategy_programming/#description_10", 
            "text": "Enter short creates a market order for entering a short position (naked sell).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterShortLimit() ], [ EnterShortStop() ], [ EnterShortStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_9", 
            "text": "EnterShort ()  EnterShort (string signalName)  EnterShort ( int  quantity)  EnterShort ( int  quantity, string signalName)  For multi-bar strategies  EnterShort ( int  barsInProgressIndex,  int  quantity, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_9", 
            "text": "signalName  An unambiguous name    quantity  Amount of stocks/contracts etc.    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies    Index of the data series for which the entry order is to be executed     See [ BarsInProgress ].", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_4", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_10", 
            "text": "// A short position will be placed if the last entry is 10 bars in the past and two SMAs have crossed each other  if  ( BarsSinceEntry ()   10    CrossBelow ( SMA (10),  SMA (20), 1))  EnterShort (\"SMA cross entry\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#entershortlimit", 
            "text": "", 
            "title": "EnterShortLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_11", 
            "text": "Enter short limit creates a limit order for entering a short position (naked short).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterShort() ], [ EnterShortStop() ], [ EnterShortStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_10", 
            "text": "EnterShortLimit ( double  limitPrice)  EnterShortLimit ( double  limitPrice, string signalName)  EnterShortLimit ( int  quantity,  double  limitPrice)  EnterShortLimit ( int  quantity,  double  limitPrice, string signalName)  For Multibar-Strategies  EnterShortLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_10", 
            "text": "signalName  An unambiguous name    quantity  Amount to be ordered    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the entry order is to be executed.     See [ BarsInProgress ].     limitPrice  A double value for the limit price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted with the CancelOrder command or until it reaches its expiry (see [ TimeInForce ]).", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_5", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_11", 
            "text": "// Enter a short position if the last entry is 10 bars in the past and two SMAs have crossed each other  if  ( BarsSinceEntry ()   10    CrossBelow ( SMA (10),  SMA (20), 1))  EnterShortLimit (\"SMA cross entry\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#entershortstop", 
            "text": "", 
            "title": "EnterShortStop()"
        }, 
        {
            "location": "/strategy_programming/#description_12", 
            "text": "Enter short stop creates a limit order for entering a short position.\nIf a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.\nSee [ EnterShort() ], [ EnterShortLimit() ], [ EnterShortStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_11", 
            "text": "EnterShortStop ( double  stopPrice)  EnterShortStop ( double  stopPrice, string signalName)  EnterShortStop ( int  quantity,  double  stopPrice)  EnterShortStop ( int  quantity,  double  stopPrice, string signalName)  For multi-bar strategies  EnterShortStop ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  stopPrice, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_11", 
            "text": "signalName  An unambiguous name    quantity  Amount to be ordered    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the entry order is to be executed.     See [ BarsInProgress ].     stopPrice  A double value for the stop price    liveUntilCancelled  The order will remain active until canceled using the CancelOrder command or until it reaches its expiry time", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_6", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_12", 
            "text": "private  IOrder myEntryOrder =  null ;  // Place an entry stop at the low of the current bar  if  (myEntryOrder ==  null )  myEntryOrder =  EnterShortStop (Low[0], \"stop short\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#entershortstoplimit", 
            "text": "", 
            "title": "EnterShortStopLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_13", 
            "text": "Enter short stop limit creates a sell stop limit order for entering a short position.  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ EnterShort() ], [ EnterShortLimit() ], [ EnterShortStop() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_12", 
            "text": "EnterShortStopLimit ( double  limitPrice,  double  stopPrice)  EnterShortStopLimit ( double  limitPrice,  double  stopPrice, string signalName)  EnterShortStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice)  EnterShortStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice, string signalName)  For multi-bar strategies  EnterShortStopLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice,  double  stopPrice, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_12", 
            "text": "signalName  An unambiguous name    quantity  Amount to be ordered    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which an entry order is to be placed.     See [ BarsInProgress ].     stopPrice  A double value for the stop price    limitPrice  A double value for the limit price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_7", 
            "text": "An order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_13", 
            "text": "private  IOrder myEntryOrder =  null ;  // Place an entry stop at the low of the current bar; if the low is reached then place a limit order 2 ticks below the low  if  (myEntryOrder ==  null )  myEntryOrder =  EnterShortStopLimit (Low[0]-2*TickSize, Low[0], \"stop short\");", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#entriesperdirection", 
            "text": "", 
            "title": "EntriesPerDirection"
        }, 
        {
            "location": "/strategy_programming/#description_14", 
            "text": "Entries per direction defines the maximum number of entries permitted in one direction (long or short).  Whether the name of the entry signal is taken into consideration or not is defined within [ EntryHandling ].  Entries per direction is defined with the [ Initialize() ] method.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_13", 
            "text": "EntriesPerDirection", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_13", 
            "text": "An int value for the maximum entries permitted in one direction.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_14", 
            "text": "// Example 1  // If one of the two entry conditions is true and a long position is opened, then the other entry signal will be ignored  protected  override void  Initialize ()  {  EntriesPerDirection = 1;  EntryHandling = EntryHandling.AllEntries;  }  protected  override void  OnBarUpdate ()  {  if  ( CrossAbove ( SMA (10),  SMA (20), 1)  EnterLong (\"SMA Cross Entry\");  if  ( CrossAbove ( RSI (14, 3), 30, 1)  EnterLong (\"RSI Cross Entry);  }  // Example 2  // For each differently named entry signal, a long position will be opened  protected  override void  Initialize ()  {  EntriesPerDirection = 1;  EntryHandling = EntryHandling.UniqueEntries;  }  protected  override void  OnBarUpdate ()  {  if  ( CrossAbove ( SMA (10),  SMA (20), 1)  EnterLong (\"SMA Cross Entry\");  if  ( CrossAbove ( RSI (14, 3), 30, 1)  EnterLong (\"RSI Cross Entry);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#entryhandling", 
            "text": "", 
            "title": "EntryHandling"
        }, 
        {
            "location": "/strategy_programming/#description_15", 
            "text": "Entry handling decides how the maximum number of entries permitted in one direction is interpreted ([ EntriesPerDirection ]).  Entry handling is defined with the [ Initialize() ] method.  EntryHandling.AllEntries  AgenaTrader continues to create entry orders until the maximum number of entries permitted (defined in [ EntriesPerDirection ]) per direction (long or short) is reached, regardless of how the entry signals are named.  If entries per direction = 2, then enter long (\"SMA crossover\") and enter long (\"range breakout\") combined will reach the maximum number of long entries permitted.  EntryHandling.UniqueEntries  AgenaTrader continues to generate entry orders until the maximum number of entries (defined in entries per direction) in one direction (long or short) for the differently named entry signals has been reached.\nIf entries per direction = 2, then it is possible for two signals for enter long (\"SMA crossover\")  and  2 signals for enter long (\"range breakout\") to be traded.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_14", 
            "text": "EntryHandling", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#example_15", 
            "text": "See [ EntriesPerDirection ].", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#excludetradehistoryinbacktest", 
            "text": "", 
            "title": "ExcludeTradeHistoryInBacktest"
        }, 
        {
            "location": "/strategy_programming/#exitlong", 
            "text": "", 
            "title": "ExitLong()"
        }, 
        {
            "location": "/strategy_programming/#description_16", 
            "text": "Exit long creates a sell market order for closing a long position (sell).  If a signature not containing a set amount is used, the amount is set by [ DefaultQuantity ] or taken from the strategy dialog window.  See [ ExitLong() ], [ ExitLongLimit() ], [ ExitLongStop() ], [ ExitLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_15", 
            "text": "ExitLong ()  ExitLong ( int  quantity)  ExitLong (string fromEntry signal)  ExitLong (string signalName, string fromEntry signal)  ExitLong ( int  quantity, string signalName, string fromEntry signal)  For multi-bar strategies  ExitLong ( int  barsInProgressIndex,  int  quantity, string signalName, string fromEntry signal)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_14", 
            "text": "signalName  An unambiguous name    quantity  The quantity to be sold    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     fromEntry signal  The name of the attached entry signal", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_8", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_16", 
            "text": "// Enter if two SMAs cross each other  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  EnterLong (\"SMA Cross Entry\");  // Close position  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  ExitLong ();", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitlonglimit", 
            "text": "", 
            "title": "ExitLongLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_17", 
            "text": "Exit long limit creates a sell limit order for closing a long position (i.e. for selling).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.\nSee [ ExitLong() ], [ ExitLongLimit() ], [ ExitLongStop() ], [ ExitLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_16", 
            "text": "ExitLongLimit ( double  limitPrice)  ExitLongLimit ( int  quantity,  double  limitPrice)  ExitLongLimit ( double  limitPrice, string fromEntry signal)  ExitLongLimit ( double  limitPrice, string signalName, string fromEntry signal)  ExitLongLimit ( int  quantity,  double  limitPrice, string signalName, string fromEntry signal)  For multi-bar strategies  ExitLongLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice, string signalName, string fromEntry signal)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_15", 
            "text": "signalName  An unambiguous name    fromEntry signal  The name of the attached entry signal    quantity  Order quantity to be sold    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     limitPrice  A double value for the limit price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_9", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_17", 
            "text": "// Enter if two SMAs cross each other  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  EnterLong (\"SMA Cross Entry\");  // Close position  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  ExitLongLimit ( GetCurrentBid ());", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitlongstop", 
            "text": "", 
            "title": "ExitLongStop()"
        }, 
        {
            "location": "/strategy_programming/#description_18", 
            "text": "Exit long stop creates a sell stop order for closing a long position (short).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.\nSee [ ExitLong() ], [ ExitLongLimit() ], [ ExitLongStop() ], [ ExitLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_17", 
            "text": "ExitLongStop ( int  quantity,  double  stopPrice)  ExitLongStop ( double  stopPrice, string fromEntry signal)  ExitLongStop ( double  stopPrice, string signalName, string fromEntry signal)  ExitLongStop ( int  quantity,  double  stopPrice, string signalName, string fromEntry signal)  For multi-bar strategies  ExitLongStop ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  stopPrice, string signalName, string fromEntry signal)ExitLongStop", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_16", 
            "text": "signalName  An unambiguous name    fromEntry signal  The name of the associated entry signal    quantity  The quantity to be sold    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     stopPrice  A double value for the stop price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_10", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_18", 
            "text": "// Enter if two SMAs cross each other  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  EnterLong (\"SMA Cross Entry\");  // Close position  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  ExitLongStop (Low[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitlongstoplimit", 
            "text": "", 
            "title": "ExitLongStopLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_19", 
            "text": "Exit long stop limit creates a sell stop limit order for closing a long position (i.e. selling).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ ExitLong() ], [ ExitLongLimit() ], [ ExitLongStop() ], [ ExitLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_18", 
            "text": "ExitLongStopLimit ( double  limitPrice,  double  stopPrice)  ExitLongStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice)  ExitLongStopLimit ( double  limitPrice,  double  stopPrice, string fromEntry signal)  ExitLongStopLimit ( double  limitPrice,  double  stopPrice, string signalName, string fromEntry signal)  ExitLongStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice, string signalName, string fromEntry signal)  For Multibar-Strategies  ExitLongStopLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice,  double  stopPrice, string signalName, string fromEntry signal)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_17", 
            "text": "signalName  An unambiguous name    fromEntry signal  The name of the associated entry signal    quantity  The quantity to be sold    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     limitPrice  A double value for the limit price    stopPrice  A double value for the stop price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_11", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_19", 
            "text": "// Enter if two SMAs cross each other  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  EnterLong (\"SMA Cross Entry\");  // Close position  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  ExitLongStopLimit (Low[0]-10*TickSize, Low[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitonclose", 
            "text": "", 
            "title": "ExitOnClose"
        }, 
        {
            "location": "/strategy_programming/#exitoncloseseconds", 
            "text": "", 
            "title": "ExitOnCloseSeconds"
        }, 
        {
            "location": "/strategy_programming/#exitshort", 
            "text": "", 
            "title": "ExitShort()"
        }, 
        {
            "location": "/strategy_programming/#description_20", 
            "text": "Exit short creates a buy-to-cover market order for closing a short position (buy).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.\nSee [ ExitShort() ], [ ExitShortLimit() ], [ ExitShortStop() ], [ ExitShortStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_19", 
            "text": "ExitShort ()  ExitShort ( int  quantity)  ExitShort (string fromEntry signal)  ExitShort (string signalName, string fromEntry signal)  ExitShort ( int  quantity, string signalName, string fromEntry signal)  For multi-bar strategies  ExitShort ( int  barsInProgressIndex,  int  quantity, string signalName, string fromEntry signal)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_18", 
            "text": "signalName  An unambiguous name    Quantity  Order quantity to be bought    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     fromEntry signal  The name of the associated entry signal", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_12", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_20", 
            "text": "// Enter if two SMAs cross each other  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  EnterShort (\"SMA cross entry\");  // Close position  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  ExitShort ();", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitshortlimit", 
            "text": "", 
            "title": "ExitShortLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_21", 
            "text": "Exit short limit creates a buy-to-cover limit order for closing a short position (buy).  If a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ ExitShort() ], [ ExitShortLimit() ], [ ExitShortStop() ], [ ExitShortStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_20", 
            "text": "ExitShortLimit ( double  limitPrice)  ExitShortLimit ( int  quantity,  double  limitPrice)  ExitShortLimit ( double  limitPrice, string fromEntry signal)  ExitShortLimit ( double  limitPrice, string signalName, string fromEntry signal)  ExitShortLimit ( int  quantity,  double  limitPrice, string signalName, string fromEntry signal)  For multi-bar strategies  ExitShortLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice, string signalName, string fromEntry signal)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_19", 
            "text": "signalName  An unambiguous name    fromEntry signal  The name of the associated entry signal    quantity  Order quantity to be bought    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     limitPrice  A double value for the limit price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_13", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_21", 
            "text": "// Enter if two SMAs cross  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  EnterShort (\"SMA cross entry\");  // Close position  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  ExitShortLimit ( GetCurrentAsk ());", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitshortstop", 
            "text": "", 
            "title": "ExitShortStop()"
        }, 
        {
            "location": "/strategy_programming/#description_22", 
            "text": "Exit short stop creates a buy-to-cover stop order for closing a short position.\nIf a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ ExitShort() ], [ ExitShortLimit() ], [ ExitShortStop() ], [ ExitShortStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_21", 
            "text": "ExitShortStop ( int  quantity,  double  stopPrice)  ExitShortStop ( double  stopPrice, string fromEntry signal)  ExitShortStop ( double  stopPrice, string signalName, string fromEntry signal)  ExitShortStop ( int  quantity,  double  stopPrice, string signalName, string fromEntry signal)  For multi-bar strategies  ExitShortStop ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  stopPrice, string signalName, string fromEntry signal)ExitLongStop", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_20", 
            "text": "signalName  An unambiguous name    fromEntry signal  The name of the associated entry signal    quantity  Order quantity to be bought    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     stopPrice  A double value for the stop price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_14", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_22", 
            "text": "// Enter if two SMAs have crossed  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  EnterShort (\"SMA cross entry\");  // Close position  if  ( CrossAbove  ( SMA (10),  SMA (20), 1))  ExitShortStop (High[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#exitshortstoplimit", 
            "text": "", 
            "title": "ExitShortStopLimit()"
        }, 
        {
            "location": "/strategy_programming/#description_23", 
            "text": "Exit short stop limit creates a buy-to-cover stop limit order for closing a short position.\nIf a signature not containing a set amount is used, the amount is set by the [ DefaultQuantity ] or taken from the strategy dialog window.  See [ ExitLong() ], [ ExitLongLimit() ], [ ExitLongStop() ], [ ExitLongStopLimit() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_22", 
            "text": "ExitShortStopLimit ( double  limitPrice,  double  stopPrice)  ExitShortStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice)  ExitShortStopLimit ( double  limitPrice,  double  stopPrice, string fromEntry signal)  ExitShortStopLimit ( double  limitPrice,  double  stopPrice, string signalName, string fromEntry signal)  ExitShortStopLimit ( int  quantity,  double  limitPrice,  double  stopPrice, string signalName, string fromEntry signal)  For multi-bar strategies  ExitShortStopLimit ( int  barsInProgressIndex,  bool  liveUntilCancelled,  int  quantity,  double  limitPrice,  double  stopPrice, string signalName, string fromEntry signal)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_21", 
            "text": "signalName  An unambiguous name    fromEntry signal  The name of the associated entry signal    quantity  Order quantity to be bought    barsInProgressIndex  For [ Multibar ][ MultiBars ] strategies.    Index of the data series for which the exit order is to be executed.     See [ BarsInProgress ].     limitPrice  A double value for the limit price    stopPrice  A double value for the stop price    liveUntilCancelled  The order will not be deleted at the end of the bar, but will remain active until deleted using the CancelOrder command or until it reaches its expiry time.", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_15", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_23", 
            "text": "// Enter if two SMAs cross each other  if  ( CrossBelow ( SMA (10),  SMA (20), 1))  EnterShort (\"SMA cross entry\");  // Close position  if  ( CrossAbove ( SMA (10),  SMA (20), 1))  ExitShortStopLimit (High[0]+10*TickSize, High[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#getaccountvalue", 
            "text": "", 
            "title": "GetAccountValue()"
        }, 
        {
            "location": "/strategy_programming/#description_24", 
            "text": "Get account value outputs information regarding the account for which the current strategy is being carried out.  See [ GetProfitLoss() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_23", 
            "text": "GetAccountValue (AccountItem accountItem)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_22", 
            "text": "Possible values for account item are:  AccountItem.BuyingPower  AccountItem.CashValue  AccountItem.RealizedProfitLoss", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_16", 
            "text": "a double value for the account item  for historical bars, a zero (0) is returned", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_24", 
            "text": "Print (\"The current account cash value is \" +  GetAccountValue (AccountItem.CashValue));  Print (\"The current account cash value with the leverage provided by the broker is \" +  GetAccountValue (AccountItem.BuyingPower));  Print (\"The current P/L already realized is \" +  GetAccountValue (AccountItem.RealizedProfitLoss));", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#getprofitloss", 
            "text": "", 
            "title": "GetProfitLoss()"
        }, 
        {
            "location": "/strategy_programming/#description_25", 
            "text": "Get profit loss outputs the currently unrealized profit or loss for a running position.  See [ GetAccountValue() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_24", 
            "text": "GetProfitLoss ( int  pLType);", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_23", 
            "text": "Potential values for the P/L type are:  0 \u2013 Amount: P/L as a currency amount  1 \u2013 Percent: P/L in percent  2 \u2013 Risk: P/L in Van Tharp R-multiples ([ http://www.vantharp.com/tharp-concepts/risk-and-r-multiples.asp ])  3 \u2013 P/L in ticks", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_17", 
            "text": "a double value for the unrealized profit or loss", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_25", 
            "text": "Print (\"The current risk for the strategy \" +  this .Name + \" is \" +  GetProfitLoss (1) + \" \" + Instrument.Currency);  Print (\"This equals \"+ string. Format ( \"{0:F1} R.\",  GetProfitLoss (3)));", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#marketposition", 
            "text": "See [ Position.MarketPosition ].", 
            "title": "MarketPosition"
        }, 
        {
            "location": "/strategy_programming/#performance", 
            "text": "", 
            "title": "Performance"
        }, 
        {
            "location": "/strategy_programming/#description_26", 
            "text": "Performance is an object containing information regarding all trades that have been generated by a strategy.  The trades are sorted into multiple lists. With the help of these lists it is easier to create a performance evaluation.  See Performance Characteristics.  The individual lists are:    Performance.AllTrades\n     A [ Trade ] collection object containing all trades generated by a strategy    Performance.LongTrades\n     A [ Trade ] collection object containing all long trades generated by a strategy    Performance.ShortTrades\n     A [ Trade ] collection object containing all short trades generated by a strategy    Performance.WinningTrades\n     A [ Trade ] collection object containing all profitable trades generated by a strategy    Performance.LosingTrades\n     A [ Trade ] collection object containing all loss trades generated by a strategy", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#example_26", 
            "text": "// When exiting a strategy, create a performance evaluation  protected  override void  OnTermination ()  {  Print (\"Performance evaluation of the strategy : \" +  this .Name);  Print (\"----------------------------------------------------\");  Print (\"Amount of all trades: \" + Performance.AllTrades.Count);  Print (\"Amount of winning trades: \" + Performance.WinningTrades.Count);  Print (\"Amount of all loss trades: \" + Performance.LosingTrades.Count);  Print (\"Amount of all long trades: \" + Performance.LongTrades.Count);  Print (\"Amount of short trades: \" + Performance.ShortTrades.Count);  Print (\"Result: \" + Account.RealizedProfitLoss + \" \" + Account.Currency);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#position", 
            "text": "", 
            "title": "Position"
        }, 
        {
            "location": "/strategy_programming/#description_27", 
            "text": "Position is an object containing information regarding the position currently being managed by a strategy.  The individual properties are:    Position.AvgPrice\n     The average buy or sell price of a position.\n    For positions without partial executions, this is equal to the entry price.    Position.CreatedDateTime\n     Date and time at which the position was opened.    Position.Instrument\n     The trading instrument in which the position exists.\n    See  Instruments .    Position.MarketPosition\n     One of three possible positions in the market:   PositionType.Flat  PositionType.Long  PositionType.Short     Position.OpenProfitLoss\n     The currently not yet realized profit or loss.\n    See [ GetProfitLoss() ].    Position.ProfitCurrency\n     Profit (or loss) displayed as a currency amount.    Position.ProfitPercent\n     Profit (or loss) displayed in percent.    Position.ProfitPoints\n     Profit (or loss) displayed in points or pips.    Position.Quantity\n     Amount of stocks, contracts, CFDs etc. within a position.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#example_27", 
            "text": "if  (Position.MarketPosition != PositionType.Flat)  {  Print (\"Average price \" + Position.AvgPrice);  Print (\"Opening time \" + Position.CreatedDateTime);  Print (\"Instrument \" + Position.Instrument);  Print (\"Current positioning \" + Position.MarketPosition);  Print (\"Unrealized P/L \" + Position.OpenProfitLoss);  Print (\"P/L (currency) \" + Position.ProfitCurrency);  Print (\"P/L (in percent) \" + Position.ProfitPercent);  Print (\"P/L (in points) \" + Position.ProfitPoints);  Print (\"Pieces \" + Position.Quantity);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#quantity", 
            "text": "See [ Position.Quantity ][ Position.MarketPosition ].", 
            "title": "Quantity"
        }, 
        {
            "location": "/strategy_programming/#setprofittarget", 
            "text": "", 
            "title": "SetProfitTarget()"
        }, 
        {
            "location": "/strategy_programming/#description_28", 
            "text": "Set profit target immediately creates a \u201ctake profit\u201d order after an entry order is generated. The order is sent directly to the broker and becomes active immediately.\nIf the profit target is static, you can also define SetProfitTarget() with the Initialize() method.  See [ SetStopLoss() ], [ SetTrailStop() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_25", 
            "text": "SetProfitTarget ( double  currency)  SetProfitTarget (CalculationMode mode,  double value )  SetProfitTarget (string fromEntry signal, CalculationMode mode,  double value )", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_24", 
            "text": "currency  Sets the profit target in a currency, for example 500\u20ac.    mode  Possible values are:                     - CalculationMode.Percent (display in percent)                                                                                                                     \n                - CalculationMode.Price (display as price value)                                                                                                                   \n                - CalculationMode.Ticks (display in ticks or pips)                                                                                                                 |  | value            | The distance between entry price and profit target. This is dependent upon the \u201emode\u201c but generally refers to a monetary value, a percentage or a value in ticks. |\n| fromEntry signal | The name of the entry signal for which the profit target is to be generated. The amount is taken from the entry order referenced.                                 |", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_28", 
            "text": "protected  override void  Initialize ()  {  // Creates a profit target order 10 ticks above break-even  SetProfitTarget (CalculationMode.Ticks, 10);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#setstoploss", 
            "text": "", 
            "title": "SetStopLoss()"
        }, 
        {
            "location": "/strategy_programming/#description_29", 
            "text": "Set stop loss creates a stop loss order after an entry order is placed. The order is sent directly to the broker and becomes effective immediately.  If the stop loss is static, then SetStopLoss() can be defined with the Initialize() method.  See [ SetProfitTarget() ], [ SetTrailStop() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_26", 
            "text": "SetStopLoss ( double  currency)  SetStopLoss ( double  currency,  bool  simulated)  SetStopLoss (CalculationMode mode,  double value )  SetStopLoss (string fromEntry signal, CalculationMode mode,  double value ,  bool  simulated)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_25", 
            "text": "currency  The difference between the stop loss and the entry price (=risk) in a currency, such as 500\u20ac    mode  Potential values can be:                     - CalculationMode.Percent (display in percent)                                                                                                                                                               \n                - CalculationMode.Price (display as price value)                                                                                                                                                             \n                - CalculationMode.Ticks (display in ticks or pips)                                                                                                                                                           |  | simulated        | When set to \u201ctrue,\u201d the stop order does not go live (as a market order) until the price has \u201etouched\u201c it for the first time (meaning that it is executed just as it would be under real market conditions). |\n| value            | The distance between stop price and profit target. This is dependent upon the \u201emode\u201c but generally refers to a monetary value, a percentage or a value in ticks.                                            |\n| fromEntry signal | The name of the entry signal for which the stop order is to be generated. The amount is taken from the entry order referenced.                                                                              |", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_29", 
            "text": "protected  override void  Initialize ()  {  // Sets a stop of 500\u20ac  SetStopLoss (500);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#settrailstop", 
            "text": "", 
            "title": "SetTrailStop()"
        }, 
        {
            "location": "/strategy_programming/#description_30", 
            "text": "Set trail stop creates a trail stop order after an entry order is generated. Its purpose is to protect you from losses, and after reaching break-even, to protect your gains.  The order is sent directly to the broker and becomes effective immediately.  If the stop loss price and the offset value are static, you can define SetTrailStop() with the Initialize() method.  If you use SetTrailStop() within the [ OnBarUpdate() ] method, you must make sure that the parameters are readjusted to the initial value, otherwise the most recently used settings will be used for the new position.  Functionality:  Assuming that you have SetTrailStop(CalculationMode.Ticks, 30) selected:  In a long position, the stop will be 30 ticks from the previously reached high. If the market makes a new high, the stop will be adjusted. However, the stop will no longer be moved downwards.  In a short position, this behavior starts with the most recent low.  Tips:  It is not possible to use SetStopLoss and SetTrailStop for the same position at the same time within one strategy. The SetStopLoss() method will always have precedence over the other methods.  However, it is possible to use both variants parallel to each other in the same strategy if they are referencing different entry signals.  Partial executions of a single order will cause a separate trading stop for each partial position.  If a SetProfitTarget() is used in addition to a SetTrailStop(), then both orders will be automatically linked to form an OCO order.  It is always a stop market order that is generated, and not a stop limit order.  If a position is closed by a different exit order within the strategy, then the TrailingStopOrder is automatically deleted.  See [ SetStopLoss() ], [ SetProfitTarget() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_27", 
            "text": "SetTrailStop ( double  currency)  SetTrailStop ( double  currency,  bool  simulated)  SetTrailStop (CalculationMode mode,  double value )  SetTrailStop (string fromEntry signal, CalculationMode mode,  double value ,  bool  simulated)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_26", 
            "text": "currency  The distance between the stop loss and the entry price    mode  Possible values are:                     - CalculationMode.Percent                                                                                                                                                                                    \n                - CalculationMode.Ticks                                                                                                                                                                                      |  | simulated        | When set to \u201ctrue,\u201d the stop order does not go live (as a market order) until the price has \u201etouched\u201c it for the first time (meaning that it is executed just as it would be under real market conditions). |\n| value            | The distance between stop price and profit target. This is dependent upon the \u201emode\u201c but generally refers to a monetary value, a percentage or a value in ticks.                                            |\n| fromEntry signal | The name of the entry signal for which the stop order is to be generated. The amount is taken from the entry order referenced.                                                                              |", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#example_30", 
            "text": "protected  override void  Initialize ()  {  // Sets a trailing stop of 30 ticks  SetTrailStop (CalculationMode.Ticks, 30);  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#submitorder", 
            "text": "", 
            "title": "SubmitOrder()"
        }, 
        {
            "location": "/strategy_programming/#description_31", 
            "text": "Submit order creates a user-defined order. For this order, no stop or limit order is placed in the market. All AgenaTrader control mechanisms are switched off for this order type. The user is responsible for managing the various stop and target orders, including partial executions.  See [ OnOrderUpdate() ], [ OnExecution() ].", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_28", 
            "text": "SubmitOrder ( int  barsInProgressIndex, OrderAction orderAction, OrderType orderType,  int  quantity,  double  limitPrice,  double  stopPrice, string ocoId, string signalName)", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_27", 
            "text": "barsInProgressIndex  For multi-bar strategies.    Index of the data series for which the order is to be executed.     See BarsInProgress.     orderAction  Possible values are:                        OrderAction.Buy                                                     \n                   Buy order for a long entry\n\n                   OrderAction.Sell                                                    \n                   Sell order for closing a long position\n\n                   OrderAction.SellShort                                               \n                   Sell order for a short entry\n\n                   OrderAction.BuyToCover                                              \n                   Buy order for closing a short position                              |  | orderType           | Possible values:                                                                        OrderType.Limit\n\n                   OrderType.Market\n\n                   OrderType.Stop\n\n                   OrderType.StopLimit                                                 |  | quantity            | Amount                                                             |\n| limitPrice          | Limit value. Inputting a 0 makes this parameter irrelevant         |\n| stopPrice           | Stop value. Inputting a 0 makes this parameter irrelevant          |\n| ocoId               | A unique ID (string) for linking multiple orders into an OCO group |\n| signalName          | An unambiguous signal name (string)                                |", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_18", 
            "text": "an order object of the type \u201cIOrder\u201d", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_31", 
            "text": "", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#timeinforce", 
            "text": "", 
            "title": "TimeInForce"
        }, 
        {
            "location": "/strategy_programming/#description_32", 
            "text": "The time in force property determines how long an order is valid for. The validity period is dependent upon which values are accepted by a broker.  TimeInForce is specified with the [ Initialize() ] method.  Permitted values are:\nTimeInForce.day\nTimeInForce.loc\nTimeInForce.gtc (GTC = good till canceled)\nTimeInForce.gtd  Default:  TimeInForce.GTC", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_29", 
            "text": "TimeInForce", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#example_32", 
            "text": "protected  override void  Initialize ()  {  TimeInForce = TimeInForce.Day;  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#traceorders", 
            "text": "", 
            "title": "TraceOrders"
        }, 
        {
            "location": "/strategy_programming/#description_33", 
            "text": "The trace orders property is especially useful for keeping track of orders generated by strategies. It also provides an overview of which orders were generated by which strategies.\nTrace orders can be specified with the [ Initialize() ] method.  When TraceOrders is activated, each order will display the following values in the output window:  Instrument  Time frame  Action  Type  Limit price  Stop price  Quantity  Name  This information is useful when creating and debugging strategies.", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#usage_30", 
            "text": "TraceOrders", 
            "title": "Usage"
        }, 
        {
            "location": "/strategy_programming/#parameter_28", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/strategy_programming/#return-value_19", 
            "text": "true  Tracing is currently switched on false  Tracing is switched off", 
            "title": "Return Value"
        }, 
        {
            "location": "/strategy_programming/#example_33", 
            "text": "protected  override void  Initialize ()  {  ClearOutputWindow ();  TraceOrders =  true ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#trade", 
            "text": "", 
            "title": "Trade"
        }, 
        {
            "location": "/strategy_programming/#description_34", 
            "text": "Trade is an object containing information about trades that have been executed by a strategy or are currently running.  The individual properties are:    Trade.AvgPrice\n     Average entry price    Trade.ClosedProfitLoss\n     Profit or loss already realized    Trade.Commission\n     Commissions    Trade.CreatedDateTime\n     Time at which the trade was created    Trade.EntryReason\n     Description of the entry signal\n    For strategies: signal entry name    Trade.ExitDateTime\n     Time at which the trade was closed    Trade.ExitPrice\n     Exit price    Trade.ExitReason\n     Description of the exit signal\n    For strategies: name of the strategy    Trade.Instrument\n     Description of the trading instrument    Trade.MarketPosition\n     Positioning within the market   PositionType.Flat  PositionType.Long  PositionType.Short     Trade.OpenProfitLoss\n     Unrealized profit/loss of a running position    Trade.ProfitCurrency\n     Profit or loss in the currency that the account is held in    Trade.ProfitLoss\n     Profit or loss    Trade.ProfitPercent\n     Profit or loss in percent    Trade.ProfitPercentWithCommission\n     Profit or loss in percent with commissions    Trade.ProfitPoints\n     Profit or loss in points/pips    Trade.Quantity\n     Quantity of stocks/contracts/ETFs/etc.    Trade.TimeFrame\n     Timeframe in which the trade was opened    Trade.Url\n     URL for the snapshot of the chart at the moment of creation", 
            "title": "Description"
        }, 
        {
            "location": "/strategy_programming/#example_34", 
            "text": "protected  override void  OnTermination ()  {  if  (Performance.AllTrades.Count   1) return;  foreach  (ITrade trade  in  Performance.AllTrades)  {  Print (\"Trade #\"+trade.Id);  Print (\"--------------------------------------------\");  Print (\"Average price \" + trade.AvgPrice);  Print (\"Realized P/L \" + trade.ClosedProfitLoss);  Print (\"Commissions \" + trade.Commission);  Print (\"Time of entry \" + trade.CreatedDateTime);  Print (\"Entry reason \" + trade.EntryReason);  Print (\"Time of exit \" + trade.ExitDateTime);  Print (\"Exit price \" + trade.ExitPrice);  Print (\"Exit reason \" + trade.ExitReason);  Print (\"Instrument \" + trade.Instrument);  Print (\"Positioning \" + trade.MarketPosition);  Print (\"Unrealized P/L \" + trade.OpenProfitLoss);  Print (\"P/L (currency) \" + trade.ProfitCurrency);  Print (\"P/L \" + trade.ProfitLoss);  Print (\"P/L (in percent) \" + trade.ProfitPercent);  Print (\"P/L (% with commission)\" + trade.ProfitPercentWithCommission);  Print (\"PL (in points) \" + trade.ProfitPoints);  Print (\"Quantity \" + trade.Quantity);  Print (\"Timeframe \" + trade.TimeFrame);  Print (\"URL for the snapshot \" + trade.Url);  Print (\"\");  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/strategy_programming/#unmanaged", 
            "text": "", 
            "title": "Unmanaged"
        }, 
        {
            "location": "/strategy_programming/#backtesting-and-optimization", 
            "text": "", 
            "title": "Backtesting and Optimization"
        }, 
        {
            "location": "/strategy_programming/#performance-characteristics", 
            "text": "Performance characteristics are the various factors that can be calculated for a list of trades. The trades can be generated by a strategy in real-time or based on a backtest.  The following are available:   all trades  all long trades  all short trades  all winning trades  all losing trades   See [ Performance ].  The individual factors are:    AvgEtd\n     The average drawdown at the end of a trade\n     TradeCollection .TradesPerformance. TradesPerformanceValues .AvgEtd\n     Print (\"Average ETD of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgEtd);    AvgMae\n     Average maximum adverse excursion\n     TradeCollection .TradesPerformance. TradesPerformanceValues .AvgMae\n     Print (\"Average MAE of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgMae);    AvgMfe\n     Average maximum favorable excursion\n     TradeCollection .TradesPerformance. TradesPerformanceValues .AvgMfe\n     Print (\"Average MFE of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgMfe);    AvgProfit\n     Average profit for all trades\n     TradeCollection .TradesPerformance. TradesPerformanceValues .AvgProfit\n     Print (\"Average profit of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.AvgProfit);    CumProfit\n     The cumulative winnings over all trades\n     TradeCollection .TradesPerformance. TradesPerformanceValues .CumProfit\n     Print (\"Average cumulative profit of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.CumProfit);    DrawDown\n     The drawdown for all trades\n     TradeCollection .TradesPerformance. TradesPerformanceValues .DrawDown\n     Print (\"Drawdown of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.DrawDown);    LargestLoser\n     The largest losing trade\n     TradeCollection .TradesPerformance. TradesPerformanceValues .LargestLoser\n     Print (\"Largest loss of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.LargestLoser);    LargestWinner\n     The largest winning trade\n     TradeCollection .TradesPerformance. TradesPerformanceValues .LargestWinner\n     Print (\"Largest win of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.LargestWinner);    ProfitPerMonth\n     The total performance (wins/losses) for the month (also in percent)\n     TradeCollection .TradesPerformance. TradesPerformanceValues .ProfitPerMonth\n     Print (\"Profit per month of all trades is: \" + Performance.AllTrades.TradesPerformance.Currency.ProfitPerMonth);    StdDev \n    The standard deviation for the wins/losses. With this, you are able to identify outliers. The smaller the standard deviation, the higher the expectation of winnings.    All factors are double values.", 
            "title": "Performance Characteristics"
        }, 
        {
            "location": "/keywords/", 
            "text": "Keywords\n\n\nAdd()\n\n\nDescription\n\n\nThe add method allows you to add plots or line objects to the chart. When a new plot object is added using Add(), this automatically creates a data series of the type DataSeries, which is attached to this object. The value collection allows you to reference and access this data series.\nAdd() can be used with the Initialize() and the OnBarUpdate() methods.\n\n\nParameter\n\n\nplot \u2013 a [\nPlot\n] object\nline \u2013 a [\nLine\n] object\n\n\nUsage\n\n\nAdd\n(Plot plot)\n\n\nAdd\n(Line line)\n\n\nExample\n\n\n#\nregion\n Usings\n\n\nusing\n System;\n\n\nusing\n System.Collections.Generic;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n System.Drawing;\n\n\nusing\n System.Linq;\n\n\nusing\n System.Xml;\n\n\nusing\n System.Xml.Serialization;\n\n\nusing\n AgenaTrader.API;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nusing\n AgenaTrader.Helper;\n\n\n#\nendregion\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"Enter the description for the new custom indicator here\")]\n\n\npublic\n class MyIndicator : UserIndicator\n\n\n{\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// Two blue lines will be placed into the chart, one at 70 and the other at 30\n\n\nAdd\n(\nnew Line\n(Color.Blue, 70, \"UpperLine\"));\n\n\nAdd\n(\nnew Line\n(Color.Blue, 30, \"LowerLine\"));\n\n\n// Add 2 plots\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"myFastSMA\"));\n\n\nAdd\n(\nnew Plot\n(Color.Blue, \"mySlowSMA\"));\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n//The set method is assigned to the value of the current bar\n\n\nFastSMA.\nSet\n( \nSMA\n(8)[0] ); // is identical with Values[0].Set( SMA(8)[0] );\n\n\nSlowSMA.\nSet\n( \nSMA\n(50)[0] ); // is identical with Values[1].Set( SMA(50)[0] );\n\n\n}\n\n\n// Two data series are made available here\n\n\n// These are not necessary for the display of the indicator // With the help of these series, one indicator can access the other\n\n\n// For example: double d = MyIndicator.FastSMA[0] - MyIndicator.SlowSMA[0];\n\n\n[\nBrowsable\n(\nfalse\n)]\n\n\n[\nXmlIgnore\n()]\n\n\npublic\n DataSeries FastSMA\n\n\n{\n\n\nget { return Values[0]; }\n\n\n}\n\n\n[\nBrowsable\n(\nfalse\n)]\n\n\n[\nXmlIgnore\n()]\n\n\npublic\n DataSeries SlowSMA\n\n\n{\n\n\nget { return Values[1]; }\n\n\n}\n\n\n}\n\n\n}\n\n\nAlert()\n\n\nDescription\n\n\nThe alert method creates an acoustic and/or visual alarm.\n\n\nUsage\n\n\nAlert\n(string message, \nbool\n showMessageBox, string soundLocation);\n\n\nDue to compatability reasons, an old signature is still used here. When using this method, the color settings and the \u201cre-arm seconds\u201d parameter are ignored.\n\n\nAlert\n(string id, AlertPriority priority, string message, string soundLocation, \nint\n rearmSeconds, Color backColor, Color forColor);\n\n\n\n\nReturn Value\n\n\nNone\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmessage\n\n\nAlert text displayed within the messages tab\n\n\n\n\n\n\nsoundLocation\n\n\nName of a sound file in the *.wav format. If no path is specified, then \u201cMy Documents\\AgenaTrader\\Sounds\\ is used\n\n\n\n\n\n\nshowMessageBox\n\n\nIf set to \u201ctrue\u201d, a message box will be displayed in addition to the sound\n\n\n\n\n\n\n\n\nExample\n\n\n// Message will be outputted if the SMA(20) crosses below the SMA(50)\n\n\nif\n (\nCrossBelow\n(\nSMA\n(20), \nSMA\n(50), 1))\n\n\nAlert\n(\"Check short signal!\", \ntrue\n, \"Alert4.wav\");\n\n\nTo use music files in a different path, you need to specify the path:\n\n\nstring pathOfSoundfile = Environment.\nGetFolderPath\n(Environment.SpecialFolder.MyDocuments)+@\"\\MyAlertSounds\\\";\n\n\nstring nameOfSoundFile = \"MyAlertSoundFile.wav\";\n\n\nAlert\n(\"Message text\", \ntrue\n, pathOfSoundfile + nameOfSoundFile);\n\n\nAllowRemovalOfDrawObjects\n\n\nDescription\n\n\n\u201cAllowRemovalOfDrawObjects\u201d is a property of indicators that can be set under [\nInitialize()\n].\n\n\nAllowRemovalOfDrawObjects = true\n\n\nDrawing objects that are drawn by an indicator or a strategy can be manually removed from the chart.\n\n\nAllowRemovalOfDrawObjects = false (default)\n\n\nDrawing objects that have been created by a strategy or indicator CANNOT be manually removed from the chart. They are removed once the indicator or strategy is removed.\n\n\nThis property can be queried and will return \u201ctrue\u201d or \u201cfalse\u201d.\n\n\nUsage\n\n\nAllowRemovalOfDrawObjects\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//Drawing objects can be manually removed from the chart\n\n\nAllowRemovalOfDrawObjects = \ntrue\n;\n\n\n}\n\n\nAttribute\n\n\nAttribute is a component of the C# language. Within AgenaScript, indicators, and strategies, you can use these attributes in the same manner as you would in C#.\nInformation regarding the usage of attributes can be found here:\n\n\n[\nhttp://msdn.microsoft.com/de-de/library/z0w1kczw%28v=vs.80%29.aspx\n]\n\n\nThe most commonly used attributes in AgenaScript are:\n\n\n\n\n\n\n[\nBrowsable\n]\n\n\n\n\n\n\n[\nCategory\n]\n\n\n\n\n\n\n[\nConditionalValue\n]\n\n\n\n\n\n\n[\nDescription\n]\n\n\n\n\n\n\n[\nDisplayName\n]\n\n\n\n\n\n\n[\nTimeFrameRequirements\n]\n\n\n\n\n\n\n[\nXmlIgnore\n]\n\n\n\n\n\n\nBrowsable\n\n\nBrowsable is an \n[Attribut]e\n within AgenaScript.\n\n\nAgenaScript uses public variables for entering parameters for indicators (such as periods for the SMA) and for outputting events and calculations within indicators (for example, data series).\nVariables used for entering parameters must be displayed in the properties dialog. Data series are exempt from this.\nPublic variables with the browsable attribute set to false are not displayed within the properties dialog.\n\n\nBy default, browsable is set to true. Therefore, within a variable containing an entry parameter, the attribute does not need to be specified.\n\n\nExample for a parameter:\n\n\nThe parameter should be displayed and queried in the properties window. Therefore browsable should be set to true.\n\n\n[Description(\"Numbers of bars used for calculations\")]\n\n\n[Category(\"Parameters\")]\n\n\npublic int Period\n\n\n{\n\n\nget { return period; }\n\n\nset { period = Math.Max(1, value); }\n\n\n}\n\n\nExample for a data series:\n\n\n[Browsable(false)]\n\n\n[DisplayName(\"Lower band\")]\n\n\n[XmlIgnore]\n\n\npublic DataSeries Lower\n\n\n{\n\n\nget { return Values[0]; }\n\n\n}\n\n\nCategory\n\n\nCategory is an \n[Attribut]e\n in AgenaScript.\n\n\nThe category attribute defines under which category in the properties dialog the parameter is shown.\nIf this attribute is missing, the parameters category is accepted as the standard.\n\n\nThe following example shows how to create the new category \u201cMy Parameters\u201d in the properties dialog:\n\n\n[Category(\"My Parameters\")]\n\n\n[DisplayName(\"Period number\")]\n\n\npublic double _period\n\n\n{\n\n\nget { return _period; }\n\n\nset { _period = value; }\n\n\n}\n\n\n\n\nConditionalValue\n\n\nConditional value is an \n[Attribut]e\n in AgenaScript.\n\n\nNormally, when making comparisons within the ConditionEscort, the data series generated by indicators are used. One such example would be checking whether a moving average lies above or below a specific price value.\nAn indicator can also yield values that are not contained within data series, such as values of the type int, double, char, Boolean, string, etc.\nTo use these values within the scanner or ConditionEscort, they have to be labeled with the conditional value attribute.\n\n\n[\nBrowsable\n(\nfalse\n)]\n\n\n[XmlIgnore]\n\n\n[ConditionalValue]\n\n\npublic int\n PublicVariable\n\n\n{\n\n\nget\n\n\n{\n\n\nUpdate\n();\n\n\nreturn _internVariable;\n\n\n}\n\n\n}\n\n\nDescription\n\n\nDescription is an attribute in AgenaScript.\n\n\nThe description attribute is used in AgenaScript for classes and public variables.\nAs an attribute of the class, the text is a description of the function of the entire indicator.\n\n\n[Description(\"Displays the tick count of a bar.\")]\n\n\npublic class TickCounter : UserIndicator\n\n\n{\n\n\n...\n\n\nAs an attribute of a public variable, the text is a description of the function of the parameter.\n\n\n[Description(\"Number of standard deviations\")]\n\n\n[DisplayName(\"# of std. dev.\")]\n\n\npublic double NumStdDev\n\n\n{\n\n\nget { return numStdDev; }\n\n\nset { numStdDev = Math.Max(0, value); }\n\n\n}\n\n\nThe descriptions are displayed in the relevant properties dialog.\n\n\nDisplayName\n\n\nDisplay name is an attribute in AgenaScript.\n\n\nThe display name attribute defines the text shown in the properties dialog for the parameter.\n\n\nIf this attribute is not specified, the name of the public variable is used.\n\n\n[Description(\"Number of standard deviations\")]\n\n\n[DisplayName(\"# of std. dev.\")]\n\n\npublic double NumStdDev\n\n\n{\n\n\nget { return numStdDev; }\n\n\nset { numStdDev = Math.Max(0, value); }\n\n\n}\n\n\nTimeFrameRequirements\n\n\nTimeframe requirements is an attribute in AgenaScripts.\n\n\nIf you want a script to use data from various timeframes, the class requires the attribute \u201eTimeFrameRequirements\u201c. You can specify multiple timeframes here:\n\n\n[\nTimeFrameRequirements\n(\"1 day\")]\n\n\n[\nTimeFrameRequirements\n(\"15 minutes\", \"1 day\", \"1 week\")]\n\n\nThe amount of data provided for the other timeframes will always be the same as the number of actual candles loaded into the chart. If there are 500 candles for a 5-minute chart, then 500 candles of another timeframe will also be loaded. In the first example above, 500 daily candles will be loaded. In the second example, 500 15-minute candles, 500 daily candles and 500 weekly candles will be loaded.\nThe amount of data can become rather large very quickly, thus you should take precautions when using this attribute.\n\n\nSee [\nMultiBars\n].\n\n\nImportant:\n\n\nIf a class uses a different indicator that requires one or more secondary timeframes, then the \u201cTimeFrameRequirements\u201d attribute must be set for the class retrieving the data. An example for this can be seen here: [\nGetDayBar\n].\n\n\nXMLIgnore\n\n\nXML ignore is an attribute in AgenaScript.\n\n\nAgenaTrader saves all parameter settings for the indicators in a template. The template files are saved in an XML format. In order to avoid a parameter being saved as part of the template, the attribute XML ignore can be set.\n\n\nTo save parameters in an XML file, the values must be serialized. Under most circumstances, AgenaTrader performs this automatically. Self-defined data types cannot be serialized automatically, so in this case the programmer is responsible for the correct serialization.\nIn the following example, the color and font are used as parameters of an indicator. AgenaTrader has two methods for serializing color and font information (TextColorSerialize and TextFontSerialize). Both parameters \u2013 TextColor and TextFont \u2013 thus need to be marked with the XML ignore parameter.\n\n\nprivate\n Color _textColor = Color.Blue;\n\n\nprivate\n Font _textFont = \nnew Font\n(\"Arial\", 12, FontStyle.Bold);\n\n\n[XmlIgnore]\n\n\n[Description(\"Textcolor\")]\n\n\npublic Color TextColor\n\n\n{\n\n\nget { return _textColor; }\n\n\nset { _textColor = value; }\n\n\n}\n\n\n[Browsable(false)]\n\n\npublic string TextColorSerialize\n\n\n{\n\n\nget { return SerializableColor.ToString(_textColor); }\n\n\nset { _textColor = SerializableColor.FromString(value); }\n\n\n}\n\n\n[XmlIgnore()]\n\n\n[Description(\"TextFont\")]\n\n\npublic Font TextFont\n\n\n{\n\n\nget { return _textFont; }\n\n\nset { _textFont = value; }\n\n\n}\n\n\n[Browsable(false)]\n\n\npublic string TextFontSerialize\n\n\n{\n\n\nget { return SerializableFont.ToString(_textFont); }\n\n\nset { _textFont = SerializableFont.FromString(value); }\n\n\n}\n\n\nAutoScale\n\n\nDescription\n\n\nAuto scale is a property of indicators that can be set within the Initialize() method.\n\n\nAutoScale = true (default)\n\n\nThe price axis (y-axis) of the chart is set so that all plots and lines of an indicator are visible.\n\n\nAutoScale = false\n\n\nPlots and lines of an indicator or strategy are not accounted for in the scaling of the y-axis. Therefore they may lie outside of the visible chart area.\n\n\nThis property can be queried and will return either \u201ctrue\u201d or \u201cfalse\u201d.\n\n\nUsage\n\n\nAutoScale\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//Scale the chart so that all drawing objects are visible\n\n\nAutoScale = \ntrue\n;\n\n\n}\n\n\nBarsRequired\n\n\nDescription\n\n\nThe property \u201cBarsRequired\u201d determines how many historical bars are required for an indicator or a strategy to call up the OnBarUpdate() method for the first time and thus begin the calculations. Bars required should be set within the Initialize() method.\nThe setting should be chosen carefully. If you require 100 days for the calculation of a moving average, then you should ensure that at least 100 days of historical data are loaded.\nThe property can be queried in the script and will return an int value.\n\n\nWhen OnBarUpdate is called up for the first time, the CurrentBar property is 0 regardless of the value of BarsRequired.\n\n\nUsage\n\n\nBarsRequired\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//The indicator requires a minimum of 50 bars loaded into the history\n\n\nBarsRequired = 50;\n\n\n}\n\n\nCalculateOnBarClose\n\n\nDescription\n\n\nThe property \u201cCalculateOnBarClose\u201d determines the events for which AgenaTrader can call up the OnBarUpdate() method.\n\n\nCalculateOnBarClose = true\n\nOnBarUpdate() is called up when a bar is closed and the next incoming tick creates a new bar.\n\n\nCalculateOnBarClose = false\n\nOnBarUpdate() is called up for each new incoming tick.\nIf you are running AgenaTrader on older hardware, this may cause performance issues with instruments that are highly liquid.\nThe property can be queried in the script and will return a value of the type Boolean (true or false).\nCalculateOnBarClose can be used within Initialize() and also within OnBarUpdate().\nOnBarUpdate is only called up for the closing price of each bar with historical data, even if CalculateOnBarClose is set to false.\nWhen an indicator is called up by another indicator, the CalculateOnBarClose property of the retrieved indicator overwrites the indicator performing the retrieving.\n\n\nUsage\n\n\nCalculateOnBarClose\n\n\nMore Information\n\n\nSee [\nBars\n].\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n//Indicator calculation should only occur when a bar has closed/finished\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nChartControl\n\n\nChart control is an object that provides reading access of various properties for the chart.\n\n\nThe important properties are:\n\n\n\n\n\n\nChartFontColor, BackColor\n\n\n\n\n\n\nUpColor, DownColor\n\n\n\n\n\n\nFont\n\n\n\n\n\n\nBarMarginLeft, BarMarginRight\n\n\n\n\n\n\nBarSpace, BarWidth\n\n\n\n\n\n\nBarsPainted\n\n\n\n\n\n\nFirstBarPainted, LastBarPainted\n\n\n\n\n\n\nBarsVisible\n\n\n\n\n\n\nFirstBarVisible, LastBarVisible\n\n\n\n\n\n\nGetXByBarIdx, GetYByValue\n\n\n\n\n\n\nAn example can be seen here: [\nPlotSample\n].\n\n\nBarsPainted und BarsVisible:\n\n\nBarsPainted contains the number of bars that a chart \ncould\n display from the left to right border with the current width and distance of the candles.\nBarsVisible contains the number of bars actually visible.\n\n\nFirstBarPainted und FirstBarVisible:\n\n\nFirstBarPainted contains the number of the bar that \nwould\n be displayed on the left border of the chart.\n\n\nFirstBarVisible contains the number of the bar that is actually shown as the first bar on the left side of the chart area.\n\n\nExample: the chart has been moved so that the first bar of the chart is now in the middle of the chart.\n\n\nFirstBarPainted would be negative.\n\n\nFirstBarVisible would be 0.\n\n\nLastBarPainted und LastBarVisible:\n\n\nLastBarPainted contains the number of the bar that \nwould\n be displayed on the right border of the chart.\n\n\nLastBarVisible contains the number of the bar that is actually displayed on the right side of the chart.\n\n\nExample: the chart has been moved so that the last bar of the chart is displayed in the middle section.\n\n\nLastBarPainted would be larger than Bars.Count.\n\n\nLastBarVisible would be Bars.Count -1.\n\n\nClearOutputWindow()\n\n\nDescription\n\n\nThe ClearOutputWindow() method empties the output window. The method can be used within Initialize() as well as within OnBarUpdate().\nThe output window contains all outputs that have been created with the [\nPrint()\n] command.\nUsing the output window is a great method for code debugging.\n\n\nUsage\n\n\nClearOutputWindow()\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nnone\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n// Delete the content of the output window\n\n\nClearOutputWindow();\n\n\n}\n\n\nCrossAbove()\n\n\nDescription\n\n\nThe CrossAbove() method allows you to check whether a crossing of two values has occurred (from bottom to top) within a predefined number of periods. The values can be a market price, an indicator, a data series or a constant value.\n\n\nSee [\nCrossBelow()\n], [\nRising()\n], [\nFalling()\n].\n\n\nUsage\n\n\nCrossAbove\n(IDataSeries series1, \ndouble value\n, \nint\n lookBackPeriod)\n\n\nCrossAbove\n(IDataSeries series1, IDataSeries series2, \nint\n lookBackPeriod)\n\n\nReturn Value\n\n\ntrue\n a cross has occurred\n\nfalse\n a cross has not occurred\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlookBackPeriod\n\n\nNumber of bars within which a cross will be searched for\n\n\n\n\n\n\nseries1 und series2\n\n\nA data series such as an indicator, close, high, etc.\n\n\n\n\n\n\nvalue\n\n\nA constant value of the type double\n\n\n\n\n\n\n\n\nExample\n\n\n// Puts out a notice if the SMA(20) crosses above the SMA(50)\n\n\nif\n (\nCrossAbove\n(\nSMA\n(20), \nSMA\n(50), 1))\n\n\nPrint\n(\"SMA(20) has risen above SMA(50)!\");\n\n\n// Puts out a notice if the SMA(20) crosses above the value of 40\n\n\nif\n (\nCrossAbove\n(\nSMA\n(20), 40, 1))\n\n\nPrint\n(\"SMA(20) has risen above 40!\");\n\n\n// Put out a notice for a long entry if the SMA(20) has crossed above the SMA(50) within the last 5 bars.\n\n\nif\n (\nCrossAbove\n(\nSMA\n(20), \nSMA\n(50), 1) \n Close[0] \n Close[1])\n\n\nPrint\n(\"Long entry !!!\");\n\n\nCrossBelow()\n\n\nDescription\n\n\nUsing the CrossBelow() method, you can test whether or not a cross below has occurred within a predefined number of periods. The values can be the market price, an indicator, any data series, or a constant value.\n\n\nSee [\nCrossAbove()\n], [\nRising()\n], [\nFalling()\n].\n\n\nUsage\n\n\nCrossBelow\n(IDataSeries series1, \ndouble value\n, \nint\n lookBackPeriod)\n\n\nCrossBelow\n(IDataSeries series1, IDataSeries series2, \nint\n lookBackPeriod)\n\n\nReturn Value\n\n\ntrue\n a cross has occurred\n\nfalse\n a cross has not occurred\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlookBackPeriod\n\n\nNumber of Bars within which a cross will be searched for\n\n\n\n\n\n\nseries1 und series2\n\n\nA data series such as an indicator, close, high etc.\n\n\n\n\n\n\nvalue\n\n\nA constant value of the type double\n\n\n\n\n\n\n\n\nExample\n\n\n// Puts out a notice if the SMA(20) crosses below the SMA(50)\n\n\nif\n (\nCrossBelow\n(\nSMA\n(20), \nSMA\n(50), 1))\n\n\nPrint\n(\"SMA(20) has fallen below SMA(50)!\");\n\n\n// Puts out a notice if the SMA(20) falls below the value of 40\n\n\nif\n (\nCrossBelow\n(\nSMA\n(20), 40, 1))\n\n\nPrint\n(\"SMA(20) has fallen below 40!\");\n\n\n// Puts out a notice for a short entry if a crossing of the SMA(20) below the SMA(50) has occurred within the last 5 bars.\n\n\n.\n\n\nif\n (\nCrossBelow\n(\nSMA\n(20), \nSMA\n(50), 1) \n Close[1] \n Close[0])\n\n\nPrint\n(\"Short entry !!!\");\n\n\nCurrentBar\n\n\nDescription\n\n\nCurrent bar is a method of indexing bars used in the OnBarUpdate() method. If a chart contains 500 bars and an indicator is to be calculated on the basis of these, then AgenaTrader will begin calculating from the oldest bar. The oldest bar receives the number 0. Once the calculation for this bar has been completed, the OnBarUpdate() method is called up for the next bar, which in turn receives the number 1. This continues until the last bar, which receives a value of 500.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nCurrent bar is a variable of the type int, which always contains the number of the bar currently being used.\n\n\nUsage\n\n\nCurrentBar\n\n\nMore Information\n\n\nThe OnBarUpdate() method uses numbering different from that of CurrentBar in terms of the [\nBarindex\n][\nBars\n]. Understanding this difference is of great importance, which is why we ask you to please read the following paragraph carefully:\n\n\nCurrentBar numbers continuously from the oldest to youngest bar starting with 0. The BarIndex for the youngest bar is always 0. In the example referenced below this paragraph, Time[0] stands for the timestamp of the current bar. The index of the oldest bar always has 1 added to it. Thus a logical numbering of barsAgo is possible. The timestamp for the bar of 5 periods ago is Time[5].\nFor using multiple timeframes (multi-bars) in an indicator, see CurrentBars.\n\n\nExample\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\nPrint\n(\"Call of OnBarUpdate for bar nr. \" + CurrentBar + \" of \" + Time[0]);\n\n\n}\n\n\nDatafeedHistoryPeriodicity\n\n\nDescription\n\n\nDatafeed history periodicity is a data type.\n\n\nDefinition\n\n\npublic enum DatafeedHistoryPeriodicity\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Tick\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Second\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Minute\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Hour\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Day\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Week\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Month\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Volume\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Range\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Quarter\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Year\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.HeikinAshi\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Renko\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.LineBreak\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Kagi\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.PointAndFigure\n\n\n\n\n\n\nDatafeedHistoryPeriodicity.Custom\n\n\n\n\n\n\nSee \nTimeFrame\n, \nTimeFrames\n.\n\n\nDataSeries\n\n\nDescription\n\n\nData series (data rows) are an easy yet powerful method of saving additional values for individual bars. For example, when calculating the smoothing average, each bar is assigned the value calculated for this bar.\nA data series is an array that contains as many elements as there are bars displayed in a chart. AgenaTrader ensures that data series are correctly synchronized with the bars.\nData series are used in exactly the same way as the close or time series. They can therefore also be used for the input data for various indicators.\nIn the table below you will find 4 newly created data series (highlighted). Each data series has exactly one value of a special data type (int, bool, string) attached to it per bar. The indexing with barsAgo is thus identical to the data series provided by the system.\n\n\n\n\nUsable Data Series in AgenaTrader\n\n\n[\nBoolSeries\n]\n\n\n[\nDataSeries\n]\n\n\n[\nDateTimeSeries\n]\n\n\n[\nFloatSeries\n]\n\n\n[\nIntSeries\n]\n\n\n[\nLongSeries\n]\n\n\n[\nStringSeries\n]\n\n\nIn addition, there are also data series such as ColorSeries, although these are only used for internal purposes and should not be used directly.\nTo change the color of plots, please use [\nPlotColors\n].\n\n\nSet(), Reset() und ContainsValue()\n\n\nEach data series contains a \nSet()\n, \nReset()\n and \nContainsValue()\n method.\nWith Set(value) or Set(int barsAgo, value) you can place values into the data series for the current position, or in this case into the barsAgo position.\nWith Reset() or Reset(int barsAgo) you can delete a value from the data series for the current position or for the barsAgo position. This has the result that no valid value exists at this position any more.\nProgramming with the help of the reset method can simplify otherwise complex logic. This is especially true for Boolean series, where only \u201ctrue\u201d or \u201cfalse\u201d values can be included.\nThe ContainsValue() checks whether a data series has a value for a specific position.\n\n\nInformation about Data Types\n\n\n[\nhttp://msdn.microsoft.com/de-de/library/s1ax56ch%28v=vs.80%29.aspx\n]\n\n\nBoolSeries\n\n\nDescription\n\n\nBool series is a data series that contains a Boolean value for each bar. The number of elements in this series correlates with the exact number of bars within the chart.\n\n\nCreate New Bool Series\n\n\nIn the area for the declaration of variables, simply declare a new variable:\n\n\n//Variable declaration\n\n\nprivate\n BoolSeries myBoolSeries;\n\n\nWith the Initialize() method, this variable assigns a new instance of the Bool series:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyBoolSeries = \nnew BoolSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the data series for the current position:\n\n\nmyBoolSeries.\nSet\n(\ntrue\n);\n\n\nWriting a value in the past into the data series:\n\n\nmyBoolSeries.\nSet\n(\nint\n barsAgo, \nbool\n Value);\n\n\nDelete Values\n\n\nRemoving the current value for the data series:\n\n\nmyBoolSeries.\nReset\n();\n\n\nRemoving a value in the past from the data series:\n\n\nmyBoolSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyBoolSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (\"For the bar of \" + Time[0] + \" ago the value of the data series is: \" + myBoolSeries[0]);\n\n\nExample\n\n\nprotected override void OnBarUpdate()\n\n\n{\n\n\nif\n (Close[0] \n Open[0])\n\n\nmyBoolSeries.\nSet\n(\ntrue\n);\n\n\nelse\n\n\nmyBoolSeries.\nSet\n(\nfalse\n);\n\n\n}\n\n\nDataSeries\n\n\nDescription\n\n\nData series is a [\nDataSeries\n][\nData series\n] that can contain a double value for each bar. The number of elements in this series corresponds to the exact number of bars within the charts.\n\n\nData series for double values are the data series most commonly used for indicators.\n\n\nCreate a New Data Series\n\n\nIn the declaration area for variables:\n\n\n//Variable declaration\n\n\nprivate\n DataSeries myDataSeries;\n\n\nWith the Initialize() method, this variable is assigned a new instance:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyDataSeries = \nnew DataSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the data series for the current position:\n\n\nmyDataSeries.Set(Bars[0].Close);\n\n\nWriting a value in the past into the data series:\n\n\nmyDataSeries.\nSet\n(\nint\n barsAgo, \nduble\n Value);\n\n\nDelete Values\n\n\nRemoving the current value from the data series:\n\n\nmyDataSeries.\nReset\n();\n\n\nRemoving a value in the past from the data series:\n\n\nmyDataSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyDataSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (\"For the bar from \" + Time[0] + \" ago the value for the data series is: \" + myDataSeries[0]);\n\n\nExample\n\n\n//Saves the span between the high and low of a bar\n\n\nmyDataSeries.\nSet\n(Math.\nAbs\n(High[0]-Low[0]));\n\n\nDateTimeSeries\n\n\nDescription\n\n\nDate time series is a [\nDataSeries\n][\nData series\n] that can record a date time value for each bar. The number of elements in this series corresponds to the number of bars in the chart.\n\n\nCreate a New Data Series\n\n\nCreate a new variable in the declaration area:\n\n\n//Variable declaration\n\n\nprivate\n DateTimeSeries myDataSeries;\n\n\nAssign a new instance of DateTimeSeries for the variable with the Initialize() method:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyDataSeries = \nnew DateTimeSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the current position of the data series:\n\n\nmyDataSeries.\nSet\n(DateTime Value);\n\n\nWriting a value from the past into the data series:\n\n\nmyDataSeries.\nSet\n(\nint\n barsAgo, DateTime Value);\n\n\nDelete Values\n\n\nRemoving the current value from the data series:\n\n\nmyDataSeries.\nReset\n();\n\n\nRemove a past value from the data series:\n\n\nmyDataSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyDataSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (\"For the bar from \" + Time[0] + \" ago the value of the data series is: \" + myDataSeries[0]);\n\n\nExample\n\n\n//Saves the difference of -6 hours (eastern time, New York) for a time zone conversion\n\n\nmyDataSeries.\nSet\n(Time[0].\nAddHours\n(-6);\n\n\nFloatSeries\n\n\nDescription\n\n\nFloat series is a DataSeries that contains a float value for each bar in the chart. The number of elements in this series corresponds to the number of bars within the chart.\n\n\nCreate a New Data Series\n\n\nCreate a new variable in the declaration area:\n\n\n//Variable declaration\n\n\nprivate\n FloatSeries myDataSeries;\n\n\nAssign a new instance of the FloatSeries to the variable with the Initialize() method:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyDatatSeries = \nnew FloatSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the current position of the data series\n\n\nmyDataSeries.\nSet\n(\nfloat\n Value);\n\n\nWriting a value from the past into the data series:\n\n\nmyDataSeries.\nSet\n(\nint\n barsAgo, \nfloat\n Value);\n\n\nDelete Values\n\n\nRemoving the current value from the data series:\n\n\nmyDataSeries.\nReset\n();\n\n\nRemoving a value located in the past from the data series:\n\n\nmyDataSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyDataSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (\"For the bar from \" + Time[0] + \" ago the value for the data series is: \" + myDataSeries[0]);\n\n\nExample\n\n\n//Saves the span between the high and the low of a bar\n\n\nmyDataSeries.\nSet\n(Math.\nAbs\n((\nfloat\n) High[0] - (\nfloat\n) Low[0]));\n\n\nIntSeries\n\n\nDescription\n\n\nInt series is a data series that can assign an integer value for each bar. The number of elements in this series corresponds to the number of bars within the chart.\n\n\nCreate a New Data Series\n\n\nCreate a new variable in the declaration area:\n\n\n//Variable declaration\n\n\nprivate\n IntSeries myDataSeries;\n\n\nAssign an instance of the int series to the variable with the Initialize() method:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyDataSeries = \nnew IntSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the current position of the data series\n\n\nmyDataSeries.\nSet\n(\nint\n Value);\n\n\nWriting a value from the past into the data series:\n\n\nmyDataSeries.\nSet\n(\nint\n barsAgo, \nint\n Value);\n\n\nDelete Values\n\n\nRemoving the current value from the data series:\n\n\nmyDataSeries.\nReset\n();\n\n\nRemoving a value located in the past from the data series:\n\n\nmyDataSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyDataSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (For the bar from + Time[0] + the value of the data series is:+ myDataSeries[0]);\n\n\nExample\n\n\n//Saves the span in ticks between high and low for each bar\n\n\nmyDataSeries.\nSet\n((\nint\n) ((High[0] - Low[0]) / TickSize));\n\n\nLongSeries\n\n\nDescription\n\n\nLong series is a data series that can include an integer value for each bar. The number of elements in this series corresponds to the number of bars within the chart.\n\n\nCreate a New Data Series\n\n\nCreate a new variable in the declaration area:\n\n\n//Variable declaration\n\n\nprivate\n LongSeries myDataSeries;\n\n\nAssign a new instance of the long series to the variable with the Initialize() method:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyDataSeries = \nnew LongSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the current position of the data series:\n\n\nmyDataSeries.\nSet\n(\nlong\n Value);\n\n\nWriting a value from the past into the data deries:\n\n\nmyDataSeries.\nSet\n(\nint\n barsAgo, \nlong\n Value);\n\n\nDelete Values\n\n\nRemoving the current value from the data series:\n\n\nmyDataSeries.\nReset\n();\n\n\nRemoving a value located in the past from the data series:\n\n\nmyDataSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyDataSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (For the bar from + Time[0] + the value of the data series is:+ myDataSeries[0]);\n\n\nExample\n\n\n//Saves the span of ticks between high and low for each bar\n\n\nmyDataSeries.\nSet\n((\nlong\n) ((High[0] - Low[0]) / TickSize));\n\n\nStringSeries\n\n\nDescription\n\n\nString series is a data series for string values that are saved for each bar. The number of elements in this series corresponds to the number of bars within the chart.\n\n\nCreate a New Data Series\n\n\nCreate a new variable in the declaration area:\n\n\n//Variable declaration\n\n\nprivate\n StringSeries myDataSeries;\n\n\nAssign an instance of string series to the variable with the Initialize() method:\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nmyDataSeries = \nnew StringSeries\n(\nthis\n);\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nAssign Values\n\n\nAssigning a value to the current position of the data series:\n\n\nmyDataSeries.\nSet\n(string Value);\n\n\nWriting a value from the past into the data series:\n\n\nmyDataSeries.\nSet\n(\nint\n barsAgo, string Value);\n\n\nDelete Values\n\n\nRemove the current value from the data series:\n\n\nmyDataSeries.\nReset\n();\n\n\nRemove a value located in the past from the data series:\n\n\nmyDataSeries.\nReset\n(\nint\n barsAgo);\n\n\nCheck Values for their Validity\n\n\nmyDataSeries.\nContainsValue\n(\nint\n barsAgo);\n\n\nRead Value\n\n\nPrint\n (For the bar from + Time[0] + the value of the data series is:+ myDataSeries[0]);\n\n\nExample\n\n\n//Save the current calendar day for each bar (Monday\u2026 Tuesday etc.)\n\n\nmyDataSeries.\nSet\n(string.\nFormat\n(\"{0:dddd}\", Time[0]));\n\n\nDayOfWeek\n\n\nDescription\n\n\n\u201cDayOfWeek\u201d outputs the date-time value (such as a timestamp) for each bar.\n\n\nOf course, all other methods defined within the C# language for usage of date-time objects are also available, such as day, month, year, hour, minute, second, day of week etc.\n\n\nSee [\nhttp://msdn.microsoft.com/de-de/library/03ybds8y.aspx\n]\n\n\nDefinition\n\n\nProperty DayOfWeek\n\n\npublic enum DayOfWeek\n\n\n\n\n\n\nDayOfWeek.Monday\n\n\n\n\n\n\nDayOfWeek.Tuesday\n\n\n\n\n\n\nDayOfWeek.Wednesday\n\n\n\n\n\n\nDayOfWeek.Thursday\n\n\n\n\n\n\nDayOfWeek.Friday\n\n\n\n\n\n\nDayOfWeek.Saturday\n\n\n\n\n\n\nDayOfWeek.Sunday\n\n\n\n\n\n\nExample\n\n\n//Outputs the weekday for each bar\n\n\nPrint\n(Time[0].DayOfWeek);\n\n\n//Do not execute trades on a Friday\n\n\nif\n (Time[0].DayOfWeek == DayOfWeek.Friday)\n\n\nreturn;\n\n\nDisplacement\n\n\nDescription\n\n\nBy implementing \u201cDisplacement\u201d, you can shift a drawn indicator line right or left along the x-axis.\nThis property can be queried within the script and will return an int value.\n\n\nBlue line: Displacement = 0 (Original)\nRed line: Displacement = -5\nGreen line: Displacement = +5\n\n\n\n\nUsage\n\n\nDisplacement\n\n\nParameter\n\n\nint Offset Number of bars by which the indicator is to be moved.\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//Displacement of the plot by one bar to the right\n\n\nDisplacement = 1;\n\n\n}\n\n\nDisplayInDataBox\n\n\nDescription\n\n\nThe property \u201cDisplayInDataBox\u201d states whether the value of an indicator is contained in the data box of the chart or not.\n\n\nThe property can be queried in the script and returns a value of the type Boolean (true or false).\n\n\nDisplayInDataBox = true (default)\n\n\nThe indicator values are displayed in the data box.\n\n\nDisplayInDataBox = false\n\n\nThe indicator values are not displayed in the data box.\n\n\nThe following image displays the values of 3 smoothed averages in the data box.\n\n\n\n\nUsage\n\n\nDisplayInDataBox\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//Values will not be shown in the data box\n\n\nDisplayInDataBox = \nfalse\n;\n\n\n}\n\n\nDrawOnPricePanel\n\n\nDescription\n\n\nThe property \u201cDrawOnPricePanel\u201d determines the panel in which the drawing objects are drawn.\n\n\nDrawOnPricePanel = true (default)\n\n\nDrawing objects are shown in the price chart\n\n\nDrawOnPricePanel = false\n\n\nDrawing objects are drawn in the panel (subchart) assigned to the indicator\n\n\nIf the indicator is already assigned to the price chart (overlay = true) then this property has no effect, meaning that no additional subchart is opened.\nThe property can be queried within the script and returns a Boolean value.\n\n\nUsage\n\n\nDrawOnPricePanel\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// Indicator is drawn in a new subchart\n\n\nOverlay = \nfalse\n;\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n// Drawing object is drawn in the price chart\n\n\nDrawOnPricePanel = \ntrue\n;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// Draws a vertical line in the price chart for the bar from 5 minutes ago\n\n\nDrawVerticalLine\n(\"MyVerticalLine\", 5, Color.Black);\n\n\n}\n\n\nFalling()\n\n\nDescription\n\n\nThe Falling() method allows you to test whether an \u201cis falling\u201d condition exists, i.e. whether the current value is smaller than the value of the previous bar.\n\n\nSee [\nCrossAbove()\n], [\nCrossBelow()\n], [\nRising()\n].\n\n\nUsage\n\n\nFalling\n(IDataSeries series)\n\n\nReturn Value\n\n\ntrue\n If the data series is falling\n\nfalse\n If the data series is not falling\n\n\nParameter\n\n\nseries a data series such as an indicator, close, high etc.\n\n\nExample\n\n\n// Check whether SMA(20) is falling\n\n\nif\n (\nFalling\n(\nSMA\n(20)))\n\n\nPrint\n(\"The SMA(20) is currently falling.\");\n\n\nColors\n\n\nAgenaScript provides you with the following commands for defining colors and making color changes to the chart:\n\n\n[\nBarColor\n] Color of a bar\n\n\n[\nBackColor\n] Background color of the chart\n\n\n[\nBackColorAll\n] Background color of the chart and all panels\n\n\nChartControl.UpColor Color of up ticks (up bars)\nChartControl.DownColor Color of down ticks (down bars)\n\n\nFor each bar, its colors are saved in the following data series. If these data series are written in, the color of the referenced bar will change.\n\n\n[\nBarColorSeries\n]\n\n\n[\nCandleOutlineColorSeries\n]\n\n\n[\nBackColorSeries\n]\n\n\n[\nBackColorAllSeries\n]\n\n\nBarColor\n\n\nDescription\n\n\nBar color changes the color of a bar.\n\n\nSee [\nColors\n], [\nBarColorSeries\n], [\nBackColor\n], [\nBackColorAll\n], [\nCandleOutlineColor\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nUsage\n\n\nBarColor\n\n\nExample\n\n\n// If the closing price is above the SMA(14), color the bar orange\n\n\nif\n (Close[0] \n \nSMA\n(14)[0]) BarColor = Color.Orange;\n\n\n\n\nBackColor\n\n\nDescription\n\n\nBack color changes the background color of a bar or gives the current background color of a bar when queried.\n\n\nSee [\nColors\n], [\nBarColor\n], [\nBackColorAll\n], [\nCandleOutlineColor\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nUsage\n\n\nBackColor\n\n\nExample\n\n\n// Every Monday, change the bar background color to blue\n\n\nif\n (Time[0].DayOfWeek == DayOfWeek.Monday)\n\n\nBackColor = Color.Blue;\n\n\n\n\n// Changing the bar background color depending on a smoothing average\n\n\n// Market price above the SMA(14) to green\n\n\n// Market price below the SMA(14) to maroon\n\n\nBackColor = \nSMA\n(14)[0] \n= Close[0] ? Color.Maroon : Color.LimeGreen;\n\n\n\n\nBackColorAll\n\n\nDescription\n\n\nBack color all changes the background color of a bar within the chart window and in all subcharts.\n\n\nSee [\nColors\n], [\nBarColor\n], [\nBackColor\n], [\nCandleOutlineColor\n].\n\n\nParameter\n\n\nA color object of the type \u201cpublic struct color\u201d\n\n\nUsage\n\n\nBackColorAll\n\n\nExample\n\n\n// Every Monday, change the bar background color to blue\n\n\nif\n (Time[0].DayOfWeek == DayOfWeek.Monday)\n\n\nBackColorAll = Color.Blue;\n\n\n\n\nBarColorSeries\n\n\nDescription\n\n\nBar color series is a data series containing the color for each bar.\n\n\nSee [\nColors\n], [\nBackColorSeries\n], [\nBackColorAllSeries\n], [\nCandleOutlineColorSeries\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nint barsAgo\n\n\nUsage\n\n\nBarColorSeries\n\n\nBarColorSeries[\nint\n barsAgo]\n\n\nWhen using the method with an index [\nint\n barsAgo] the color for the referenced bar will be changed or returned.\n\n\nCaution: Only the color of a bar whose color has been explicitly changed beforehand will be returned. In all other cases, the \u201cColor.Empty\u201d value will be returned.\n\n\nExample\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\nif\n (CurrentBar == Bars.Count-1-(CalculateOnBarClose?1:0))\n\n\n{\n\n\n\n\n// Color the current bar blue\n\n\n// This is identical to BarColor = color.Blue\n\n\n\n\nBarColorSeries[0] = Color.Blue;\n\n\n// Color the previous bars green\n\n\nBarColorSeries[1] = Color.Orange;\n\n\n// Color the third bar yellow\n\n\nBarColorSeries[2] = Color.Yellow;\n\n\n}\n\n\n}\n\n\n\n\nBackColorSeries\n\n\nDescription\n\n\nBack color series is a data series containing the background color for each bar. If the background color for the subcharts is to be included, please use \u201cBackColorAllSeries\u201d instead.\n\n\nSee [\nColors\n], [\nBarColorSeries\n][\nBarColor\n], [\nBackColorAllSeries\n][] [\nCandleOutlineColorSeries\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nint barsAgo\n\n\nUsage\n\n\nBackColorSeries\n\n\nBackColorSeries[\nint\n barsAgo]\n\n\nWhen using this method with an index [\nint\n barsAgo] the background color for the referenced bar will be outputted.\n\n\nExample\n\n\n// Which background color does the current bar have?\n\n\nPrint\n (BackColorSeries[0]);\n\n\n// Set the current bar\u2019s background color to blue\n\n\n// This is identical to BackColor = Color.Blue\n\n\nBackColorSeries[3] = Color.Blue;\n\n\n// Set background color for the previous bar to green\n\n\nBackColorSeries[1] = Color.Green;\n\n\nBackColorAllSeries\n\n\nDescription\n\n\nBack color all series is a data series containing the background color for each bar. The difference to BackColorSeries is that the background color of the subchart is included.\n\n\nSee [\nColors\n], [\nBarColorSeries\n], [\nBackColorSeries\n], [\nCandleOutlineColorSeries\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nint barsAgo\n\n\nUsage\n\n\nBackColorAllSeries\n\n\nBackColorAllSeries[\nint\n barsAgo]\n\n\nWhen using the method with an index [\nint\n barsAgo] the background color for the referenced bar will be changed or returned.\n\n\nExample\n\n\nSee [\nBackColorSeries\n].\n\n\nCandleOutlineColor\n\n\nDescription\n\n\nCandle outline color changes the border/outline color (including the wick) of a bar.\n\n\nIf the color of the bar is changed using BarColor and the outline is not changed using CandleOutlineColor, the outline color is adjusted to match the color of the bar.\n\n\nSee [\nColors\n], [\nBarColor\n], [\nBackColor\n], [\nBackColorAll\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nUsage\n\n\nCandleOutlineColor\n\n\nExample\n\n\nif\n (\nSMA\n(14)[0] \n \nSMA\n(200)[0])\n\n\nCandleOutlineColor = Color.LimeGreen;\n\n\nelse\n\n\nCandleOutlineColor = Color.Red;\n\n\n\n\nCandleOutlineColorSeries\n\n\nDescription\n\n\nCandle outline color series is a data series that saves the outline color for each bar.\n\n\nSee [\nColors\n], [\nBarColorSeries\n], [\nBackColorSeries\n], [\nBackColorAllSeries\n].\n\n\nParameter\n\n\na color object of the type \u201cpublic struct color\u201d\n\n\nint barsAgo\n\n\nUsage\n\n\nCandleOutlineColorSeries\nCandleOutlineColorSeries[\nint\n barsAgo]\n\n\nWhen using this method with an index [\nint\n barsAgo] the border color for the referenced bar will be outputted.\n\n\nCaution: Color.Empty will be outputted for a bar unless it has been previously changed.\n\n\nExample\n\n\n// Set the outline color of the current bar to blue\n\n\nCandleOutlineColorSeries[0] = Color.Blue;\n\n\n// Change the outline color to the chart default value\n\n\nCandleOutlineColorSeries[0] = Color.Empty;\n\n\nFirstTickOfBar\n\n\nDescription\n\n\nFirstTickOfBar is a property of the type \u201cbool\u201d that returns \u201ctrue\u201d if the currently incoming tick is associated with a new bar. This means that this tick is the first tick of a new bar.\nThis property can only be meaningfully applied when the indicator or strategy is running in the tick-by-tick mode, meaning that CalculateOnBarClose = false and the data feed is able to output real-time values.\nWhen using end-of-day data in a daily chart, the \u201cFirstTickOfBar\u201d is always true for the last bar.\nFirstTickOfBar should not be used outside of the OnBarUpdate() method.\nSee [\nBars.TickCount\n].\n\n\nUsage\n\n\nFirstTickOfBar\n\n\nExample\n\n\n// Within a tick-by-tick strategy, execute one part bar-by-bar only\n\n\nif\n (FirstTickOfBar)\n\n\n{\n\n\nif\n (\nCCI\n(20)[1] \n -250)\n\n\nEnterLong\n();\n\n\nreturn;\n\n\n}\n\n\nFirstTickOfBarMtf\n\n\nDescription\n\n\nFirstTickOfBarMtf is the \nm\nulti-\nt\nime \nf\nrame variant of the [\nFirstTickOfBar\n] property.\n\n\nThe setting of CalculateOnBarClose only affects the primary timeframe (chart timeframe). When working with multi-bars, the ticks of the secondary timeframes are provided on a tick-by-tick basis independently of the CalculateOnBarClose setting.\nWith the help of FirstTickOfBarMtf, it is possible to determine when a new bar has begun in a secondary timeframe.\n\n\nUsage\n\n\nFirstTickOfBarMtf(BarsInProgress)\n\n\nParameter\n\n\nFirstTickOfBarMtf(BarsInProgress).\n\n\nSee [\nBarsInProgress\n].\n\n\nExample\n\n\nif\n (\nFirstTickOfBarMtf\n(BarsInProgress))\n\n\nPrint\n(\"A new bar has begun.\");\n\n\nGetCurrentAsk()\n\n\nDescription\n\n\nThe GetCurrentAsk() method returns the current value of the ask side of the order book. If no level 1 data is available to AgenaTrader, then this function simply outputs the last trade value.\n\n\nSee [\nGetCurrentBid()\n] and [\nOnMarketData()\n].\n\n\nUsage\n\n\nGetCurrentAsk()\n\n\nReturn Value\n\n\ndouble value\n\n\nParameter\n\n\nnone\n\n\nExample\n\n\nIf an entry condition is fulfilled, then 1 contract should be sold at the current ask price:\n\n\nprivate\n IOrder entryOrder = \nnull\n;\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// Entry condition\n\n\nif\n (Close[0] \n \nSMA\n(20)[0] \n entryOrder == \nnull\n)\n\n\n// Sell 1 contract at the current ask price\n\n\nentryOrder = \nSubmitOrder\n(0, OrderAction.SellShort, OrderType.Limit, 1, \nGetCurrentAsk\n(), 0, \"\", \"Enter short\");\n\n\n}\n\n\nGetCurrentBid()\n\n\nDescription\n\n\nThe GetCurrentBid() method returns the current value of the bid side of the order book. If no level 1 data is available to AgenaTrader, then the function outputs the last traded price.\n\n\nSee [\nGetCurrentAsk()\n] and [\nOnMarketData()\n].\n\n\nUsage\n\n\nGetCurrentBid()\n\n\nReturn Value\n\n\ndouble value\n\n\nParameter\n\n\nnone\n\n\nExample\n\n\nIf an entry condition is fulfilled, then 1 contract should be sold at the current bid price:\n\n\nprivate\n IOrder entryOrder = \nnull\n;\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// Entry condition\n\n\nif\n (Close[0] \n \nSMA\n(20)[0] \n entryOrder == \nnull\n)\n\n\n// Sell 1 contract at the current bid price\n\n\nentryOrder = \nSubmitOrder\n(0, OrderAction.Buy, OrderType.Limit, 1, \nGetCurrentBid\n(), 0, \"\", \"Enter long\");\n\n\n}\n\n\nHighestBar\n\n\nDescription\n\n\nThe HighestBar() method searches within a predetermined number of periods for the highest bar and outputs how many bars ago it can be found.\n\n\nSee [\nLowestBar()\n].\n\n\nParameter\n\n\nperiod Number of bars within which the bar is searched for\n\n\nseries Every data series, such as close, high, low, etc.\n\n\nReturn Value\n\n\nint\n barsAgo How many bars ago the high occurred\n\n\nUsage\n\n\nHighestBar\n(IDataSeries series, \nint\n period)\n\n\nExample\n\n\n// How many bars ago was the highest high for the current session?\n\n\nPrint\n(\nHighestBar\n(High, Bars.BarsSinceSession - 1));\n\n\n// What value did the market price have at the highest high of the session?\n\n\nPrint\n(\"The highest price for the session was: \" + Open[\nHighestBar\n(High, Bars.BarsSinceSession - 1)]);\n\n\nHistorical\n\n\nDescription\n\n\nHistorical allows you to check whether AgenaScript is working with historical or real-time data.\nAs long as OnBarUpdate() is called up for historical data, then historical = true. As soon as live data is being used, then historical = false.\nDuring a backtest, historical is always true.\n\n\nUsage\n\n\nHistorical\n\n\nReturn Value\n\n\ntrue\n when using historical data\n\nfalse\n when using real-time data\n\n\nExample\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// only execute for real-time data\n\n\nif\n (Historical) return;\n\n\n// Trading technique\n\n\n}\n\n\nInitialize()\n\n\nDescription\n\n\nThe Initialize() method is called up once at the beginning of an indicator or strategy calculation. This method can be used to set indicator properties, initialize your own variables, or add plots.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nnone\n\n\nUsage\n\n\nprotected\n override void \nInitialize\n()\n\n\nImportant Keywords\n\n\n\n\n\n\n[\nAdd()\n]\n\n\n\n\n\n\n[\nAllowRemovalOfDrawObjects\n]\n\n\n\n\n\n\n[\nAutoScale\n]\n\n\n\n\n\n\n[\nBarsRequired\n]\n\n\n\n\n\n\n[\nCalculateOnBarClose\n]\n\n\n\n\n\n\n[\nClearOutputWindow()\n]\n\n\n\n\n\n\n[\nDisplacement\n]\n\n\n\n\n\n\n[\nDisplayInDataBox\n]\n\n\n\n\n\n\n[\nDrawOnPricePanel\n]\n\n\n\n\n\n\n[\nInputPriceType\n]\n\n\n\n\n\n\n[\nOverlay\n]\n\n\n\n\n\n\n[\nPaintPriceMarkers\n]\n\n\n\n\n\n\n[\nSessionBreakLines\n]\n\n\n\n\n\n\n[\nVerticalGridLines\n]\n\n\n\n\n\n\n\n\nAdditional Keywords for Strategies\n\n\n\n\n\n\n\n\n[\nDefaultQuantity\n]\n\n\n\n\n\n\n[\nEntriesPerDirection\n]\n\n\n\n\n\n\n[\nEntryHandling\n]\n\n\n\n\n\n\n[\nSetStopLoss()\n]\n\n\n\n\n\n\n[\nSetProfitTarget()\n]\n\n\n\n\n\n\n[\nSetTrailStop()\n]\n\n\n\n\n\n\n[\nTimeInForce\n]\n\n\n\n\n\n\n[\nTraceOrders\n]\n\n\n\n\n\n\nMore Information\n\n\nCaution:\n\n\nThe Initialize() method is not only called up at the beginning of an indicator or strategy calculation, but also if the chart is reloaded unexpectedly or if the properties dialog of indicators is opened and so on.\nDevelopers of custom AgenaScripts should NOT use this method for running their own routines, opening forms, performing license checks, etc. The OnStartUp() method should be used for these kind of tasks.\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Blue, \"myPlot\"));\n\n\nClearOutputWindow\n();\n\n\nAutoScale = \nfalse\n;\n\n\nOverlay = \ntrue\n;\n\n\nPaintPriceMarkers = \nfalse\n;\n\n\nDisplayInDataBox = \nfalse\n;\n\n\nCalculateOnBarClose = \ntrue\n;\n\n\n}\n\n\nInitRequirements()\n\n\nDescription\n\n\nThe InitRequirements() method is called up once at the beginning of an indicator and/or strategy calculation. This method is only necessary when using multi-bars.\nWithin InitRequirements, no other programming commands are executed. For initializing, the Initialize() or OnStartUp() method should be used.\n\n\nParameter\n\n\nnone\n\n\nReturn Value\n\n\nnone\n\n\nExample\n\n\nprotected\n override void \nInitRequirements\n()\n\n\n{\n\n\nAdd\n(DatafeedHistoryPeriodicity.Day, 1);\n\n\nAdd\n(DatafeedHistoryPeriodicity.Week, 1);\n\n\n}\n\n\nInputPriceType\n\n\nDescription\n\n\nThe input price type property determines which price series is used by default when calculating an indicator, if no other data series is explicitly stated.\nInputPriceType can be set with the Initialize() method; this specification is then valid for all further calculations.\nIf InputPriceType is in OnBarUpdate(), these changes are only valid starting with the next instruction.\nEvery further appearance of InputPriceType will be ignored!\n\n\nSee [\nPriceType\n]\n\n\nUsage\n\n\nInputPriceType\n\n\nExample1\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nClearOutputWindow\n();\n\n\nInputPriceType = PriceType.Low;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// The input data series for the indicator (input) is low\n\n\nPrint\n(Low[0] + \" \" + Input[0] + \" \" + InputPriceType);\n\n\n}\n\n\nExample2\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n// These values are identical\n\n\n// since close is used as the input data series by default\n\n\nPrint\n(\nSMA\n(20)[0] + \" \" + \nSMA\n(Close, 20)[0]);\n\n\nInputPriceType = PriceType.Low;\n\n\n// From here on out, low is used instead of close\n\n\n// Both values are identical\n\n\nPrint\n(\nSMA\n(20)[0] + \" \" + \nSMA\n(Low, 20)[0]);\n\n\nInputPriceType = PriceType.High;\n\n\n// The instructions will be ignored\n\n\n// Input = low is still in effect\n\n\n}\n\n\nInstrument\n\n\nDescription\n\n\nWith \u201cinstrument\u201d, information concerning the trading instrument (stock, future etc.) is made available.\n\n\nDetailed information can be found here: \nInstruments\n.\n\n\nLine()\n\n\nDescription\n\n\nA line object is used for drawing a horizontal line in the chart. Usually, these are upper and lower trigger lines for indicators such as the RSI (70 and 30).\nThe lines described here are not to be confused with lines from the drawing objects (see \u201cDrawHorizontalLine\u201d).\nLine objects can be added to an indicator with the help of the Add() method, and with this, added to the lines collection.\n\n\nSee [\nPlot\n].\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nColor\n\n\nLine color\n\n\n\n\n\n\nName\n\n\nDescription\n\n\n\n\n\n\nPen\n\n\nA pen object\n\n\n\n\n\n\nValue\n\n\nDefines which value on the y-axis the line will be drawn for\n\n\n\n\n\n\n\n\nUsage\n\n\nLine\n(Color color, \ndouble value\n, string name)\n\n\nLine\n(Pen pen, \ndouble value\n, string name)\n\n\nMore Information\n\n\nInformation on the pen class: [\nhttp://msdn.microsoft.com/de-de/library/system.drawing.pen.aspx\n]\n\n\nExample\n\n\n// Example 1\n\n\n// A new line with standard values drawn at the value of 70\n\n\nAdd\n(\nnew Line\n(Color.Black, 70, \"Upper\"));\n\n\n// Example 2\n\n\n// A new line with self-defined values\n\n\nprivate\n Line line;\n\n\nprivate\n Pen pen;\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// Define a red pen with the line strength 1\n\n\npen = \nnew Pen\n(Color.Red, 1);\n\n\n// Define a horizontal line at 10\n\n\nline = \nnew Line\n(pen, 10, \"MyLine\");\n\n\n// add the defined line to the indicator\n\n\nAdd\n(line);\n\n\n}\n\n\n// Example 3\n\n\n// Short form for the line in example 2\n\n\nAdd\n(\nnew Line\n(\nnew Pen\n(Color.Red, 1), 10, \"MyLine\"));\n\n\nLog()\n\n\nDescription\n\n\nLog() allows you to write outputs in the AgenaTrader log file (log tab). 5 different log levels are supported.\n\n\nNote:\n\n\nIf the log tab is not viewable, it can be displayed using the tools log.\n\n\nUsage\n\n\nLog\n(string message, LogLevel logLevel)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmessage\n\n\nText (message)\n\n\n\n\n\n\nlogLevel\n\n\nPossible values are\n\n\n\n\n\n\n\n\n        InfoLogLevel.Info\n\n        InfoLogLevel.Message\n\n        InfoLogLevel.Warning\n\n        InfoLogLevel.Alert\n\n        InfoLogLevel.Error    |\n\n\n\nExample\n\n\n### //Tab protocol\n\n\n### Log(\"This is information.\", InfoLogLevel.Info); //white\n\n\n### Log(\"This is a message.\", InfoLogLevel.Message); // blue\n\n\n### Log(\"This is a warning.\", InfoLogLevel.Warning); // yellow\n\n\n### Log(\"This is an alarm.\", InfoLogLevel. AlertLog); //green\n\n\n### Log(\"This is a mistake.\", InfoLogLevel.Error); // red\n\n\n###\n\n\n### //Tab messags\n\n\n### Log(\"This is a message (messages).\", InfoLogLevel.Message); //gray\n\n\n###\n\n\n### //PopUp\n protocoll\n\n\n### Log(\"This is an alert popup window.\", InfoLogLevel.Alert); //green\n\n\nLowestBar\n\n\nDescription\n\n\nThe LowestBar() method attempts to find the lowest bar within a predefined number of periods.\n\n\nSee [\nHighestBar()\n].\n\n\nParameter\n\n\nperiod Number of bars that will be searched for the lowest bar\n\n\nseries Every data series, such as close, high, low etc.\n\n\nReturn Value\n\n\nint\n barsAgo How many bars ago the low occurred\n\n\nUsage\n\n\nLowestBar\n(IDataSeries series, \nint\n period)\n\n\nExample\n\n\n// How many bars ago was the lowest low of the session?\n\n\nPrint\n(\nLowestBar\n(Low, Bars.BarsSinceSession - 1));\n\n\n// Which price did the lowest open of the current session have?\n\n\nPrint\n(\"The lowest open price of the current session was: \" + Open[\nLowestBar\n(Low, Bars.BarsSinceSession - 1)]);\n\n\nMarketDataEventArgs\n\n\nDescription\n\n\nThe data type MarketDataEventArgs represents a change in the level 1 data and is used as a parameter of the OnMarketData() function.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAskSize\n\n\nCurrent order volume on the ask side\n\n\n\n\n\n\nAskPrice\n\n\nCurrent ask price\n\n\n\n\n\n\nBidSize\n\n\nCurrent order volume on the bid side\n\n\n\n\n\n\nBidPrice\n\n\nCurrent bid price.\n\n\n\n\n\n\nInstrument\n\n\nAn object of the type instrument that contains the trading instrument for which the level 1 data is outputted. See \nInstruments\n\n\n\n\n\n\nLastPrice\n\n\nLast traded price\n\n\n\n\n\n\nMarketDataType\n\n\nPotential values are:\n\n\n\n\n\n\n\n\n              MarketDataType.Ask\n\n              MarketDataType.AskSize\n\n              MarketDataType.Bid\n\n              MarketDataType.BidSize\n\n              MarketDataType.Last\n\n              MarketDataType.Volume                                                                                                             |\n\n\n\n\n\n\n\n\n\nPrice\n\n\nThis is equal to last price. This field only exists for compatability reasons\n\n\n\n\n\n\n\n\n\n\nVolume\n\n\nA long value that shows the volume\n\n\n\n\n\n\n\n\nExample\n\n\nSee [\nOnMarketData()\n].\n\n\nMarketDepthEventArgs\n\n\nDescription\n\n\nThe data type MarketDepthEventArgs represents a change in the level 2 data (market depth) and is used as a parameter within OnMarketDepth().\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMarketDataType\n\n\nPotential values are:\n\n\n\n\n\n\n\n\n              MarketDataType.Ask                                              \n              MarketDataType.Bid                                              |\n\n\n\n| MarketMaker    | A string value containing the market maker ID                  |\n| Position       | An int value that defines the position within the market depth |\n| Operation      | Represents the action caused by a change in the order book.    \n\n\n              Values can be:\n\n              Operation.Insert                                                \n              Operation.Remove                                                \n              Operation.Update                                                |\n\n\n\n\n\n\n\n\n\nPrice\n\n\nA double value that displays the bid/ask price\n\n\n\n\n\n\n\n\n\n\nVolume\n\n\nA long value that shows the volume\n\n\n\n\n\n\n\n\nExample\n\n\nSee [\nOnMarketDepth()\n].\n\n\nOverlay\n\n\nDescription\n\n\nThe overlay property defines whether the indicator outputs are displayed in the price chart above the bars or whether a separate chart window is opened below the charting area.\n\n\nOverlay = true\n\n\nThe indicator is drawn above the price (for example an [\nSMA\n])\n\n\nOverlay = false (default)\n\n\nA separate chart window is opened (RSI)\n\n\nThis property can be queried within the script and outputs a value of the type Boolean (true or false).\n\n\nUsage\n\n\nOverlay\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//The indicator should be displayed within a separate window\n\n\nOverlay = \nfalse\n;\n\n\n}\n\n\nPaintPriceMarkers\n\n\nDescription\n\n\nThe paint price markers property defines whether the so-called price markers for the indicator outputs are displayed on the right-hand chart border (in the price axis) or not. In some cases it makes sense to switch these off for a better overview in the chart.\n\nPaintPriceMarkers = true (default)\n\n\nPrice markers are shown in the price axis\n\n\nPaintPriceMarkers = false\n\n\nPrice markers are not shown in the price axis\n\n\nThis property can be queried within the script and returns a value of the type Boolean (true or false).\n\n\nUsage\n\n\nPaintPriceMarkers\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//Do not show price markers in the price axis\n\n\nPaintPriceMarkers = \nfalse\n;\n\n\n}\n\n\nPlaySound()\n\n\nDescription\n\n\nThis method allows you to play a wav file.\n\n\nUsage\n\n\nPlaySound\n(wavFile)\n\n\nReturn Value\n\n\nnone\n\n\nParameter\n\n\nwavFile File name of the wav file to be played\n\n\nExample\n\n\nusing\n System.IO;\n\n\nstring path = Environment.\nGetFolderPath\n(Environment.SpecialFolder.MyDocuments);\n\n\nstring file = \"\\\\AgenaTrader\\\\Sounds\\\\Alert1.wav\";\n\n\nPlaySound\n(path + file);\n\n\nPlot()\n\n\nDescription\n\n\nA plot (drawing) is used to visually display indicators in a chart. Plot objects are assigned to an indicator with the help of the Add() method and attached to the plots collection.\nSee [\nLine\n].\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nColor\n\n\nDrawing color\n\n\n\n\n\n\nPen\n\n\nPen object\n\n\n\n\n\n\nPlotStyle\n\n\nLine type\n\n\n\n\n\n\n\n\n         PlotStyle.Bar\n\n         PlotStyle.Block\n\n         PlotStyle.Cross\n\n         PlotStyle.Dot\n\n         PlotStyle.Hash\n\n         PlotStyle.Line\n\n         PlotStyle.Square\n\n         PlotStyle.TriangleDown\n\n         PlotStyle.TriangleUp    |\n\n\n\n| Name      | Description            |\n\n\nUsage\n\n\nPlot\n(Color color, string name)\n\n\nPlot\n(Pen pen, string name)\n\n\nPlot\n(Color color, PlotStyle plotStyle, string name)\n\n\nPlot\n(Pen pen, PlotStyle plotStyle, string name)\n\n\nMore Information\n\n\nInformation on the pen class: [\nhttp://msdn.microsoft.com/de-de/library/system.drawing.pen.aspx\n]\n\n\nExample\n\n\n// Example 1\n\n\n// Plot with standard values (line with line strength 1)\n\n\nAdd\n(\nnew Plot\n(Color.Green, \"MyPlot\"));\n\n\n// Example 2\n\n\n// user-defined values for pen and plot style\n\n\nprivate\n Plot plot;\n\n\nprivate\n Pen pen;\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\n// a red pen with the line strength of 6 is defined\n\n\npen = \nnew Pen\n(Color.Blue, 6);\n\n\n// a point line with a thick red pen from above is defined\n\n\nplot = \nnew Plot\n(pen, PlotStyle.Dot, \"MyPlot\");\n\n\n// The defined plot is to be used as a representation for an indicator\n\n\nAdd\n(plot);\n\n\n}\n\n\n// Example 3\n\n\n// Abbreviation of example 2\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(\nnew Pen\n(Color.Blue, 6), PlotStyle.Dot, \"MyPlot\"));\n\n\n}\n\n\nPlotMethod\n\n\nDescription\n\n\nIn each indicator, the plot method can be overridden in order to add your own graphics (GDI+) to the price chart with the help of the graphics class (System.Drawing).\n\n\nSee [\nhttp://msdn.microsoft.com/de-de/library/system.drawing.graphics.aspx\n].\n\n\nThe [\nChartControl\n] object offers several parameters.\n\n\nMore examples: [\nBar Numbering\n][\nPlotSample\n], \nChart Background Image\n.\n\n\nParameter\n\n\ngraphics The graphics object of the price chart (context)\n\n\nrectangle The size of the drawing area (type \u201cpublic struct rectangle\u201d)\n\n\ndouble min The smallest price in the y-axis\n\n\ndouble max The biggest price in the y-axis\n\n\nReturn Value\n\n\nnone\n\n\nUsage\n\n\npublic\n override void \nPlot\n(Graphics graphics, Rectangle r, \ndouble\n min, \ndouble\n max)\n\n\nExample\n\n\nusing\n System;\n\n\nusing\n System.Collections.Generic;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n System.Drawing;\n\n\nusing\n System.Drawing.Drawing2D;\n\n\nusing\n AgenaTrader.API;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"Example for the usage of the plot method.\")]\n\n\npublic\n class PlotSample : UserIndicator\n\n\n{\n\n\nprivate\n StringFormat stringFormat = \nnew StringFormat\n();\n\n\nprivate\n SolidBrush brush = \nnew SolidBrush\n(Color.Black);\n\n\nprivate\n Font font = \nnew Font\n(\"Arial\", 10);\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nChartOnly = \ntrue\n;\n\n\nOverlay = \ntrue\n;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{}\n\n\nprotected\n override void \nOnTermination\n()\n\n\n{\n\n\nbrush.\nDispose\n();\n\n\nstringFormat.\nDispose\n();\n\n\n}\n\n\npublic\n override void \nPlot\n(Graphics graphics, Rectangle r, \ndouble\n min, \ndouble\n max)\n\n\n{\n\n\n// Fill a rectangle\n\n\nSolidBrush tmpBrush = \nnew SolidBrush\n(Color.LightGray);\n\n\ngraphics.\nFillRectangle\n(tmpBrush, \nnew Rectangle\n (0, 0, 300, 300));\n\n\ntmpBrush.\nDispose\n();\n\n\n// Draw a red line from top left to bottom right\n\n\nPen pen = \nnew Pen\n(Color.Red);\n\n\ngraphics.\nDrawLine\n(pen, r.X, r.Y, r.X + r.Width, r.Y + r.Height);\n\n\n// Draw a red line from bottom left to top right\n\n\n// Use anti-alias (the line appears smoother)\n\n\n// The current settings for the smoothing are saved\n\n\n// Restore after drawing\n\n\nSmoothingMode oldSmoothingMode = graphics.SmoothingMode; //Save settings\n\n\ngraphics.SmoothingMode = SmoothingMode.AntiAlias; // Use higher smoothing settings\n\n\ngraphics.\nDrawLine\n(pen, r.X, r.Y + r.Height, r.X + r.Width, r.Y);\n\n\ngraphics.SmoothingMode = oldSmoothingMode; // Settings restored\n\n\npen.\nDispose\n();\n\n\n// Text in the upper left corner (position 10,35)\n\n\nstringFormat.Alignment = StringAlignment.Near; // Align text to the left\n\n\nbrush.Color = Color.Blue;\n\n\ngraphics.\nDrawString\n(\"Hello world!\", font, brush, r.X + 10, r.Y + 35, stringFormat);\n\n\n// Text in the left lower corner and draw a line around it\n\n\nbrush.Color = Color.Aquamarine;\n\n\ngraphics.\nFillRectangle\n(brush, r.X + 10, r.Y + r.Height - 20, 140, 19);\n\n\n// Draw outside line\n\n\npen = \nnew Pen\n(Color.Black);\n\n\ngraphics.\nDrawRectangle\n(pen, r.X + 10, r.Y + r.Height - 20, 140, 19);\n\n\npen.\nDispose\n();\n\n\n// Write text\n\n\nbrush.Color = Color.Red;\n\n\ngraphics.\nDrawString\n(\"Here is bottom left!\", font, brush, r.X + 10, r.Y + r.Height - 20, stringFormat);\n\n\n}\n\n\n}\n\n\n}\n\n\nPriceType\n\n\nDescription\n\n\nPrice type describes a form of price data.\n\n\nSee [\nInputPriceType\n]\n\n\nFollowing variables are available:\n\n\n\n\n\n\nPriceType.Close\n\n\n\n\n\n\nPriceType.High\n\n\n\n\n\n\nPriceType.Low\n\n\n\n\n\n\nPriceType.Median\n\n\n\n\n\n\nPriceType.Open\n\n\n\n\n\n\nPriceType.Typical\n\n\n\n\n\n\nPriceType.Volume\n\n\n\n\n\n\nPriceType.Weighted\n\n\n\n\n\n\nUsage\n\n\nPriceType\n\n\nExample\n\n\nSee [\nInputPriceType\n]\n\n\nPrint()\n\n\nDescription\n\n\nThe Print() method writes outputs in the AgenaTrader output window.\nSee [\nClearOutputWindow()\n].\n\n\nUsage\n\n\nPrint\n(string message)\n\n\nPrint\n(\nbool value\n)\n\n\nPrint\n(\ndouble value\n)\n\n\nPrint\n(\nint value\n)\n\n\nPrint\n(DateTime \nvalue\n)\n\n\nPrint\n(string format, string message)\n\n\nParameter\n\n\nstring Text an individual message text\n\n\nReturn Value\n\n\nnone\n\n\nMore Information\n\n\nInformation regarding output formatting: \nFormatting numbers\n.\n\n\nHints about the String.Format() method: [\nhttp://msdn.microsoft.com/de-de/library/fht0f5be%28v=vs.80%29.aspx\n]\n\n\nExample\n\n\n// \"Quick\nDirty\" formatting of a number with 2 decimal points\n\n\nPrint\n(Close[0].\nToString\n(\"0.00\"));\n\n\n// Output day of the week from the timestamp for the bar\n\n\nPrint\n(string.\nFormat\n(\"{0:dddd}\", Time[0]));\n\n\n// An additional empty row with an escape sequence\n\n\nPrint\n(\"One empty row afterwards \\n\");\n\n\nRemoveDrawObject()\n\n\nDescription\n\n\nThe RemoveDrawObject() method removes a specific drawing object from the chart based on a unique identifier (tag).\nSee [\nRemoveDrawObjects()\n].\n\n\nUsage\n\n\nRemoveDrawObject(string tag)\n\n\nReturn Value\n\n\nnone\n\n\nParameter\n\n\nstring tag The clearly identifiable name for the drawing object\n\n\nExample\n\n\nRemoveDrawObjects\n(\"My line\");\n\n\nRemoveDrawObjects()\n\n\nDescription\n\n\nThis method removes all drawings from the chart\nSee [\nRemoveDrawObject()\n].\n\n\nUsage\n\n\nRemoveDrawObjects()\n\n\nReturn Value\n\n\nnone\n\n\nExample\n\n\n//Delete all drawings from the chart\n\n\nRemoveDrawObjects\n();\n\n\nRising()\n\n\nDescription\n\n\nWith this method you can check if an uptrend exists, i.e. if the current value is bigger than the previous bar\u2019s value.\n\n\nSee [\nCrossAbove()\n], [\nCrossBelow()\n], [\nFalling()\n].\n\n\nUsage\n\n\nRising\n(IDataSeries series)\n\n\nReturn Value\n\n\ntrue\n If the data series is rising\n\nfalse\n If the data series is not rising\n\n\nParameter\n\n\nseries A data series such as an indicator, close, high etc.\n\n\nExample\n\n\n// Check if SMA(20) is rising\n\n\nif\n (\nRising\n(\nSMA\n(20)))\n\n\nPrint\n(\"The SMA(20) is currently rising.\");\n\n\nSessionBreakLines\n\n\nDescription\n\n\nThe property SessionBreakLines defines whether the vertical lines that represent a trading session stop are displayed within the chart.\nThis may be useful for stocks and other instruments if you wish to display session breaks/trading stops.\n\nSessionBreakLines = true (default)\n\n\nSession break lines are shown\n\n\nSessionBreakLines = false\n\n\nSession break lines are not shown\n\n\nThis property can be queried within the script and outputs a value of the type Boolean (true or false).\n\n\nUsage\n\n\nSessionBreakLines\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n//Session break lines should not be shown\n\n\nSessionBreakLines = \nfalse\n;\n\n\n}\n\n\nTickSize\n\n\nA tick is the smallest possible price change of a financial instrument within an exchange. If, for example, the trading prices are specified to 2 decimal places, then a tick equals 0.01. You can expect Forex instruments to be specified to within 4 or 5 decimal places. A tick is called a pip in Forex trading and usually equals 0.0001 or 0.00001.\nThe tick value is usually predefined by the exchange and does not (usually) change.\nSee [\nInstrument.TickSize\n].\n\n\nUsually, a tick is displayed as a decimal number. Historically speaking (especially in American exchanges) stocks have been noted with tick sizes of 1/16 of a dollar.\nThis notation is still widespread within commodities. Corn futures (ZC) are noted in \u00bc US cents/bushel (usually equals 12.50 US$ per contract).\nUS treasury bonds are noted in a tick size of 1/32 points, which equals 31.25$.\nNotations are usually made with apostrophes, for example:\n\n\n149'00 equals exactly 149,\n149'01 equals 149 1/32 (meaning 149.03125),\n149'31 equals 149 31/32 (149.96875),\nand the next value after this is 150\u201900\n\n\nIn the so-called T-Bond intermonth spreads, notations are specified in quarters of 1/32, resulting in point values of 7.8125 per contract.\n\n\nNotations have a dash:\n\n\n17-24 equals 17 24/32 points,\n17-242 equals 17 24.25/32 points,\n17-245 equals 17 24.5/32 points and\n17-247 equals 17 24.75/32 points.\nThe next notation after 17-247 is 17-25 and then 17-252, 17-255 etc.\nAfter 17-317 comes 18.\n\n\nThe individual contract specifications can be found on the websites of the respective exchanges.\n\n\nCME: [\nwww.cmegroup.com\n] under Products \n Trading\nEurex (FDAX): \nhttp://www.eurexchange.com/exchange-en/products/idx/dax/17206/\n\n\nSee [\nInstrument.TickSize\n].\n\n\nTimeFrame\n\n\nSee [\nBars.TimeFrame\n].\n\n\nWhen using multiple timeframes ([\nMultibars\n][\nMultiBars\n]) in an indicator, please see [\nTimeFrames\n].\n\n\nToDay()\n\n\nDescription\n\n\nTo day is a method specifically suited for inexperienced programmers who have problems with the potentially complex .net date-time structure of C#.\nExperienced programmers can continue using the date-time function directly.\n\n\nTo day outputs an int representation in the format of yyyymmdd.\n(yyyy = year, mm = month, dd = day)\n\n\n13.08.2012 would thus be 20120813.\n\n\nSee [\nToTime\n].\n\n\nHelp with date-time: [\nhttp://msdn.microsoft.com/de-de/library/system.datetime.aspx\n]\n\n\nUsage\n\n\nToDay(DateTime time)\n\n\nExample\n\n\n// Do not trade on the 11\nth\n of September\n\n\nif\n (\nToDay\n(Time[0]) = 20130911)\n\n\nreturn;\n\n\nToTime()\n\n\nDescription\n\n\nTo time is a method specifically suited for inexperienced programmers who have problems with the potentially complex .net date-time structure of C#.\n\n\nTo time outputs an int representation in the format hhmmss.\n(hh = hour, mm = minute, ss = seconds)\n\n\nThe time 07:30 will be displayed as 73000 and 14:15:12 will become 141512.\n\n\nSee [\nToDay\n].\n\n\nHelp with date-time: [\nhttp://msdn.microsoft.com/de-de/library/system.datetime.aspx\n]\n\n\nUsage\n\n\nToTime(DateTime time)\n\n\nExample\n\n\n// Only enter trades between 08:15 and 16:35\n\n\nif\n (\nToTime\n(Time[0]) \n= 81500 \n \nToTime\n(Time[0]) \n= 163500)\n\n\n{\n\n\n// Any trading technique\n\n\n}\n\n\nUpdate()\n\n\nDescription\n\n\nThe Update() method calls up the OnBarUpdate method in order to recalculate the indicator values.\n\n\nUpdate() is to be used with caution and is intended for use by experienced programmers.\n\n\nUsage\n\n\nUpdate()\n\n\nReturn Value\n\n\nnone\n\n\nParameter\n\n\nnone\n\n\nExample\n\n\nThe effect of update can be illustrated with the help of 2 indicators.\nThe first indicator, Ind1, uses a public variable from the indicator Ind2.\n\n\nCode from Ind1:\n\n\npublic\n class Ind1 : UserIndicator\n\n\n{\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\n\n\nPrint\n( \nInd2\n().MyPublicVariable );\n\n\n\n\n}\n\n\n}\n\n\nCode from Ind2:\n\n\nprivate double\n myPublicVariable = 0;\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{\n\n\nmyPublicVariable = 1;\n\n\n}\n\n\npublic double\n MyPublicVariable\n\n\n{\n\n\nget\n\n\n{\n\n\nUpdate\n();\n\n\nreturn myPublicVariable;\n\n\n}\n\n\n}\n\n\nWithout Update() - Wrong\n\nIf Ind2 is called up by Ind1, the get-method of MyPublicVariable is called up in Ind2. Without Update(), the value of MyPublicVariable would be returned. In this case it would be 0.\n\n\nWith Update() - Correct\n\nBy calling up Update(), OnBarUpdate() is initially executed by Ind2. This sets MyPublicVariable to 1. Lastly, the value 1 is passed on to the requesting indicator.\n\n\nValue\n\n\nDescription\n\n\nValue is a data series object containing the first data series of an indicator.\n\n\nWhen the Add() method is called up, a value object is automatically created and added to the values collection.\n\n\nValue is identical to Values[0].\n\n\nUsage\n\n\nValue\n\n\nValue[\nint\n barsAgo]\n\n\nMore Information\n\n\nThe methods known for a collection, Set(), Reset(), and Count(), can be used for values.\n\n\nExample\n\n\nSee [\nValues\n].\n\n\nVerticalGridLines\n\n\nDescription\n\n\nThe property VerticalGridLines defines whether or not the regularly spaced vertical lines (the so-called grid) are shown within the charting area.\n\n\nVerticalGridLines = true (default)\n\n\nVertical grid lines are shown\n\n\nVerticalGridLines = false\n\n\nVertical grid lines are not shown\n\n\nThis property can be queried within the script and returns a value of the type Boolean (true or false).\n\n\nUsage\n\n\nVerticalGridLines\n\n\nExample\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nAdd\n(\nnew Plot\n(Color.Red, \"MyPlot1\"));\n\n\n// Vertical grid lines shall not be shown within the chart\n\n\nVerticalGridLines = \nfalse\n;\n\n\n}", 
            "title": "Keywords"
        }, 
        {
            "location": "/keywords/#keywords", 
            "text": "", 
            "title": "Keywords"
        }, 
        {
            "location": "/keywords/#add", 
            "text": "", 
            "title": "Add()"
        }, 
        {
            "location": "/keywords/#description", 
            "text": "The add method allows you to add plots or line objects to the chart. When a new plot object is added using Add(), this automatically creates a data series of the type DataSeries, which is attached to this object. The value collection allows you to reference and access this data series.\nAdd() can be used with the Initialize() and the OnBarUpdate() methods.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter", 
            "text": "plot \u2013 a [ Plot ] object\nline \u2013 a [ Line ] object", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage", 
            "text": "Add (Plot plot)  Add (Line line)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example", 
            "text": "# region  Usings  using  System;  using  System.Collections.Generic;  using  System.ComponentModel;  using  System.Drawing;  using  System.Linq;  using  System.Xml;  using  System.Xml.Serialization;  using  AgenaTrader.API;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  using  AgenaTrader.Helper;  # endregion  namespace  AgenaTrader.UserCode  {  [ Description (\"Enter the description for the new custom indicator here\")]  public  class MyIndicator : UserIndicator  {  protected  override void  Initialize ()  {  // Two blue lines will be placed into the chart, one at 70 and the other at 30  Add ( new Line (Color.Blue, 70, \"UpperLine\"));  Add ( new Line (Color.Blue, 30, \"LowerLine\"));  // Add 2 plots  Add ( new Plot (Color.Red, \"myFastSMA\"));  Add ( new Plot (Color.Blue, \"mySlowSMA\"));  }  protected  override void  OnBarUpdate ()  {  //The set method is assigned to the value of the current bar  FastSMA. Set (  SMA (8)[0] ); // is identical with Values[0].Set( SMA(8)[0] );  SlowSMA. Set (  SMA (50)[0] ); // is identical with Values[1].Set( SMA(50)[0] );  }  // Two data series are made available here  // These are not necessary for the display of the indicator // With the help of these series, one indicator can access the other  // For example: double d = MyIndicator.FastSMA[0] - MyIndicator.SlowSMA[0];  [ Browsable ( false )]  [ XmlIgnore ()]  public  DataSeries FastSMA  {  get { return Values[0]; }  }  [ Browsable ( false )]  [ XmlIgnore ()]  public  DataSeries SlowSMA  {  get { return Values[1]; }  }  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#alert", 
            "text": "", 
            "title": "Alert()"
        }, 
        {
            "location": "/keywords/#description_1", 
            "text": "The alert method creates an acoustic and/or visual alarm.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_1", 
            "text": "Alert (string message,  bool  showMessageBox, string soundLocation);  Due to compatability reasons, an old signature is still used here. When using this method, the color settings and the \u201cre-arm seconds\u201d parameter are ignored.  Alert (string id, AlertPriority priority, string message, string soundLocation,  int  rearmSeconds, Color backColor, Color forColor);", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value", 
            "text": "None", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_1", 
            "text": "message  Alert text displayed within the messages tab    soundLocation  Name of a sound file in the *.wav format. If no path is specified, then \u201cMy Documents\\AgenaTrader\\Sounds\\ is used    showMessageBox  If set to \u201ctrue\u201d, a message box will be displayed in addition to the sound", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_1", 
            "text": "// Message will be outputted if the SMA(20) crosses below the SMA(50)  if  ( CrossBelow ( SMA (20),  SMA (50), 1))  Alert (\"Check short signal!\",  true , \"Alert4.wav\");  To use music files in a different path, you need to specify the path:  string pathOfSoundfile = Environment. GetFolderPath (Environment.SpecialFolder.MyDocuments)+@\"\\MyAlertSounds\\\";  string nameOfSoundFile = \"MyAlertSoundFile.wav\";  Alert (\"Message text\",  true , pathOfSoundfile + nameOfSoundFile);", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#allowremovalofdrawobjects", 
            "text": "", 
            "title": "AllowRemovalOfDrawObjects"
        }, 
        {
            "location": "/keywords/#description_2", 
            "text": "\u201cAllowRemovalOfDrawObjects\u201d is a property of indicators that can be set under [ Initialize() ].  AllowRemovalOfDrawObjects = true  Drawing objects that are drawn by an indicator or a strategy can be manually removed from the chart.  AllowRemovalOfDrawObjects = false (default)  Drawing objects that have been created by a strategy or indicator CANNOT be manually removed from the chart. They are removed once the indicator or strategy is removed.  This property can be queried and will return \u201ctrue\u201d or \u201cfalse\u201d.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_2", 
            "text": "AllowRemovalOfDrawObjects", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_2", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //Drawing objects can be manually removed from the chart  AllowRemovalOfDrawObjects =  true ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#attribute", 
            "text": "Attribute is a component of the C# language. Within AgenaScript, indicators, and strategies, you can use these attributes in the same manner as you would in C#.\nInformation regarding the usage of attributes can be found here:  [ http://msdn.microsoft.com/de-de/library/z0w1kczw%28v=vs.80%29.aspx ]  The most commonly used attributes in AgenaScript are:    [ Browsable ]    [ Category ]    [ ConditionalValue ]    [ Description ]    [ DisplayName ]    [ TimeFrameRequirements ]    [ XmlIgnore ]", 
            "title": "Attribute"
        }, 
        {
            "location": "/keywords/#browsable", 
            "text": "Browsable is an  [Attribut]e  within AgenaScript.  AgenaScript uses public variables for entering parameters for indicators (such as periods for the SMA) and for outputting events and calculations within indicators (for example, data series).\nVariables used for entering parameters must be displayed in the properties dialog. Data series are exempt from this.\nPublic variables with the browsable attribute set to false are not displayed within the properties dialog.  By default, browsable is set to true. Therefore, within a variable containing an entry parameter, the attribute does not need to be specified.  Example for a parameter:  The parameter should be displayed and queried in the properties window. Therefore browsable should be set to true.  [Description(\"Numbers of bars used for calculations\")]  [Category(\"Parameters\")]  public int Period  {  get { return period; }  set { period = Math.Max(1, value); }  }  Example for a data series:  [Browsable(false)]  [DisplayName(\"Lower band\")]  [XmlIgnore]  public DataSeries Lower  {  get { return Values[0]; }  }", 
            "title": "Browsable"
        }, 
        {
            "location": "/keywords/#category", 
            "text": "Category is an  [Attribut]e  in AgenaScript.  The category attribute defines under which category in the properties dialog the parameter is shown.\nIf this attribute is missing, the parameters category is accepted as the standard.  The following example shows how to create the new category \u201cMy Parameters\u201d in the properties dialog:  [Category(\"My Parameters\")]  [DisplayName(\"Period number\")]  public double _period  {  get { return _period; }  set { _period = value; }  }", 
            "title": "Category"
        }, 
        {
            "location": "/keywords/#conditionalvalue", 
            "text": "Conditional value is an  [Attribut]e  in AgenaScript.  Normally, when making comparisons within the ConditionEscort, the data series generated by indicators are used. One such example would be checking whether a moving average lies above or below a specific price value.\nAn indicator can also yield values that are not contained within data series, such as values of the type int, double, char, Boolean, string, etc.\nTo use these values within the scanner or ConditionEscort, they have to be labeled with the conditional value attribute.  [ Browsable ( false )]  [XmlIgnore]  [ConditionalValue]  public int  PublicVariable  {  get  {  Update ();  return _internVariable;  }  }", 
            "title": "ConditionalValue"
        }, 
        {
            "location": "/keywords/#description_3", 
            "text": "Description is an attribute in AgenaScript.  The description attribute is used in AgenaScript for classes and public variables.\nAs an attribute of the class, the text is a description of the function of the entire indicator.  [Description(\"Displays the tick count of a bar.\")]  public class TickCounter : UserIndicator  {  ...  As an attribute of a public variable, the text is a description of the function of the parameter.  [Description(\"Number of standard deviations\")]  [DisplayName(\"# of std. dev.\")]  public double NumStdDev  {  get { return numStdDev; }  set { numStdDev = Math.Max(0, value); }  }  The descriptions are displayed in the relevant properties dialog.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#displayname", 
            "text": "Display name is an attribute in AgenaScript.  The display name attribute defines the text shown in the properties dialog for the parameter.  If this attribute is not specified, the name of the public variable is used.  [Description(\"Number of standard deviations\")]  [DisplayName(\"# of std. dev.\")]  public double NumStdDev  {  get { return numStdDev; }  set { numStdDev = Math.Max(0, value); }  }", 
            "title": "DisplayName"
        }, 
        {
            "location": "/keywords/#timeframerequirements", 
            "text": "Timeframe requirements is an attribute in AgenaScripts.  If you want a script to use data from various timeframes, the class requires the attribute \u201eTimeFrameRequirements\u201c. You can specify multiple timeframes here:  [ TimeFrameRequirements (\"1 day\")]  [ TimeFrameRequirements (\"15 minutes\", \"1 day\", \"1 week\")]  The amount of data provided for the other timeframes will always be the same as the number of actual candles loaded into the chart. If there are 500 candles for a 5-minute chart, then 500 candles of another timeframe will also be loaded. In the first example above, 500 daily candles will be loaded. In the second example, 500 15-minute candles, 500 daily candles and 500 weekly candles will be loaded.\nThe amount of data can become rather large very quickly, thus you should take precautions when using this attribute.  See [ MultiBars ].  Important:  If a class uses a different indicator that requires one or more secondary timeframes, then the \u201cTimeFrameRequirements\u201d attribute must be set for the class retrieving the data. An example for this can be seen here: [ GetDayBar ].", 
            "title": "TimeFrameRequirements"
        }, 
        {
            "location": "/keywords/#xmlignore", 
            "text": "XML ignore is an attribute in AgenaScript.  AgenaTrader saves all parameter settings for the indicators in a template. The template files are saved in an XML format. In order to avoid a parameter being saved as part of the template, the attribute XML ignore can be set.  To save parameters in an XML file, the values must be serialized. Under most circumstances, AgenaTrader performs this automatically. Self-defined data types cannot be serialized automatically, so in this case the programmer is responsible for the correct serialization.\nIn the following example, the color and font are used as parameters of an indicator. AgenaTrader has two methods for serializing color and font information (TextColorSerialize and TextFontSerialize). Both parameters \u2013 TextColor and TextFont \u2013 thus need to be marked with the XML ignore parameter.  private  Color _textColor = Color.Blue;  private  Font _textFont =  new Font (\"Arial\", 12, FontStyle.Bold);  [XmlIgnore]  [Description(\"Textcolor\")]  public Color TextColor  {  get { return _textColor; }  set { _textColor = value; }  }  [Browsable(false)]  public string TextColorSerialize  {  get { return SerializableColor.ToString(_textColor); }  set { _textColor = SerializableColor.FromString(value); }  }  [XmlIgnore()]  [Description(\"TextFont\")]  public Font TextFont  {  get { return _textFont; }  set { _textFont = value; }  }  [Browsable(false)]  public string TextFontSerialize  {  get { return SerializableFont.ToString(_textFont); }  set { _textFont = SerializableFont.FromString(value); }  }", 
            "title": "XMLIgnore"
        }, 
        {
            "location": "/keywords/#autoscale", 
            "text": "", 
            "title": "AutoScale"
        }, 
        {
            "location": "/keywords/#description_4", 
            "text": "Auto scale is a property of indicators that can be set within the Initialize() method.  AutoScale = true (default)  The price axis (y-axis) of the chart is set so that all plots and lines of an indicator are visible.  AutoScale = false  Plots and lines of an indicator or strategy are not accounted for in the scaling of the y-axis. Therefore they may lie outside of the visible chart area.  This property can be queried and will return either \u201ctrue\u201d or \u201cfalse\u201d.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_3", 
            "text": "AutoScale", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_3", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //Scale the chart so that all drawing objects are visible  AutoScale =  true ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#barsrequired", 
            "text": "", 
            "title": "BarsRequired"
        }, 
        {
            "location": "/keywords/#description_5", 
            "text": "The property \u201cBarsRequired\u201d determines how many historical bars are required for an indicator or a strategy to call up the OnBarUpdate() method for the first time and thus begin the calculations. Bars required should be set within the Initialize() method.\nThe setting should be chosen carefully. If you require 100 days for the calculation of a moving average, then you should ensure that at least 100 days of historical data are loaded.\nThe property can be queried in the script and will return an int value.  When OnBarUpdate is called up for the first time, the CurrentBar property is 0 regardless of the value of BarsRequired.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_4", 
            "text": "BarsRequired", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_4", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //The indicator requires a minimum of 50 bars loaded into the history  BarsRequired = 50;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#calculateonbarclose", 
            "text": "", 
            "title": "CalculateOnBarClose"
        }, 
        {
            "location": "/keywords/#description_6", 
            "text": "The property \u201cCalculateOnBarClose\u201d determines the events for which AgenaTrader can call up the OnBarUpdate() method.  CalculateOnBarClose = true OnBarUpdate() is called up when a bar is closed and the next incoming tick creates a new bar.  CalculateOnBarClose = false OnBarUpdate() is called up for each new incoming tick.\nIf you are running AgenaTrader on older hardware, this may cause performance issues with instruments that are highly liquid.\nThe property can be queried in the script and will return a value of the type Boolean (true or false).\nCalculateOnBarClose can be used within Initialize() and also within OnBarUpdate().\nOnBarUpdate is only called up for the closing price of each bar with historical data, even if CalculateOnBarClose is set to false.\nWhen an indicator is called up by another indicator, the CalculateOnBarClose property of the retrieved indicator overwrites the indicator performing the retrieving.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_5", 
            "text": "CalculateOnBarClose", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#more-information", 
            "text": "See [ Bars ].", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_5", 
            "text": "protected  override void  Initialize ()  {  //Indicator calculation should only occur when a bar has closed/finished  CalculateOnBarClose =  true ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#chartcontrol", 
            "text": "Chart control is an object that provides reading access of various properties for the chart.  The important properties are:    ChartFontColor, BackColor    UpColor, DownColor    Font    BarMarginLeft, BarMarginRight    BarSpace, BarWidth    BarsPainted    FirstBarPainted, LastBarPainted    BarsVisible    FirstBarVisible, LastBarVisible    GetXByBarIdx, GetYByValue    An example can be seen here: [ PlotSample ].  BarsPainted und BarsVisible:  BarsPainted contains the number of bars that a chart  could  display from the left to right border with the current width and distance of the candles.\nBarsVisible contains the number of bars actually visible.  FirstBarPainted und FirstBarVisible:  FirstBarPainted contains the number of the bar that  would  be displayed on the left border of the chart.  FirstBarVisible contains the number of the bar that is actually shown as the first bar on the left side of the chart area.  Example: the chart has been moved so that the first bar of the chart is now in the middle of the chart.  FirstBarPainted would be negative.  FirstBarVisible would be 0.  LastBarPainted und LastBarVisible:  LastBarPainted contains the number of the bar that  would  be displayed on the right border of the chart.  LastBarVisible contains the number of the bar that is actually displayed on the right side of the chart.  Example: the chart has been moved so that the last bar of the chart is displayed in the middle section.  LastBarPainted would be larger than Bars.Count.  LastBarVisible would be Bars.Count -1.", 
            "title": "ChartControl"
        }, 
        {
            "location": "/keywords/#clearoutputwindow", 
            "text": "", 
            "title": "ClearOutputWindow()"
        }, 
        {
            "location": "/keywords/#description_7", 
            "text": "The ClearOutputWindow() method empties the output window. The method can be used within Initialize() as well as within OnBarUpdate().\nThe output window contains all outputs that have been created with the [ Print() ] command.\nUsing the output window is a great method for code debugging.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_6", 
            "text": "ClearOutputWindow()", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#parameter_2", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_1", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#example_6", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  // Delete the content of the output window  ClearOutputWindow();  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#crossabove", 
            "text": "", 
            "title": "CrossAbove()"
        }, 
        {
            "location": "/keywords/#description_8", 
            "text": "The CrossAbove() method allows you to check whether a crossing of two values has occurred (from bottom to top) within a predefined number of periods. The values can be a market price, an indicator, a data series or a constant value.  See [ CrossBelow() ], [ Rising() ], [ Falling() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_7", 
            "text": "CrossAbove (IDataSeries series1,  double value ,  int  lookBackPeriod)  CrossAbove (IDataSeries series1, IDataSeries series2,  int  lookBackPeriod)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_2", 
            "text": "true  a cross has occurred false  a cross has not occurred", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_3", 
            "text": "lookBackPeriod  Number of bars within which a cross will be searched for    series1 und series2  A data series such as an indicator, close, high, etc.    value  A constant value of the type double", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_7", 
            "text": "// Puts out a notice if the SMA(20) crosses above the SMA(50)  if  ( CrossAbove ( SMA (20),  SMA (50), 1))  Print (\"SMA(20) has risen above SMA(50)!\");  // Puts out a notice if the SMA(20) crosses above the value of 40  if  ( CrossAbove ( SMA (20), 40, 1))  Print (\"SMA(20) has risen above 40!\");  // Put out a notice for a long entry if the SMA(20) has crossed above the SMA(50) within the last 5 bars.  if  ( CrossAbove ( SMA (20),  SMA (50), 1)   Close[0]   Close[1])  Print (\"Long entry !!!\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#crossbelow", 
            "text": "", 
            "title": "CrossBelow()"
        }, 
        {
            "location": "/keywords/#description_9", 
            "text": "Using the CrossBelow() method, you can test whether or not a cross below has occurred within a predefined number of periods. The values can be the market price, an indicator, any data series, or a constant value.  See [ CrossAbove() ], [ Rising() ], [ Falling() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_8", 
            "text": "CrossBelow (IDataSeries series1,  double value ,  int  lookBackPeriod)  CrossBelow (IDataSeries series1, IDataSeries series2,  int  lookBackPeriod)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_3", 
            "text": "true  a cross has occurred false  a cross has not occurred", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_4", 
            "text": "lookBackPeriod  Number of Bars within which a cross will be searched for    series1 und series2  A data series such as an indicator, close, high etc.    value  A constant value of the type double", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_8", 
            "text": "// Puts out a notice if the SMA(20) crosses below the SMA(50)  if  ( CrossBelow ( SMA (20),  SMA (50), 1))  Print (\"SMA(20) has fallen below SMA(50)!\");  // Puts out a notice if the SMA(20) falls below the value of 40  if  ( CrossBelow ( SMA (20), 40, 1))  Print (\"SMA(20) has fallen below 40!\");  // Puts out a notice for a short entry if a crossing of the SMA(20) below the SMA(50) has occurred within the last 5 bars.  .  if  ( CrossBelow ( SMA (20),  SMA (50), 1)   Close[1]   Close[0])  Print (\"Short entry !!!\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#currentbar", 
            "text": "", 
            "title": "CurrentBar"
        }, 
        {
            "location": "/keywords/#description_10", 
            "text": "Current bar is a method of indexing bars used in the OnBarUpdate() method. If a chart contains 500 bars and an indicator is to be calculated on the basis of these, then AgenaTrader will begin calculating from the oldest bar. The oldest bar receives the number 0. Once the calculation for this bar has been completed, the OnBarUpdate() method is called up for the next bar, which in turn receives the number 1. This continues until the last bar, which receives a value of 500.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_5", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_4", 
            "text": "Current bar is a variable of the type int, which always contains the number of the bar currently being used.", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#usage_9", 
            "text": "CurrentBar", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#more-information_1", 
            "text": "The OnBarUpdate() method uses numbering different from that of CurrentBar in terms of the [ Barindex ][ Bars ]. Understanding this difference is of great importance, which is why we ask you to please read the following paragraph carefully:  CurrentBar numbers continuously from the oldest to youngest bar starting with 0. The BarIndex for the youngest bar is always 0. In the example referenced below this paragraph, Time[0] stands for the timestamp of the current bar. The index of the oldest bar always has 1 added to it. Thus a logical numbering of barsAgo is possible. The timestamp for the bar of 5 periods ago is Time[5].\nFor using multiple timeframes (multi-bars) in an indicator, see CurrentBars.", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_9", 
            "text": "protected  override void  OnBarUpdate ()  {  Print (\"Call of OnBarUpdate for bar nr. \" + CurrentBar + \" of \" + Time[0]);  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#datafeedhistoryperiodicity", 
            "text": "", 
            "title": "DatafeedHistoryPeriodicity"
        }, 
        {
            "location": "/keywords/#description_11", 
            "text": "Datafeed history periodicity is a data type.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#definition", 
            "text": "public enum DatafeedHistoryPeriodicity    DatafeedHistoryPeriodicity.Tick    DatafeedHistoryPeriodicity.Second    DatafeedHistoryPeriodicity.Minute    DatafeedHistoryPeriodicity.Hour    DatafeedHistoryPeriodicity.Day    DatafeedHistoryPeriodicity.Week    DatafeedHistoryPeriodicity.Month    DatafeedHistoryPeriodicity.Volume    DatafeedHistoryPeriodicity.Range    DatafeedHistoryPeriodicity.Quarter    DatafeedHistoryPeriodicity.Year    DatafeedHistoryPeriodicity.HeikinAshi    DatafeedHistoryPeriodicity.Renko    DatafeedHistoryPeriodicity.LineBreak    DatafeedHistoryPeriodicity.Kagi    DatafeedHistoryPeriodicity.PointAndFigure    DatafeedHistoryPeriodicity.Custom    See  TimeFrame ,  TimeFrames .", 
            "title": "Definition"
        }, 
        {
            "location": "/keywords/#dataseries", 
            "text": "", 
            "title": "DataSeries"
        }, 
        {
            "location": "/keywords/#description_12", 
            "text": "Data series (data rows) are an easy yet powerful method of saving additional values for individual bars. For example, when calculating the smoothing average, each bar is assigned the value calculated for this bar.\nA data series is an array that contains as many elements as there are bars displayed in a chart. AgenaTrader ensures that data series are correctly synchronized with the bars.\nData series are used in exactly the same way as the close or time series. They can therefore also be used for the input data for various indicators.\nIn the table below you will find 4 newly created data series (highlighted). Each data series has exactly one value of a special data type (int, bool, string) attached to it per bar. The indexing with barsAgo is thus identical to the data series provided by the system.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usable-data-series-in-agenatrader", 
            "text": "[ BoolSeries ]  [ DataSeries ]  [ DateTimeSeries ]  [ FloatSeries ]  [ IntSeries ]  [ LongSeries ]  [ StringSeries ]  In addition, there are also data series such as ColorSeries, although these are only used for internal purposes and should not be used directly.\nTo change the color of plots, please use [ PlotColors ].", 
            "title": "Usable Data Series in AgenaTrader"
        }, 
        {
            "location": "/keywords/#set-reset-und-containsvalue", 
            "text": "Each data series contains a  Set() ,  Reset()  and  ContainsValue()  method.\nWith Set(value) or Set(int barsAgo, value) you can place values into the data series for the current position, or in this case into the barsAgo position.\nWith Reset() or Reset(int barsAgo) you can delete a value from the data series for the current position or for the barsAgo position. This has the result that no valid value exists at this position any more.\nProgramming with the help of the reset method can simplify otherwise complex logic. This is especially true for Boolean series, where only \u201ctrue\u201d or \u201cfalse\u201d values can be included.\nThe ContainsValue() checks whether a data series has a value for a specific position.", 
            "title": "Set(), Reset() und ContainsValue()"
        }, 
        {
            "location": "/keywords/#information-about-data-types", 
            "text": "[ http://msdn.microsoft.com/de-de/library/s1ax56ch%28v=vs.80%29.aspx ]", 
            "title": "Information about Data Types"
        }, 
        {
            "location": "/keywords/#boolseries", 
            "text": "", 
            "title": "BoolSeries"
        }, 
        {
            "location": "/keywords/#description_13", 
            "text": "Bool series is a data series that contains a Boolean value for each bar. The number of elements in this series correlates with the exact number of bars within the chart.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-new-bool-series", 
            "text": "In the area for the declaration of variables, simply declare a new variable:  //Variable declaration  private  BoolSeries myBoolSeries;  With the Initialize() method, this variable assigns a new instance of the Bool series:  protected  override void  Initialize ()  {  myBoolSeries =  new BoolSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create New Bool Series"
        }, 
        {
            "location": "/keywords/#assign-values", 
            "text": "Assigning a value to the data series for the current position:  myBoolSeries. Set ( true );  Writing a value in the past into the data series:  myBoolSeries. Set ( int  barsAgo,  bool  Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values", 
            "text": "Removing the current value for the data series:  myBoolSeries. Reset ();  Removing a value in the past from the data series:  myBoolSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity", 
            "text": "myBoolSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value", 
            "text": "Print  (\"For the bar of \" + Time[0] + \" ago the value of the data series is: \" + myBoolSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_10", 
            "text": "protected override void OnBarUpdate()  {  if  (Close[0]   Open[0])  myBoolSeries. Set ( true );  else  myBoolSeries. Set ( false );  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#dataseries_1", 
            "text": "", 
            "title": "DataSeries"
        }, 
        {
            "location": "/keywords/#description_14", 
            "text": "Data series is a [ DataSeries ][ Data series ] that can contain a double value for each bar. The number of elements in this series corresponds to the exact number of bars within the charts.  Data series for double values are the data series most commonly used for indicators.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-a-new-data-series", 
            "text": "In the declaration area for variables:  //Variable declaration  private  DataSeries myDataSeries;  With the Initialize() method, this variable is assigned a new instance:  protected  override void  Initialize ()  {  myDataSeries =  new DataSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create a New Data Series"
        }, 
        {
            "location": "/keywords/#assign-values_1", 
            "text": "Assigning a value to the data series for the current position:  myDataSeries.Set(Bars[0].Close);  Writing a value in the past into the data series:  myDataSeries. Set ( int  barsAgo,  duble  Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values_1", 
            "text": "Removing the current value from the data series:  myDataSeries. Reset ();  Removing a value in the past from the data series:  myDataSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity_1", 
            "text": "myDataSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value_1", 
            "text": "Print  (\"For the bar from \" + Time[0] + \" ago the value for the data series is: \" + myDataSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_11", 
            "text": "//Saves the span between the high and low of a bar  myDataSeries. Set (Math. Abs (High[0]-Low[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#datetimeseries", 
            "text": "", 
            "title": "DateTimeSeries"
        }, 
        {
            "location": "/keywords/#description_15", 
            "text": "Date time series is a [ DataSeries ][ Data series ] that can record a date time value for each bar. The number of elements in this series corresponds to the number of bars in the chart.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-a-new-data-series_1", 
            "text": "Create a new variable in the declaration area:  //Variable declaration  private  DateTimeSeries myDataSeries;  Assign a new instance of DateTimeSeries for the variable with the Initialize() method:  protected  override void  Initialize ()  {  myDataSeries =  new DateTimeSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create a New Data Series"
        }, 
        {
            "location": "/keywords/#assign-values_2", 
            "text": "Assigning a value to the current position of the data series:  myDataSeries. Set (DateTime Value);  Writing a value from the past into the data series:  myDataSeries. Set ( int  barsAgo, DateTime Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values_2", 
            "text": "Removing the current value from the data series:  myDataSeries. Reset ();  Remove a past value from the data series:  myDataSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity_2", 
            "text": "myDataSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value_2", 
            "text": "Print  (\"For the bar from \" + Time[0] + \" ago the value of the data series is: \" + myDataSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_12", 
            "text": "//Saves the difference of -6 hours (eastern time, New York) for a time zone conversion  myDataSeries. Set (Time[0]. AddHours (-6);", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#floatseries", 
            "text": "", 
            "title": "FloatSeries"
        }, 
        {
            "location": "/keywords/#description_16", 
            "text": "Float series is a DataSeries that contains a float value for each bar in the chart. The number of elements in this series corresponds to the number of bars within the chart.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-a-new-data-series_2", 
            "text": "Create a new variable in the declaration area:  //Variable declaration  private  FloatSeries myDataSeries;  Assign a new instance of the FloatSeries to the variable with the Initialize() method:  protected  override void  Initialize ()  {  myDatatSeries =  new FloatSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create a New Data Series"
        }, 
        {
            "location": "/keywords/#assign-values_3", 
            "text": "Assigning a value to the current position of the data series  myDataSeries. Set ( float  Value);  Writing a value from the past into the data series:  myDataSeries. Set ( int  barsAgo,  float  Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values_3", 
            "text": "Removing the current value from the data series:  myDataSeries. Reset ();  Removing a value located in the past from the data series:  myDataSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity_3", 
            "text": "myDataSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value_3", 
            "text": "Print  (\"For the bar from \" + Time[0] + \" ago the value for the data series is: \" + myDataSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_13", 
            "text": "//Saves the span between the high and the low of a bar  myDataSeries. Set (Math. Abs (( float ) High[0] - ( float ) Low[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#intseries", 
            "text": "", 
            "title": "IntSeries"
        }, 
        {
            "location": "/keywords/#description_17", 
            "text": "Int series is a data series that can assign an integer value for each bar. The number of elements in this series corresponds to the number of bars within the chart.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-a-new-data-series_3", 
            "text": "Create a new variable in the declaration area:  //Variable declaration  private  IntSeries myDataSeries;  Assign an instance of the int series to the variable with the Initialize() method:  protected  override void  Initialize ()  {  myDataSeries =  new IntSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create a New Data Series"
        }, 
        {
            "location": "/keywords/#assign-values_4", 
            "text": "Assigning a value to the current position of the data series  myDataSeries. Set ( int  Value);  Writing a value from the past into the data series:  myDataSeries. Set ( int  barsAgo,  int  Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values_4", 
            "text": "Removing the current value from the data series:  myDataSeries. Reset ();  Removing a value located in the past from the data series:  myDataSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity_4", 
            "text": "myDataSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value_4", 
            "text": "Print  (For the bar from + Time[0] + the value of the data series is:+ myDataSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_14", 
            "text": "//Saves the span in ticks between high and low for each bar  myDataSeries. Set (( int ) ((High[0] - Low[0]) / TickSize));", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#longseries", 
            "text": "", 
            "title": "LongSeries"
        }, 
        {
            "location": "/keywords/#description_18", 
            "text": "Long series is a data series that can include an integer value for each bar. The number of elements in this series corresponds to the number of bars within the chart.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-a-new-data-series_4", 
            "text": "Create a new variable in the declaration area:  //Variable declaration  private  LongSeries myDataSeries;  Assign a new instance of the long series to the variable with the Initialize() method:  protected  override void  Initialize ()  {  myDataSeries =  new LongSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create a New Data Series"
        }, 
        {
            "location": "/keywords/#assign-values_5", 
            "text": "Assigning a value to the current position of the data series:  myDataSeries. Set ( long  Value);  Writing a value from the past into the data deries:  myDataSeries. Set ( int  barsAgo,  long  Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values_5", 
            "text": "Removing the current value from the data series:  myDataSeries. Reset ();  Removing a value located in the past from the data series:  myDataSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity_5", 
            "text": "myDataSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value_5", 
            "text": "Print  (For the bar from + Time[0] + the value of the data series is:+ myDataSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_15", 
            "text": "//Saves the span of ticks between high and low for each bar  myDataSeries. Set (( long ) ((High[0] - Low[0]) / TickSize));", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#stringseries", 
            "text": "", 
            "title": "StringSeries"
        }, 
        {
            "location": "/keywords/#description_19", 
            "text": "String series is a data series for string values that are saved for each bar. The number of elements in this series corresponds to the number of bars within the chart.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#create-a-new-data-series_5", 
            "text": "Create a new variable in the declaration area:  //Variable declaration  private  StringSeries myDataSeries;  Assign an instance of string series to the variable with the Initialize() method:  protected  override void  Initialize ()  {  myDataSeries =  new StringSeries ( this );  CalculateOnBarClose =  true ;  }", 
            "title": "Create a New Data Series"
        }, 
        {
            "location": "/keywords/#assign-values_6", 
            "text": "Assigning a value to the current position of the data series:  myDataSeries. Set (string Value);  Writing a value from the past into the data series:  myDataSeries. Set ( int  barsAgo, string Value);", 
            "title": "Assign Values"
        }, 
        {
            "location": "/keywords/#delete-values_6", 
            "text": "Remove the current value from the data series:  myDataSeries. Reset ();  Remove a value located in the past from the data series:  myDataSeries. Reset ( int  barsAgo);", 
            "title": "Delete Values"
        }, 
        {
            "location": "/keywords/#check-values-for-their-validity_6", 
            "text": "myDataSeries. ContainsValue ( int  barsAgo);", 
            "title": "Check Values for their Validity"
        }, 
        {
            "location": "/keywords/#read-value_6", 
            "text": "Print  (For the bar from + Time[0] + the value of the data series is:+ myDataSeries[0]);", 
            "title": "Read Value"
        }, 
        {
            "location": "/keywords/#example_16", 
            "text": "//Save the current calendar day for each bar (Monday\u2026 Tuesday etc.)  myDataSeries. Set (string. Format (\"{0:dddd}\", Time[0]));", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#dayofweek", 
            "text": "", 
            "title": "DayOfWeek"
        }, 
        {
            "location": "/keywords/#description_20", 
            "text": "\u201cDayOfWeek\u201d outputs the date-time value (such as a timestamp) for each bar.  Of course, all other methods defined within the C# language for usage of date-time objects are also available, such as day, month, year, hour, minute, second, day of week etc.  See [ http://msdn.microsoft.com/de-de/library/03ybds8y.aspx ]", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#definition_1", 
            "text": "Property DayOfWeek  public enum DayOfWeek    DayOfWeek.Monday    DayOfWeek.Tuesday    DayOfWeek.Wednesday    DayOfWeek.Thursday    DayOfWeek.Friday    DayOfWeek.Saturday    DayOfWeek.Sunday", 
            "title": "Definition"
        }, 
        {
            "location": "/keywords/#example_17", 
            "text": "//Outputs the weekday for each bar  Print (Time[0].DayOfWeek);  //Do not execute trades on a Friday  if  (Time[0].DayOfWeek == DayOfWeek.Friday)  return;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#displacement", 
            "text": "", 
            "title": "Displacement"
        }, 
        {
            "location": "/keywords/#description_21", 
            "text": "By implementing \u201cDisplacement\u201d, you can shift a drawn indicator line right or left along the x-axis.\nThis property can be queried within the script and will return an int value.  Blue line: Displacement = 0 (Original)\nRed line: Displacement = -5\nGreen line: Displacement = +5", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_10", 
            "text": "Displacement", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#parameter_6", 
            "text": "int Offset Number of bars by which the indicator is to be moved.", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_18", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //Displacement of the plot by one bar to the right  Displacement = 1;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#displayindatabox", 
            "text": "", 
            "title": "DisplayInDataBox"
        }, 
        {
            "location": "/keywords/#description_22", 
            "text": "The property \u201cDisplayInDataBox\u201d states whether the value of an indicator is contained in the data box of the chart or not.  The property can be queried in the script and returns a value of the type Boolean (true or false).  DisplayInDataBox = true (default)  The indicator values are displayed in the data box.  DisplayInDataBox = false  The indicator values are not displayed in the data box.  The following image displays the values of 3 smoothed averages in the data box.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_11", 
            "text": "DisplayInDataBox", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_19", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //Values will not be shown in the data box  DisplayInDataBox =  false ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#drawonpricepanel", 
            "text": "", 
            "title": "DrawOnPricePanel"
        }, 
        {
            "location": "/keywords/#description_23", 
            "text": "The property \u201cDrawOnPricePanel\u201d determines the panel in which the drawing objects are drawn.  DrawOnPricePanel = true (default)  Drawing objects are shown in the price chart  DrawOnPricePanel = false  Drawing objects are drawn in the panel (subchart) assigned to the indicator  If the indicator is already assigned to the price chart (overlay = true) then this property has no effect, meaning that no additional subchart is opened.\nThe property can be queried within the script and returns a Boolean value.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_12", 
            "text": "DrawOnPricePanel", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_20", 
            "text": "protected  override void  Initialize ()  {  // Indicator is drawn in a new subchart  Overlay =  false ;  Add ( new Plot (Color.Red, \"MyPlot1\"));  // Drawing object is drawn in the price chart  DrawOnPricePanel =  true ;  }  protected  override void  OnBarUpdate ()  {  // Draws a vertical line in the price chart for the bar from 5 minutes ago  DrawVerticalLine (\"MyVerticalLine\", 5, Color.Black);  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#falling", 
            "text": "", 
            "title": "Falling()"
        }, 
        {
            "location": "/keywords/#description_24", 
            "text": "The Falling() method allows you to test whether an \u201cis falling\u201d condition exists, i.e. whether the current value is smaller than the value of the previous bar.  See [ CrossAbove() ], [ CrossBelow() ], [ Rising() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_13", 
            "text": "Falling (IDataSeries series)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_5", 
            "text": "true  If the data series is falling false  If the data series is not falling", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_7", 
            "text": "series a data series such as an indicator, close, high etc.", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_21", 
            "text": "// Check whether SMA(20) is falling  if  ( Falling ( SMA (20)))  Print (\"The SMA(20) is currently falling.\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#colors", 
            "text": "AgenaScript provides you with the following commands for defining colors and making color changes to the chart:  [ BarColor ] Color of a bar  [ BackColor ] Background color of the chart  [ BackColorAll ] Background color of the chart and all panels  ChartControl.UpColor Color of up ticks (up bars)\nChartControl.DownColor Color of down ticks (down bars)  For each bar, its colors are saved in the following data series. If these data series are written in, the color of the referenced bar will change.  [ BarColorSeries ]  [ CandleOutlineColorSeries ]  [ BackColorSeries ]  [ BackColorAllSeries ]", 
            "title": "Colors"
        }, 
        {
            "location": "/keywords/#barcolor", 
            "text": "", 
            "title": "BarColor"
        }, 
        {
            "location": "/keywords/#description_25", 
            "text": "Bar color changes the color of a bar.  See [ Colors ], [ BarColorSeries ], [ BackColor ], [ BackColorAll ], [ CandleOutlineColor ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_8", 
            "text": "a color object of the type \u201cpublic struct color\u201d", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_14", 
            "text": "BarColor", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_22", 
            "text": "// If the closing price is above the SMA(14), color the bar orange  if  (Close[0]    SMA (14)[0]) BarColor = Color.Orange;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#backcolor", 
            "text": "", 
            "title": "BackColor"
        }, 
        {
            "location": "/keywords/#description_26", 
            "text": "Back color changes the background color of a bar or gives the current background color of a bar when queried.  See [ Colors ], [ BarColor ], [ BackColorAll ], [ CandleOutlineColor ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_9", 
            "text": "a color object of the type \u201cpublic struct color\u201d", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_15", 
            "text": "BackColor", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_23", 
            "text": "// Every Monday, change the bar background color to blue  if  (Time[0].DayOfWeek == DayOfWeek.Monday)  BackColor = Color.Blue;   // Changing the bar background color depending on a smoothing average  // Market price above the SMA(14) to green  // Market price below the SMA(14) to maroon  BackColor =  SMA (14)[0]  = Close[0] ? Color.Maroon : Color.LimeGreen;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#backcolorall", 
            "text": "", 
            "title": "BackColorAll"
        }, 
        {
            "location": "/keywords/#description_27", 
            "text": "Back color all changes the background color of a bar within the chart window and in all subcharts.  See [ Colors ], [ BarColor ], [ BackColor ], [ CandleOutlineColor ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_10", 
            "text": "A color object of the type \u201cpublic struct color\u201d", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_16", 
            "text": "BackColorAll", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_24", 
            "text": "// Every Monday, change the bar background color to blue  if  (Time[0].DayOfWeek == DayOfWeek.Monday)  BackColorAll = Color.Blue;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#barcolorseries", 
            "text": "", 
            "title": "BarColorSeries"
        }, 
        {
            "location": "/keywords/#description_28", 
            "text": "Bar color series is a data series containing the color for each bar.  See [ Colors ], [ BackColorSeries ], [ BackColorAllSeries ], [ CandleOutlineColorSeries ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_11", 
            "text": "a color object of the type \u201cpublic struct color\u201d  int barsAgo", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_17", 
            "text": "BarColorSeries  BarColorSeries[ int  barsAgo]  When using the method with an index [ int  barsAgo] the color for the referenced bar will be changed or returned.  Caution: Only the color of a bar whose color has been explicitly changed beforehand will be returned. In all other cases, the \u201cColor.Empty\u201d value will be returned.", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_25", 
            "text": "protected  override void  OnBarUpdate ()  {  if  (CurrentBar == Bars.Count-1-(CalculateOnBarClose?1:0))  {   // Color the current bar blue  // This is identical to BarColor = color.Blue   BarColorSeries[0] = Color.Blue;  // Color the previous bars green  BarColorSeries[1] = Color.Orange;  // Color the third bar yellow  BarColorSeries[2] = Color.Yellow;  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#backcolorseries", 
            "text": "", 
            "title": "BackColorSeries"
        }, 
        {
            "location": "/keywords/#description_29", 
            "text": "Back color series is a data series containing the background color for each bar. If the background color for the subcharts is to be included, please use \u201cBackColorAllSeries\u201d instead.  See [ Colors ], [ BarColorSeries ][ BarColor ], [ BackColorAllSeries ][] [ CandleOutlineColorSeries ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_12", 
            "text": "a color object of the type \u201cpublic struct color\u201d  int barsAgo", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_18", 
            "text": "BackColorSeries  BackColorSeries[ int  barsAgo]  When using this method with an index [ int  barsAgo] the background color for the referenced bar will be outputted.", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_26", 
            "text": "// Which background color does the current bar have?  Print  (BackColorSeries[0]);  // Set the current bar\u2019s background color to blue  // This is identical to BackColor = Color.Blue  BackColorSeries[3] = Color.Blue;  // Set background color for the previous bar to green  BackColorSeries[1] = Color.Green;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#backcolorallseries", 
            "text": "", 
            "title": "BackColorAllSeries"
        }, 
        {
            "location": "/keywords/#description_30", 
            "text": "Back color all series is a data series containing the background color for each bar. The difference to BackColorSeries is that the background color of the subchart is included.  See [ Colors ], [ BarColorSeries ], [ BackColorSeries ], [ CandleOutlineColorSeries ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_13", 
            "text": "a color object of the type \u201cpublic struct color\u201d  int barsAgo", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_19", 
            "text": "BackColorAllSeries  BackColorAllSeries[ int  barsAgo]  When using the method with an index [ int  barsAgo] the background color for the referenced bar will be changed or returned.", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_27", 
            "text": "See [ BackColorSeries ].", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#candleoutlinecolor", 
            "text": "", 
            "title": "CandleOutlineColor"
        }, 
        {
            "location": "/keywords/#description_31", 
            "text": "Candle outline color changes the border/outline color (including the wick) of a bar.  If the color of the bar is changed using BarColor and the outline is not changed using CandleOutlineColor, the outline color is adjusted to match the color of the bar.  See [ Colors ], [ BarColor ], [ BackColor ], [ BackColorAll ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_14", 
            "text": "a color object of the type \u201cpublic struct color\u201d", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_20", 
            "text": "CandleOutlineColor", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_28", 
            "text": "if  ( SMA (14)[0]    SMA (200)[0])  CandleOutlineColor = Color.LimeGreen;  else  CandleOutlineColor = Color.Red;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#candleoutlinecolorseries", 
            "text": "", 
            "title": "CandleOutlineColorSeries"
        }, 
        {
            "location": "/keywords/#description_32", 
            "text": "Candle outline color series is a data series that saves the outline color for each bar.  See [ Colors ], [ BarColorSeries ], [ BackColorSeries ], [ BackColorAllSeries ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_15", 
            "text": "a color object of the type \u201cpublic struct color\u201d  int barsAgo", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_21", 
            "text": "CandleOutlineColorSeries\nCandleOutlineColorSeries[ int  barsAgo]  When using this method with an index [ int  barsAgo] the border color for the referenced bar will be outputted.  Caution: Color.Empty will be outputted for a bar unless it has been previously changed.", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_29", 
            "text": "// Set the outline color of the current bar to blue  CandleOutlineColorSeries[0] = Color.Blue;  // Change the outline color to the chart default value  CandleOutlineColorSeries[0] = Color.Empty;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#firsttickofbar", 
            "text": "", 
            "title": "FirstTickOfBar"
        }, 
        {
            "location": "/keywords/#description_33", 
            "text": "FirstTickOfBar is a property of the type \u201cbool\u201d that returns \u201ctrue\u201d if the currently incoming tick is associated with a new bar. This means that this tick is the first tick of a new bar.\nThis property can only be meaningfully applied when the indicator or strategy is running in the tick-by-tick mode, meaning that CalculateOnBarClose = false and the data feed is able to output real-time values.\nWhen using end-of-day data in a daily chart, the \u201cFirstTickOfBar\u201d is always true for the last bar.\nFirstTickOfBar should not be used outside of the OnBarUpdate() method.\nSee [ Bars.TickCount ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_22", 
            "text": "FirstTickOfBar", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_30", 
            "text": "// Within a tick-by-tick strategy, execute one part bar-by-bar only  if  (FirstTickOfBar)  {  if  ( CCI (20)[1]   -250)  EnterLong ();  return;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#firsttickofbarmtf", 
            "text": "", 
            "title": "FirstTickOfBarMtf"
        }, 
        {
            "location": "/keywords/#description_34", 
            "text": "FirstTickOfBarMtf is the  m ulti- t ime  f rame variant of the [ FirstTickOfBar ] property.  The setting of CalculateOnBarClose only affects the primary timeframe (chart timeframe). When working with multi-bars, the ticks of the secondary timeframes are provided on a tick-by-tick basis independently of the CalculateOnBarClose setting.\nWith the help of FirstTickOfBarMtf, it is possible to determine when a new bar has begun in a secondary timeframe.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_23", 
            "text": "FirstTickOfBarMtf(BarsInProgress)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#parameter_16", 
            "text": "FirstTickOfBarMtf(BarsInProgress).  See [ BarsInProgress ].", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_31", 
            "text": "if  ( FirstTickOfBarMtf (BarsInProgress))  Print (\"A new bar has begun.\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#getcurrentask", 
            "text": "", 
            "title": "GetCurrentAsk()"
        }, 
        {
            "location": "/keywords/#description_35", 
            "text": "The GetCurrentAsk() method returns the current value of the ask side of the order book. If no level 1 data is available to AgenaTrader, then this function simply outputs the last trade value.  See [ GetCurrentBid() ] and [ OnMarketData() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_24", 
            "text": "GetCurrentAsk()", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_6", 
            "text": "double value", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_17", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_32", 
            "text": "If an entry condition is fulfilled, then 1 contract should be sold at the current ask price:  private  IOrder entryOrder =  null ;  protected  override void  OnBarUpdate ()  {  // Entry condition  if  (Close[0]    SMA (20)[0]   entryOrder ==  null )  // Sell 1 contract at the current ask price  entryOrder =  SubmitOrder (0, OrderAction.SellShort, OrderType.Limit, 1,  GetCurrentAsk (), 0, \"\", \"Enter short\");  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#getcurrentbid", 
            "text": "", 
            "title": "GetCurrentBid()"
        }, 
        {
            "location": "/keywords/#description_36", 
            "text": "The GetCurrentBid() method returns the current value of the bid side of the order book. If no level 1 data is available to AgenaTrader, then the function outputs the last traded price.  See [ GetCurrentAsk() ] and [ OnMarketData() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_25", 
            "text": "GetCurrentBid()", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_7", 
            "text": "double value", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_18", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_33", 
            "text": "If an entry condition is fulfilled, then 1 contract should be sold at the current bid price:  private  IOrder entryOrder =  null ;  protected  override void  OnBarUpdate ()  {  // Entry condition  if  (Close[0]    SMA (20)[0]   entryOrder ==  null )  // Sell 1 contract at the current bid price  entryOrder =  SubmitOrder (0, OrderAction.Buy, OrderType.Limit, 1,  GetCurrentBid (), 0, \"\", \"Enter long\");  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#highestbar", 
            "text": "", 
            "title": "HighestBar"
        }, 
        {
            "location": "/keywords/#description_37", 
            "text": "The HighestBar() method searches within a predetermined number of periods for the highest bar and outputs how many bars ago it can be found.  See [ LowestBar() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_19", 
            "text": "period Number of bars within which the bar is searched for  series Every data series, such as close, high, low, etc.", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_8", 
            "text": "int  barsAgo How many bars ago the high occurred", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#usage_26", 
            "text": "HighestBar (IDataSeries series,  int  period)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_34", 
            "text": "// How many bars ago was the highest high for the current session?  Print ( HighestBar (High, Bars.BarsSinceSession - 1));  // What value did the market price have at the highest high of the session?  Print (\"The highest price for the session was: \" + Open[ HighestBar (High, Bars.BarsSinceSession - 1)]);", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#historical", 
            "text": "", 
            "title": "Historical"
        }, 
        {
            "location": "/keywords/#description_38", 
            "text": "Historical allows you to check whether AgenaScript is working with historical or real-time data.\nAs long as OnBarUpdate() is called up for historical data, then historical = true. As soon as live data is being used, then historical = false.\nDuring a backtest, historical is always true.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_27", 
            "text": "Historical", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_9", 
            "text": "true  when using historical data false  when using real-time data", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#example_35", 
            "text": "protected  override void  OnBarUpdate ()  {  // only execute for real-time data  if  (Historical) return;  // Trading technique  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#initialize", 
            "text": "", 
            "title": "Initialize()"
        }, 
        {
            "location": "/keywords/#description_39", 
            "text": "The Initialize() method is called up once at the beginning of an indicator or strategy calculation. This method can be used to set indicator properties, initialize your own variables, or add plots.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_20", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_10", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#usage_28", 
            "text": "protected  override void  Initialize ()", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#important-keywords", 
            "text": "[ Add() ]    [ AllowRemovalOfDrawObjects ]    [ AutoScale ]    [ BarsRequired ]    [ CalculateOnBarClose ]    [ ClearOutputWindow() ]    [ Displacement ]    [ DisplayInDataBox ]    [ DrawOnPricePanel ]    [ InputPriceType ]    [ Overlay ]    [ PaintPriceMarkers ]    [ SessionBreakLines ]    [ VerticalGridLines ]     Additional Keywords for Strategies     [ DefaultQuantity ]    [ EntriesPerDirection ]    [ EntryHandling ]    [ SetStopLoss() ]    [ SetProfitTarget() ]    [ SetTrailStop() ]    [ TimeInForce ]    [ TraceOrders ]", 
            "title": "Important Keywords"
        }, 
        {
            "location": "/keywords/#more-information_2", 
            "text": "Caution:  The Initialize() method is not only called up at the beginning of an indicator or strategy calculation, but also if the chart is reloaded unexpectedly or if the properties dialog of indicators is opened and so on.\nDevelopers of custom AgenaScripts should NOT use this method for running their own routines, opening forms, performing license checks, etc. The OnStartUp() method should be used for these kind of tasks.", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_36", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Blue, \"myPlot\"));  ClearOutputWindow ();  AutoScale =  false ;  Overlay =  true ;  PaintPriceMarkers =  false ;  DisplayInDataBox =  false ;  CalculateOnBarClose =  true ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#initrequirements", 
            "text": "", 
            "title": "InitRequirements()"
        }, 
        {
            "location": "/keywords/#description_40", 
            "text": "The InitRequirements() method is called up once at the beginning of an indicator and/or strategy calculation. This method is only necessary when using multi-bars.\nWithin InitRequirements, no other programming commands are executed. For initializing, the Initialize() or OnStartUp() method should be used.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_21", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_11", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#example_37", 
            "text": "protected  override void  InitRequirements ()  {  Add (DatafeedHistoryPeriodicity.Day, 1);  Add (DatafeedHistoryPeriodicity.Week, 1);  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#inputpricetype", 
            "text": "", 
            "title": "InputPriceType"
        }, 
        {
            "location": "/keywords/#description_41", 
            "text": "The input price type property determines which price series is used by default when calculating an indicator, if no other data series is explicitly stated.\nInputPriceType can be set with the Initialize() method; this specification is then valid for all further calculations.\nIf InputPriceType is in OnBarUpdate(), these changes are only valid starting with the next instruction.\nEvery further appearance of InputPriceType will be ignored!  See [ PriceType ]", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_29", 
            "text": "InputPriceType", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example1", 
            "text": "protected  override void  Initialize ()  {  ClearOutputWindow ();  InputPriceType = PriceType.Low;  }  protected  override void  OnBarUpdate ()  {  // The input data series for the indicator (input) is low  Print (Low[0] + \" \" + Input[0] + \" \" + InputPriceType);  }", 
            "title": "Example1"
        }, 
        {
            "location": "/keywords/#example2", 
            "text": "protected  override void  OnBarUpdate ()  {  // These values are identical  // since close is used as the input data series by default  Print ( SMA (20)[0] + \" \" +  SMA (Close, 20)[0]);  InputPriceType = PriceType.Low;  // From here on out, low is used instead of close  // Both values are identical  Print ( SMA (20)[0] + \" \" +  SMA (Low, 20)[0]);  InputPriceType = PriceType.High;  // The instructions will be ignored  // Input = low is still in effect  }", 
            "title": "Example2"
        }, 
        {
            "location": "/keywords/#instrument", 
            "text": "", 
            "title": "Instrument"
        }, 
        {
            "location": "/keywords/#description_42", 
            "text": "With \u201cinstrument\u201d, information concerning the trading instrument (stock, future etc.) is made available.  Detailed information can be found here:  Instruments .", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#line", 
            "text": "", 
            "title": "Line()"
        }, 
        {
            "location": "/keywords/#description_43", 
            "text": "A line object is used for drawing a horizontal line in the chart. Usually, these are upper and lower trigger lines for indicators such as the RSI (70 and 30).\nThe lines described here are not to be confused with lines from the drawing objects (see \u201cDrawHorizontalLine\u201d).\nLine objects can be added to an indicator with the help of the Add() method, and with this, added to the lines collection.  See [ Plot ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_22", 
            "text": "Color  Line color    Name  Description    Pen  A pen object    Value  Defines which value on the y-axis the line will be drawn for", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_30", 
            "text": "Line (Color color,  double value , string name)  Line (Pen pen,  double value , string name)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#more-information_3", 
            "text": "Information on the pen class: [ http://msdn.microsoft.com/de-de/library/system.drawing.pen.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_38", 
            "text": "// Example 1  // A new line with standard values drawn at the value of 70  Add ( new Line (Color.Black, 70, \"Upper\"));  // Example 2  // A new line with self-defined values  private  Line line;  private  Pen pen;  protected  override void  Initialize ()  {  // Define a red pen with the line strength 1  pen =  new Pen (Color.Red, 1);  // Define a horizontal line at 10  line =  new Line (pen, 10, \"MyLine\");  // add the defined line to the indicator  Add (line);  }  // Example 3  // Short form for the line in example 2  Add ( new Line ( new Pen (Color.Red, 1), 10, \"MyLine\"));", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#log", 
            "text": "", 
            "title": "Log()"
        }, 
        {
            "location": "/keywords/#description_44", 
            "text": "Log() allows you to write outputs in the AgenaTrader log file (log tab). 5 different log levels are supported.  Note:  If the log tab is not viewable, it can be displayed using the tools log.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_31", 
            "text": "Log (string message, LogLevel logLevel)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#parameter_23", 
            "text": "message  Text (message)    logLevel  Possible values are             InfoLogLevel.Info\n\n        InfoLogLevel.Message\n\n        InfoLogLevel.Warning\n\n        InfoLogLevel.Alert\n\n        InfoLogLevel.Error    |", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_39", 
            "text": "", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#tab-protocol", 
            "text": "", 
            "title": "### //Tab protocol"
        }, 
        {
            "location": "/keywords/#logthis-is-information-infologlevelinfo-white", 
            "text": "", 
            "title": "### Log(\"This is information.\", InfoLogLevel.Info); //white"
        }, 
        {
            "location": "/keywords/#logthis-is-a-message-infologlevelmessage-blue", 
            "text": "", 
            "title": "### Log(\"This is a message.\", InfoLogLevel.Message); // blue"
        }, 
        {
            "location": "/keywords/#logthis-is-a-warning-infologlevelwarning-yellow", 
            "text": "", 
            "title": "### Log(\"This is a warning.\", InfoLogLevel.Warning); // yellow"
        }, 
        {
            "location": "/keywords/#logthis-is-an-alarm-infologlevel-alertlog-green", 
            "text": "", 
            "title": "### Log(\"This is an alarm.\", InfoLogLevel. AlertLog); //green"
        }, 
        {
            "location": "/keywords/#logthis-is-a-mistake-infologlevelerror-red", 
            "text": "", 
            "title": "### Log(\"This is a mistake.\", InfoLogLevel.Error); // red"
        }, 
        {
            "location": "/keywords/#_2", 
            "text": "", 
            "title": "###"
        }, 
        {
            "location": "/keywords/#tab-messags", 
            "text": "", 
            "title": "### //Tab messags"
        }, 
        {
            "location": "/keywords/#logthis-is-a-message-messages-infologlevelmessage-gray", 
            "text": "", 
            "title": "### Log(\"This is a message (messages).\", InfoLogLevel.Message); //gray"
        }, 
        {
            "location": "/keywords/#_3", 
            "text": "", 
            "title": "###"
        }, 
        {
            "location": "/keywords/#popup-protocoll", 
            "text": "", 
            "title": "### //PopUp&amp; protocoll"
        }, 
        {
            "location": "/keywords/#logthis-is-an-alert-popup-window-infologlevelalert-green", 
            "text": "", 
            "title": "### Log(\"This is an alert popup window.\", InfoLogLevel.Alert); //green"
        }, 
        {
            "location": "/keywords/#lowestbar", 
            "text": "", 
            "title": "LowestBar"
        }, 
        {
            "location": "/keywords/#description_45", 
            "text": "The LowestBar() method attempts to find the lowest bar within a predefined number of periods.  See [ HighestBar() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_24", 
            "text": "period Number of bars that will be searched for the lowest bar  series Every data series, such as close, high, low etc.", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_12", 
            "text": "int  barsAgo How many bars ago the low occurred", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#usage_32", 
            "text": "LowestBar (IDataSeries series,  int  period)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_40", 
            "text": "// How many bars ago was the lowest low of the session?  Print ( LowestBar (Low, Bars.BarsSinceSession - 1));  // Which price did the lowest open of the current session have?  Print (\"The lowest open price of the current session was: \" + Open[ LowestBar (Low, Bars.BarsSinceSession - 1)]);", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#marketdataeventargs", 
            "text": "", 
            "title": "MarketDataEventArgs"
        }, 
        {
            "location": "/keywords/#description_46", 
            "text": "The data type MarketDataEventArgs represents a change in the level 1 data and is used as a parameter of the OnMarketData() function.           AskSize  Current order volume on the ask side    AskPrice  Current ask price    BidSize  Current order volume on the bid side    BidPrice  Current bid price.    Instrument  An object of the type instrument that contains the trading instrument for which the level 1 data is outputted. See  Instruments    LastPrice  Last traded price    MarketDataType  Potential values are:                   MarketDataType.Ask\n\n              MarketDataType.AskSize\n\n              MarketDataType.Bid\n\n              MarketDataType.BidSize\n\n              MarketDataType.Last\n\n              MarketDataType.Volume                                                                                                             |     Price  This is equal to last price. This field only exists for compatability reasons      Volume  A long value that shows the volume", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#example_41", 
            "text": "See [ OnMarketData() ].", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#marketdeptheventargs", 
            "text": "", 
            "title": "MarketDepthEventArgs"
        }, 
        {
            "location": "/keywords/#description_47", 
            "text": "The data type MarketDepthEventArgs represents a change in the level 2 data (market depth) and is used as a parameter within OnMarketDepth().           MarketDataType  Potential values are:                   MarketDataType.Ask                                              \n              MarketDataType.Bid                                              |  | MarketMaker    | A string value containing the market maker ID                  |\n| Position       | An int value that defines the position within the market depth |\n| Operation      | Represents the action caused by a change in the order book.                    Values can be:\n\n              Operation.Insert                                                \n              Operation.Remove                                                \n              Operation.Update                                                |     Price  A double value that displays the bid/ask price      Volume  A long value that shows the volume", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#example_42", 
            "text": "See [ OnMarketDepth() ].", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#overlay", 
            "text": "", 
            "title": "Overlay"
        }, 
        {
            "location": "/keywords/#description_48", 
            "text": "The overlay property defines whether the indicator outputs are displayed in the price chart above the bars or whether a separate chart window is opened below the charting area.  Overlay = true  The indicator is drawn above the price (for example an [ SMA ])  Overlay = false (default)  A separate chart window is opened (RSI)  This property can be queried within the script and outputs a value of the type Boolean (true or false).", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_33", 
            "text": "Overlay", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_43", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //The indicator should be displayed within a separate window  Overlay =  false ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#paintpricemarkers", 
            "text": "", 
            "title": "PaintPriceMarkers"
        }, 
        {
            "location": "/keywords/#description_49", 
            "text": "The paint price markers property defines whether the so-called price markers for the indicator outputs are displayed on the right-hand chart border (in the price axis) or not. In some cases it makes sense to switch these off for a better overview in the chart. PaintPriceMarkers = true (default)  Price markers are shown in the price axis  PaintPriceMarkers = false  Price markers are not shown in the price axis  This property can be queried within the script and returns a value of the type Boolean (true or false).", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_34", 
            "text": "PaintPriceMarkers", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_44", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //Do not show price markers in the price axis  PaintPriceMarkers =  false ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#playsound", 
            "text": "", 
            "title": "PlaySound()"
        }, 
        {
            "location": "/keywords/#description_50", 
            "text": "This method allows you to play a wav file.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_35", 
            "text": "PlaySound (wavFile)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_13", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_25", 
            "text": "wavFile File name of the wav file to be played", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_45", 
            "text": "using  System.IO;  string path = Environment. GetFolderPath (Environment.SpecialFolder.MyDocuments);  string file = \"\\\\AgenaTrader\\\\Sounds\\\\Alert1.wav\";  PlaySound (path + file);", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#plot", 
            "text": "", 
            "title": "Plot()"
        }, 
        {
            "location": "/keywords/#description_51", 
            "text": "A plot (drawing) is used to visually display indicators in a chart. Plot objects are assigned to an indicator with the help of the Add() method and attached to the plots collection.\nSee [ Line ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_26", 
            "text": "Color  Drawing color    Pen  Pen object    PlotStyle  Line type              PlotStyle.Bar\n\n         PlotStyle.Block\n\n         PlotStyle.Cross\n\n         PlotStyle.Dot\n\n         PlotStyle.Hash\n\n         PlotStyle.Line\n\n         PlotStyle.Square\n\n         PlotStyle.TriangleDown\n\n         PlotStyle.TriangleUp    |  | Name      | Description            |", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#usage_36", 
            "text": "Plot (Color color, string name)  Plot (Pen pen, string name)  Plot (Color color, PlotStyle plotStyle, string name)  Plot (Pen pen, PlotStyle plotStyle, string name)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#more-information_4", 
            "text": "Information on the pen class: [ http://msdn.microsoft.com/de-de/library/system.drawing.pen.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_46", 
            "text": "// Example 1  // Plot with standard values (line with line strength 1)  Add ( new Plot (Color.Green, \"MyPlot\"));  // Example 2  // user-defined values for pen and plot style  private  Plot plot;  private  Pen pen;  protected  override void  Initialize ()  {  // a red pen with the line strength of 6 is defined  pen =  new Pen (Color.Blue, 6);  // a point line with a thick red pen from above is defined  plot =  new Plot (pen, PlotStyle.Dot, \"MyPlot\");  // The defined plot is to be used as a representation for an indicator  Add (plot);  }  // Example 3  // Abbreviation of example 2  protected  override void  Initialize ()  {  Add ( new Plot ( new Pen (Color.Blue, 6), PlotStyle.Dot, \"MyPlot\"));  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#plotmethod", 
            "text": "", 
            "title": "PlotMethod"
        }, 
        {
            "location": "/keywords/#description_52", 
            "text": "In each indicator, the plot method can be overridden in order to add your own graphics (GDI+) to the price chart with the help of the graphics class (System.Drawing).  See [ http://msdn.microsoft.com/de-de/library/system.drawing.graphics.aspx ].  The [ ChartControl ] object offers several parameters.  More examples: [ Bar Numbering ][ PlotSample ],  Chart Background Image .", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#parameter_27", 
            "text": "graphics The graphics object of the price chart (context)  rectangle The size of the drawing area (type \u201cpublic struct rectangle\u201d)  double min The smallest price in the y-axis  double max The biggest price in the y-axis", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_14", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#usage_37", 
            "text": "public  override void  Plot (Graphics graphics, Rectangle r,  double  min,  double  max)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_47", 
            "text": "using  System;  using  System.Collections.Generic;  using  System.ComponentModel;  using  System.Drawing;  using  System.Drawing.Drawing2D;  using  AgenaTrader.API;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  namespace  AgenaTrader.UserCode  {  [ Description (\"Example for the usage of the plot method.\")]  public  class PlotSample : UserIndicator  {  private  StringFormat stringFormat =  new StringFormat ();  private  SolidBrush brush =  new SolidBrush (Color.Black);  private  Font font =  new Font (\"Arial\", 10);  protected  override void  Initialize ()  {  ChartOnly =  true ;  Overlay =  true ;  }  protected  override void  OnBarUpdate ()  {}  protected  override void  OnTermination ()  {  brush. Dispose ();  stringFormat. Dispose ();  }  public  override void  Plot (Graphics graphics, Rectangle r,  double  min,  double  max)  {  // Fill a rectangle  SolidBrush tmpBrush =  new SolidBrush (Color.LightGray);  graphics. FillRectangle (tmpBrush,  new Rectangle  (0, 0, 300, 300));  tmpBrush. Dispose ();  // Draw a red line from top left to bottom right  Pen pen =  new Pen (Color.Red);  graphics. DrawLine (pen, r.X, r.Y, r.X + r.Width, r.Y + r.Height);  // Draw a red line from bottom left to top right  // Use anti-alias (the line appears smoother)  // The current settings for the smoothing are saved  // Restore after drawing  SmoothingMode oldSmoothingMode = graphics.SmoothingMode; //Save settings  graphics.SmoothingMode = SmoothingMode.AntiAlias; // Use higher smoothing settings  graphics. DrawLine (pen, r.X, r.Y + r.Height, r.X + r.Width, r.Y);  graphics.SmoothingMode = oldSmoothingMode; // Settings restored  pen. Dispose ();  // Text in the upper left corner (position 10,35)  stringFormat.Alignment = StringAlignment.Near; // Align text to the left  brush.Color = Color.Blue;  graphics. DrawString (\"Hello world!\", font, brush, r.X + 10, r.Y + 35, stringFormat);  // Text in the left lower corner and draw a line around it  brush.Color = Color.Aquamarine;  graphics. FillRectangle (brush, r.X + 10, r.Y + r.Height - 20, 140, 19);  // Draw outside line  pen =  new Pen (Color.Black);  graphics. DrawRectangle (pen, r.X + 10, r.Y + r.Height - 20, 140, 19);  pen. Dispose ();  // Write text  brush.Color = Color.Red;  graphics. DrawString (\"Here is bottom left!\", font, brush, r.X + 10, r.Y + r.Height - 20, stringFormat);  }  }  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#pricetype", 
            "text": "", 
            "title": "PriceType"
        }, 
        {
            "location": "/keywords/#description_53", 
            "text": "Price type describes a form of price data.  See [ InputPriceType ]  Following variables are available:    PriceType.Close    PriceType.High    PriceType.Low    PriceType.Median    PriceType.Open    PriceType.Typical    PriceType.Volume    PriceType.Weighted", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_38", 
            "text": "PriceType", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_48", 
            "text": "See [ InputPriceType ]", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#print", 
            "text": "", 
            "title": "Print()"
        }, 
        {
            "location": "/keywords/#description_54", 
            "text": "The Print() method writes outputs in the AgenaTrader output window.\nSee [ ClearOutputWindow() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_39", 
            "text": "Print (string message)  Print ( bool value )  Print ( double value )  Print ( int value )  Print (DateTime  value )  Print (string format, string message)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#parameter_28", 
            "text": "string Text an individual message text", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#return-value_15", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#more-information_5", 
            "text": "Information regarding output formatting:  Formatting numbers .  Hints about the String.Format() method: [ http://msdn.microsoft.com/de-de/library/fht0f5be%28v=vs.80%29.aspx ]", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_49", 
            "text": "// \"Quick Dirty\" formatting of a number with 2 decimal points  Print (Close[0]. ToString (\"0.00\"));  // Output day of the week from the timestamp for the bar  Print (string. Format (\"{0:dddd}\", Time[0]));  // An additional empty row with an escape sequence  Print (\"One empty row afterwards \\n\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#removedrawobject", 
            "text": "", 
            "title": "RemoveDrawObject()"
        }, 
        {
            "location": "/keywords/#description_55", 
            "text": "The RemoveDrawObject() method removes a specific drawing object from the chart based on a unique identifier (tag).\nSee [ RemoveDrawObjects() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_40", 
            "text": "RemoveDrawObject(string tag)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_16", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_29", 
            "text": "string tag The clearly identifiable name for the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_50", 
            "text": "RemoveDrawObjects (\"My line\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#removedrawobjects", 
            "text": "", 
            "title": "RemoveDrawObjects()"
        }, 
        {
            "location": "/keywords/#description_56", 
            "text": "This method removes all drawings from the chart\nSee [ RemoveDrawObject() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_41", 
            "text": "RemoveDrawObjects()", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_17", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#example_51", 
            "text": "//Delete all drawings from the chart  RemoveDrawObjects ();", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#rising", 
            "text": "", 
            "title": "Rising()"
        }, 
        {
            "location": "/keywords/#description_57", 
            "text": "With this method you can check if an uptrend exists, i.e. if the current value is bigger than the previous bar\u2019s value.  See [ CrossAbove() ], [ CrossBelow() ], [ Falling() ].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_42", 
            "text": "Rising (IDataSeries series)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_18", 
            "text": "true  If the data series is rising false  If the data series is not rising", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_30", 
            "text": "series A data series such as an indicator, close, high etc.", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_52", 
            "text": "// Check if SMA(20) is rising  if  ( Rising ( SMA (20)))  Print (\"The SMA(20) is currently rising.\");", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#sessionbreaklines", 
            "text": "", 
            "title": "SessionBreakLines"
        }, 
        {
            "location": "/keywords/#description_58", 
            "text": "The property SessionBreakLines defines whether the vertical lines that represent a trading session stop are displayed within the chart.\nThis may be useful for stocks and other instruments if you wish to display session breaks/trading stops. SessionBreakLines = true (default)  Session break lines are shown  SessionBreakLines = false  Session break lines are not shown  This property can be queried within the script and outputs a value of the type Boolean (true or false).", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_43", 
            "text": "SessionBreakLines", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_53", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  //Session break lines should not be shown  SessionBreakLines =  false ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#ticksize", 
            "text": "A tick is the smallest possible price change of a financial instrument within an exchange. If, for example, the trading prices are specified to 2 decimal places, then a tick equals 0.01. You can expect Forex instruments to be specified to within 4 or 5 decimal places. A tick is called a pip in Forex trading and usually equals 0.0001 or 0.00001.\nThe tick value is usually predefined by the exchange and does not (usually) change.\nSee [ Instrument.TickSize ].  Usually, a tick is displayed as a decimal number. Historically speaking (especially in American exchanges) stocks have been noted with tick sizes of 1/16 of a dollar.\nThis notation is still widespread within commodities. Corn futures (ZC) are noted in \u00bc US cents/bushel (usually equals 12.50 US$ per contract).\nUS treasury bonds are noted in a tick size of 1/32 points, which equals 31.25$.\nNotations are usually made with apostrophes, for example:  149'00 equals exactly 149,\n149'01 equals 149 1/32 (meaning 149.03125),\n149'31 equals 149 31/32 (149.96875),\nand the next value after this is 150\u201900  In the so-called T-Bond intermonth spreads, notations are specified in quarters of 1/32, resulting in point values of 7.8125 per contract.  Notations have a dash:  17-24 equals 17 24/32 points,\n17-242 equals 17 24.25/32 points,\n17-245 equals 17 24.5/32 points and\n17-247 equals 17 24.75/32 points.\nThe next notation after 17-247 is 17-25 and then 17-252, 17-255 etc.\nAfter 17-317 comes 18.  The individual contract specifications can be found on the websites of the respective exchanges.  CME: [ www.cmegroup.com ] under Products   Trading\nEurex (FDAX):  http://www.eurexchange.com/exchange-en/products/idx/dax/17206/  See [ Instrument.TickSize ].", 
            "title": "TickSize"
        }, 
        {
            "location": "/keywords/#timeframe", 
            "text": "See [ Bars.TimeFrame ].  When using multiple timeframes ([ Multibars ][ MultiBars ]) in an indicator, please see [ TimeFrames ].", 
            "title": "TimeFrame"
        }, 
        {
            "location": "/keywords/#today", 
            "text": "", 
            "title": "ToDay()"
        }, 
        {
            "location": "/keywords/#description_59", 
            "text": "To day is a method specifically suited for inexperienced programmers who have problems with the potentially complex .net date-time structure of C#.\nExperienced programmers can continue using the date-time function directly.  To day outputs an int representation in the format of yyyymmdd.\n(yyyy = year, mm = month, dd = day)  13.08.2012 would thus be 20120813.  See [ ToTime ].  Help with date-time: [ http://msdn.microsoft.com/de-de/library/system.datetime.aspx ]", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_44", 
            "text": "ToDay(DateTime time)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_54", 
            "text": "// Do not trade on the 11 th  of September  if  ( ToDay (Time[0]) = 20130911)  return;", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#totime", 
            "text": "", 
            "title": "ToTime()"
        }, 
        {
            "location": "/keywords/#description_60", 
            "text": "To time is a method specifically suited for inexperienced programmers who have problems with the potentially complex .net date-time structure of C#.  To time outputs an int representation in the format hhmmss.\n(hh = hour, mm = minute, ss = seconds)  The time 07:30 will be displayed as 73000 and 14:15:12 will become 141512.  See [ ToDay ].  Help with date-time: [ http://msdn.microsoft.com/de-de/library/system.datetime.aspx ]", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_45", 
            "text": "ToTime(DateTime time)", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_55", 
            "text": "// Only enter trades between 08:15 and 16:35  if  ( ToTime (Time[0])  = 81500    ToTime (Time[0])  = 163500)  {  // Any trading technique  }", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#update", 
            "text": "", 
            "title": "Update()"
        }, 
        {
            "location": "/keywords/#description_61", 
            "text": "The Update() method calls up the OnBarUpdate method in order to recalculate the indicator values.  Update() is to be used with caution and is intended for use by experienced programmers.", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_46", 
            "text": "Update()", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#return-value_19", 
            "text": "none", 
            "title": "Return Value"
        }, 
        {
            "location": "/keywords/#parameter_31", 
            "text": "none", 
            "title": "Parameter"
        }, 
        {
            "location": "/keywords/#example_56", 
            "text": "The effect of update can be illustrated with the help of 2 indicators.\nThe first indicator, Ind1, uses a public variable from the indicator Ind2.  Code from Ind1:  public  class Ind1 : UserIndicator  {  protected  override void  OnBarUpdate ()  {   Print (  Ind2 ().MyPublicVariable );   }  }  Code from Ind2:  private double  myPublicVariable = 0;  protected  override void  OnBarUpdate ()  {  myPublicVariable = 1;  }  public double  MyPublicVariable  {  get  {  Update ();  return myPublicVariable;  }  }  Without Update() - Wrong If Ind2 is called up by Ind1, the get-method of MyPublicVariable is called up in Ind2. Without Update(), the value of MyPublicVariable would be returned. In this case it would be 0.  With Update() - Correct By calling up Update(), OnBarUpdate() is initially executed by Ind2. This sets MyPublicVariable to 1. Lastly, the value 1 is passed on to the requesting indicator.", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#value", 
            "text": "", 
            "title": "Value"
        }, 
        {
            "location": "/keywords/#description_62", 
            "text": "Value is a data series object containing the first data series of an indicator.  When the Add() method is called up, a value object is automatically created and added to the values collection.  Value is identical to Values[0].", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_47", 
            "text": "Value  Value[ int  barsAgo]", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#more-information_6", 
            "text": "The methods known for a collection, Set(), Reset(), and Count(), can be used for values.", 
            "title": "More Information"
        }, 
        {
            "location": "/keywords/#example_57", 
            "text": "See [ Values ].", 
            "title": "Example"
        }, 
        {
            "location": "/keywords/#verticalgridlines", 
            "text": "", 
            "title": "VerticalGridLines"
        }, 
        {
            "location": "/keywords/#description_63", 
            "text": "The property VerticalGridLines defines whether or not the regularly spaced vertical lines (the so-called grid) are shown within the charting area.  VerticalGridLines = true (default)  Vertical grid lines are shown  VerticalGridLines = false  Vertical grid lines are not shown  This property can be queried within the script and returns a value of the type Boolean (true or false).", 
            "title": "Description"
        }, 
        {
            "location": "/keywords/#usage_48", 
            "text": "VerticalGridLines", 
            "title": "Usage"
        }, 
        {
            "location": "/keywords/#example_58", 
            "text": "protected  override void  Initialize ()  {  Add ( new Plot (Color.Red, \"MyPlot1\"));  // Vertical grid lines shall not be shown within the chart  VerticalGridLines =  false ;  }", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/", 
            "text": "DrawingObjects\n\n\nDrawAndrewsPitchfork()\n\n\nDescription\n\n\nThis drawing object draws an Andrew\u2019s Pitchfork.\n\n\nInformation concerning its usage:\n- [\nhttp://vtadwiki.vtad.de/index.php/Andrews_Pitchfork\n]\n- [\nhttp://www.volumen-analyse.de/blog/?p=917\n]\n- [\nhttp://www.godmode-trader.de/wissen/index.php/Chartlehrgang:Andrews_Pitchfork\n]\n\n\nUsage\n\n\nDrawAndrewsPitchfork\n(string tag, \nbool\n autoScale, \nint\n anchor1BarsAgo, \ndouble\n anchor1Y, \nint\n anchor2BarsAgo, \ndouble\n anchor2Y, \nint\n anchor3BarsAgo, \ndouble\n anchor3Y, Color color, DashStyle dashStyle, \nint\n width)\n\n\nDrawAndrewsPitchfork\n(string tag, \nbool\n autoScale, DateTime anchor1Time, \ndouble\n anchor1Y, DateTime anchor2Time, \ndouble\n anchor2Y, DateTime anchor3Time, \ndouble\n anchor3Y, Color color, DashStyle dashStyle, \nint\n width)\n\n\nReturn Value\n\n\nA drawing object of the type IAndrewsPitchfork (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nanchor1BarsAgo\n\n\nNumber of bars ago for anchor point 1 (x-axis)\n\n\n\n\n\n\nanchor1Time\n\n\nDate/time for anchor point 1 (x-axis)\n\n\n\n\n\n\nanchor1Y\n\n\ny-value for anchor point 1\n\n\n\n\n\n\nanchor2BarsAgo\n\n\nNumber of bars ago for anchor point 2 (x-axis)\n\n\n\n\n\n\nanchor2Time\n\n\nDate/time for anchor point 2 (x-axis)\n\n\n\n\n\n\nanchor2Y\n\n\ny-value for anchor point 2\n\n\n\n\n\n\nanchor3BarsAgo\n\n\nNumber of bars ago for anchor point 3 (x-axis)\n\n\n\n\n\n\nanchor3Time\n\n\nDate/time for anchor point 3 (x-axis)\n\n\n\n\n\n\nanchor3Y\n\n\ny-value for anchor point 3\n\n\n\n\n\n\ncolor\n\n\nColor of the object\n\n\n\n\n\n\ndashStyle\n\n\nLine styles:\n\n\n\n\n\n\n\n\nDashStyle.Dash, DashStyle.DashDot, DashStyle.DashDotDot, DashStyle.Dot DashStyle.Solid\n\n\n\n\n\n\n\n\nYou need to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;.\n\n\n\n\n\n\nwidth\n\n\nLine strength in points\n\n\n\n\n\n\n\n\nExample\n\n\n// Draw the Andrew\u2019s Pitchfork (\u201cMyAPF\u201d)\nDrawAndrewsPitchfork(\nMyAPF\n, true, 4, Low[4], 3, High[3], 1, Low[1], Color.Black, DashStyle.Solid, 2);\n\n\n\n\nDrawArc()\n\n\nDescription\n\n\nDrawArc() draws a circular arc.\n\n\nUsage\n\n\nDrawArcstring tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawArc(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, DashStyle dashStyle, int width)\nDrawArc(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, DashStyle dashStyle, int width)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IArc (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nNumber of bars ago for the starting point\n\n\n\n\n\n\nstartTime\n\n\nDate/time for the starting point\n\n\n\n\n\n\nstartY\n\n\ny-value for the starting point\n\n\n\n\n\n\nendBarsAgo\n\n\nNumber of bars ago for the end point\n\n\n\n\n\n\nendTime\n\n\nDate/time for the end point\n\n\n\n\n\n\nendY\n\n\ny-value for the end point\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nwidth\n\n\nLine strength in points\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a blue arc\nDrawArc(\nMyArc\n, true, 10, 10, 0, 20, Color.Blue, DashStyle.Solid, 3);\n\n\n\n\nDrawArrowDown()\n\n\nDescription\n\n\nDrawArrowDown() draws an arrow pointing downwards:\n\n\n\n\nSee [\nDrawArrowUp()\n], [\nDrawDiamond()\n], [\nDrawDot()\n], [\nDrawSquare()\n], [\nDrawTriangleUp()\n], [\nDrawTriangleDown()\n].\n\n\nUsage\n\n\nDrawArrowDown(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawArrowDown(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IArrowDown (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nSets the preceding bar on which the arrow should be drawn (0 = current bar)\n\n\n\n\n\n\ntime\n\n\nDate/time of the bar on which the arrow should be drawn\n\n\n\n\n\n\ny\n\n\ny-value for the arrow\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a red arrow 3 ticks above the high for the current bar\nDrawArrowDown(\nMyArrow\n, true, 0, High[0] + 3*TickSize, Color.Red);\n\n// Draws a red arrow on a three-bar reversal pattern\nif(High[2] \n High[3] \n High[1] \n High[2] \n Close[0] \n Open[0])\nDrawArrowDown(CurrentBar.ToString(), true, 0, High[0] + 3*TickSize, Color.Red);\n\n\n\n\nDrawArrowLine()\n\n\nDescription\n\n\nDrawArrowLine() draws an arrow:\n\n\n\n\nUsage\n\n\n DrawArrowLine (string tag,  int  startBarsAgo,  double  startY,  int  endBarsAgo,  double  endY, Color color)\n DrawArrowLine (string tag,  bool  autoScale,  int  startBarsAgo,  double  startY,  int  endBarsAgo,  double  endY, Color color, DashStyle dashStyle,  int  width)\n DrawArrowLine (string tag,  bool  autoScale, DateTime startTime,  double  startY, DateTime endTime,  double  endY, Color color, DashStyle dashStyle,  int  width)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IArrowLine (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nSets the preceding bar at which the arrow should start (0 = current bar)\n\n\n\n\n\n\nstartTime\n\n\nDate/time of the bar at which the arrow should start\n\n\n\n\n\n\nstartY\n\n\ny-value for the starting point of the arrow\n\n\n\n\n\n\nendBarsAgo\n\n\nSets the preceding bar at which the arrow should end (0 = current bar)\n\n\n\n\n\n\nendTime\n\n\nDate/time at which the arrow should end\n\n\n\n\n\n\nendY\n\n\ny-value at which the arrow should end\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nwidth\n\n\nLine strength in points\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a black arrow\nDrawArrowLine(\nMyArrow\n, false, 10, 10, 0, 5, Color.Black, DashStyle.Solid, 4);\n\n\n\n\nDrawArrowUp()\n\n\nDescription\n\n\nDrawArowUp() draws an arrow pointing upwards:\n\n\n\n\nSee [\nDrawArrowDown()\n], [\nDrawDiamond()\n], [\nDrawDot()\n], [\nDrawSquare()\n], [\nDrawTriangleUp()\n], [\nDrawTriangleDown()\n].\n\n\nUsage\n\n\nDrawArrowUp(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawArrowUp(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IArrowUp (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nSets the preceding bar on which the arrow should be drawn (0 = current bar)\n\n\n\n\n\n\ntime\n\n\nDate/time at which the arrow should be drawn\n\n\n\n\n\n\ny\n\n\ny-value for the arrow\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a green arrow for the current bar 3 ticks below the low\nDrawArrowUp(\nMyArrow\n, true, 0, Low[0] - 3*TickSize, Color.Green);\n\n\n\n\nDrawDiamond()\n\n\nDescription\n\n\nDrawDiamond() draws a diamond:\n\n\n\n\nSee [\nDrawArrowUp()\n], [\nDrawArrowDown()\n], [\nDrawDot()\n], [\nDrawSquare()\n], [\nDrawTriangleUp()\n], [\nDrawTriangleDown()\n].\n\n\nUsage\n\n\nDrawDiamond(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawDiamond(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IDiamond (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nDefines the preceding bar on which the diamond should be drawn\n\n\n\n\n\n\ntime\n\n\nDate/time of the bar on which the diamond should be drawn\n\n\n\n\n\n\ny\n\n\ny-value on which the diamond should be drawn\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a light blue diamond for the current bar 5 ticks below the low\nDrawDiamond(\nMyDiamond\n, true, 0, Low[0] - 5*TickSize, Color.SteelBlue);\n\n\n\n\nDrawDot()\n\n\nDescription\n\n\nDrawDot() draws a dot:\n\n\n\n\nSee [\nDrawArrowUp()\n], [\nDrawArrowDown()\n], [\nDrawDiamond()\n], [\nDrawSquare()\n], [\nDrawTriangleUp()\n], [\nDrawTriangleDown()\n].\n\n\nUsage\n\n\nDrawDot(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawDot(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IDot (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nDefines the preceding bar on which the dot should be drawn (0 = current bar)\n\n\n\n\n\n\ntime\n\n\nThe date/time at which the dot should be drawn\n\n\n\n\n\n\ny\n\n\ny-value at which the dot should be drawn\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws an orange dot for the current bar 5 ticks above the high\nDrawDot(\nMyDot\n, true, 0, High[0] + 5*TickSize, Color.Orange);\n\n\n\n\nDrawEllipse()\n\n\nDescription\n\n\nDrawEllipse() draws an ellipse.\n\n\nUsage\n\n\nDrawEllipse(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawEllipse(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, Color areaColor, int areaOpacity)\nDrawEllipse(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, Color areaColor, int areaOpacity)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IEllipse (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nSets the preceding bar at which the ellipse should start\n\n\n\n\n\n\nstartTime\n\n\nDate/time at which the ellipse should start\n\n\n\n\n\n\nstartY\n\n\ny-value for the start of the ellipse\n\n\n\n\n\n\nendBarsAgo\n\n\nSets the preceding bar at which the ellipse should end (0 = current bar)\n\n\n\n\n\n\nendTime\n\n\nDate/time at which the ellipse should end\n\n\n\n\n\n\nendY\n\n\ny-value for the end of the ellipse\n\n\n\n\n\n\ncolor\n\n\nBorder color of the drawing object\n\n\n\n\n\n\nareaColor\n\n\nFill color of the drawing object\n\n\n\n\n\n\nareaOpacity\n\n\nTransparency of the fill color\n\n\n\n\n\n\nValue between 0 and 10\n\n\n\n\n\n\n\n\n0 = completely transparent\n\n\n\n\n\n\n\n\n10 = completely opaque\n\n\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a yellow ellipse from the current bar to 5 bars ago\nDrawEllipse(\nMyEllipse\n, true, 5, High[5], 0, Close[0], Color.Yellow, Color.Yellow, 1);\n\n\n\n\nDrawExtendedLine()\n\n\nDescription\n\n\nDrawExtendedLine() draws a line with an infinite end point.\n\n\nSee [\nDrawLine()\n], [\nDrawHorizontalLine()\n], [\nDrawVerticalLine()\n], [\nDrawRay()\n].\n\n\nUsage\n\n\nDrawExtendedLine(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawExtendedLine(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, DashStyle dashStyle, int width)\nDrawExtendedLine(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, DashStyle dashStyle, int width)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IExtendedLine (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nNumber of bars ago for the start point\n\n\n\n\n\n\nstartTime\n\n\nDate/time for the start point\n\n\n\n\n\n\nstartY\n\n\ny-value for the start point\n\n\n\n\n\n\nendBarsAgo\n\n\nNumber of bars ago for the second point (a true end point does not exist; the line extends to infinity)\n\n\n\n\n\n\nendTime\n\n\nDate/time for the end point\n\n\n\n\n\n\nendY\n\n\ny-value for the end point\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nwidth\n\n\nLine strength in points\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a line without an end point\nDrawExtendedLine(\nMyExt.Line\n, false, 10, Close[10], 0, Close[0], Color.Black, DashStyle.Solid, 1);\n\n\n\n\nDrawFibonacciCircle()\n\n\nDescription\n\n\nDrawFibonacciCircle() draws a Fibonacci circle.\n\n\nUsage\n\n\nDrawFibonacciCircle(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY)\nDrawFibonacciCircle(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IFibonacciCircle (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nDefines the starting point in terms of bars ago\n\n\n\n\n\n\nstartTime\n\n\nDate/time of the bar for the starting point\n\n\n\n\n\n\nstartY\n\n\ny-value for the start of the Fibonacci circle\n\n\n\n\n\n\nendBarsAgo\n\n\nDefines the end point in terms of bars ago\n\n\n\n\n\n\nendTime\n\n\nDate/time for the end of the Fibonacci circle\n\n\n\n\n\n\nendY\n\n\ny-value for the end point of the Fibonacci circle\n\n\n\n\n\n\n\n\nExample\n\n\n//Draws a Fibonacci circle\nDrawFibonacciCircle(\nMyFibCircle\n, true, 5, Low[5], 0, High[0]);\n\n\n\n\nDrawFibonacciExtensions()\n\n\nDescription\n\n\nDrawFibonacciExtensions() draws Fibonacci extensions.\n\n\nUsage\n\n\nDrawFibonacciExtensions(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y)\nDrawFibonacciExtensions(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, DateTime anchor3Time, double anchor3Y)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IFibonacciExtensions (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nanchor1BarsAgo\n\n\nNumber of bars ago for anchor point 1\n\n\n\n\n\n\nanchor1Time\n\n\nDate/time for anchor point 1\n\n\n\n\n\n\nanchor1Y\n\n\ny-value for anchor point 1\n\n\n\n\n\n\nanchor2BarsAgo\n\n\nNumber of bars ago for anchor point 2\n\n\n\n\n\n\nanchor2Time\n\n\nDate/time for anchor point 2\n\n\n\n\n\n\nanchor2Y\n\n\ny-value for the anchor point 2\n\n\n\n\n\n\nanchor3BarsAgo\n\n\nNumber of bars ago for anchor point 3\n\n\n\n\n\n\nanchor3Time\n\n\nDate/time for anchor point 3\n\n\n\n\n\n\nanchor3Y\n\n\ny-value for anchor point 3\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws Fibonacci extensions\nDrawFibonacciExtensions(\nMyFibExt\n, true, 4, Low[4], 3, High[3], 1, Low[1]);\n\n\n\n\nDrawFibonacciRetracements()\n\n\nDescription\n\n\nDrawFibonacciRetracements() draws Fibonacci retracements.\n\n\nUsage\n\n\nDrawFibonacciRetracements(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY)\nDrawFibonacciRetracements(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IFibonacciRetracements (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nDefines how many bars ago the starting point of the Fibonacci retracement is located\n\n\n\n\n\n\nstartTime\n\n\nDate/time of the bar at which the Fibonacci retracement should begin\n\n\n\n\n\n\nstartY\n\n\ny-value at which the Fibonacci retracement will begin\n\n\n\n\n\n\nendBarsAgo\n\n\nDefines how many bars ago the end point of the Fibonacci retracement is located\n\n\n\n\n\n\nendTime\n\n\nDate/time at which the Fibonacci retracement should end\n\n\n\n\n\n\nendY\n\n\ny-value at which the Fibonacci retracement should end\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws Fibonnaci retracements\nDrawFibonacciRetracements(\nMyFibRet\n, true, 10, Low[10], 0, High[0]);\n\n\n\n\nDrawFibonacciTimeExtensions()\n\n\nDescription\n\n\nDrawFibonacciTimeExtensions() draws Fibonacci time extensions.\n\n\nUsage\n\n\nDrawFibonacciTimeExtensions(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY)\nDrawFibonacciTimeExtensions(string tag, DateTime startTime, double startY, DateTime endTime, double endY)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IFibonacciTimeExtensions (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nstartBarsAgo\n\n\nDefines how many bars ago the extensions should start\n\n\n\n\n\n\nstartTime\n\n\nDate/time at which the extensions should start\n\n\n\n\n\n\nstartY\n\n\ny-value at which the extensions should start\n\n\n\n\n\n\nendBarsAgo\n\n\nDefines how many bars ago the extensions should end\n\n\n\n\n\n\nendTime\n\n\nDate/time at which the extensions should end\n\n\n\n\n\n\nendY\n\n\ny-value at which the extensions should end\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws Fibonacci time extensions\nDrawFibonacciTimeExtensions(\nMyFibTimeExt\n, 10, Low[10], 0, High[0]);\n\n\n\n\nDrawGannFan()\n\n\nDescription\n\n\nDrawGannFan() draws a Gann fan.\n\n\nUsage\n\n\nDrawGannFan(string tag, bool autoScale, int barsAgo, double y)\nDrawGannFan(string tag, bool autoScale, DateTime time, double y)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IGannFan (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nSets the preceding bar on which the Gann fan should be drawn\n\n\n\n\n\n\ntime\n\n\nDate/time at which the Gann fan should start\n\n\n\n\n\n\ny\n\n\ny-value for the Gann fan\n\n\n\n\n\n\n\n\nExample\n\n\n// Shows a Gann fan at the low of the bar from 10 periods ago\nDrawGannFan(\nMyGannFan\n, true, 10, Low[10]);\n\n\n\n\nDrawLine()\n\n\nDescription\n\n\nDrawLine() draws a (trend) line.\n\n\nSee [\nDrawHorizontalLine()\n], [\nDrawVerticalLine()\n], [\nDrawExtendedLine()\n], [\nDrawRay()\n].\n\n\nUsage\n\n\nDrawLine(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawLine(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, DashStyle dashStyle, int width)\nDrawLine(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, DashStyle dashStyle, int width)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ITrendLine (interface).\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nNumber of bars ago for the starting point\n\n\n\n\n\n\nstartTime\n\n\nDate/time for the starting point\n\n\n\n\n\n\nstartY\n\n\ny-value for the starting point\n\n\n\n\n\n\nendBarsAgo\n\n\nNumber of bars ago for the end point\n\n\n\n\n\n\nendTime\n\n\nDate/time for the end point\n\n\n\n\n\n\nendY\n\n\ny-value for the end point\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nwidth\n\n\nLine strength in points\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a line\nDrawLine(\nMyLine\n, false, 10, Close[10], 0, Close[0], Color.Black, DashStyle.Solid, 1);\n\n\n\n\nDrawHorizontalLine()\n\n\nDescription\n\n\nDrawHorizontalLine() draws a horizontal line in the chart.\n\n\nSee [\nDrawLine()\n], [\nDrawVerticalLine()\n], [\nDrawExtendedLine()\n], [\nDrawRay()\n].\n\n\nUsage\n\n\nDrawHorizontalLine(string tag, double y, Color color)\n\n\nDrawHorizontalLine(string tag, bool autoScale, double y, Color color, DashStyle dashStyle, int width)\n\n\nReturn Value\n\n\nA drawing object of the type IHorizontalLine (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\ny\n\n\nAny double value of your choice\n\n\n\n\n\n\ncolor\n\n\nLine color\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nwidth\n\n\nLine strength\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a horizontal line at y=10\nDrawHorizontalLine(\nMyHorizontalLine\n, 10, Color.Black);\n\n\n\n\nDrawRay()\n\n\nDescription\n\n\nDrawRay() draws a (trend) line and extends it to infinity.\n\n\nSee [\nDrawLine()\n], [\nDrawHorizontalLine()\n], [\nDrawVerticalLine()\n], [\nDrawExtendedLine()\n].\n\n\nUsage\n\n\nDrawRay(string tag, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, Color color)\nDrawRay(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, Color color, DashStyle dashStyle, int width)\nDrawRay(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, Color color, DashStyle dashStyle, int width)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IRay (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nanchor1BarsAgo\n\n\nNumber of bars ago for anchor point 1\n\n\n\n\n\n\nanchor1Time\n\n\nDate/time for anchor point 1\n\n\n\n\n\n\nanchor1Y\n\n\ny-value for anchor point 1\n\n\n\n\n\n\nanchor2BarsAgo\n\n\nNumber of bars ago for anchor point 2\n\n\n\n\n\n\nanchor2Time\n\n\nDate/time for anchor point 2\n\n\n\n\n\n\nanchor2Y\n\n\ny-value for anchor point 2\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nwidth\n\n\nLine strength\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a line from the bar from 10 periods ago to the current bar (x-axis)\n// --\n line is extended to the right\n// from y=3 to y=7\nDrawRay(\nMyRay\n, 10, 3, 0, 7, Color.Green);\n\n// Draws a line from the current bar to the bar from 10 periods ago\n// --\n line is extended to the left\n// from y=3 to y=7\nDrawRay(\nMyRay\n, 0, 3, 10, 7, Color.Green);\n\n\n\n\nDrawRectangle()\n\n\nDescription\n\n\nDrawRectangle() draws a rectangle.\n\n\nUsage\n\n\nDrawRectangle(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawRectangle(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, Color areaColor, int areaOpacity)\nDrawRectangle(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, Color areaColor, int areaOpacity)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IRectangle (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nSets the preceding bar at which the one corner of the rectangle should be located (0 = current bar)\n\n\n\n\n\n\nstartTime\n\n\nDate/time at which the start of the one rectangle corner should be located\n\n\n\n\n\n\nstartY\n\n\ny-value at which the one corner of the rectangle should be located\n\n\n\n\n\n\nendBarsAgo\n\n\nSets the preceding bar at which the second corner of the rectangle should be located (0 = current bar)\n\n\n\n\n\n\nendTime\n\n\nDate/time of the second rectangle corner\n\n\n\n\n\n\nendY\n\n\ny-value of the second rectangle corner\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\nareaColor\n\n\nFill color of the drawing object\n\n\n\n\n\n\nareaOpacity\n\n\nTransparency of the fill color\n\n\n\n\n\n\nValue between 0 and 10\n\n\n\n\n\n\n\n\n0 = completely transparent\n\n\n\n\n\n\n\n\n10 = completely opaque\n\n\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a green rectangle from the low of 10 periods ago to the high of 5 periods ago\n// with a fill color of pale green and a transparency of 2\nDrawRectangle(\nMyRect\n, true, 10, Low[10], 5, High[5], Color.PaleGreen, Color.PaleGreen, 2);\n\n\n\n\nDrawRegion()\n\n\nDescription\n\n\nDrawRegion() fills a specific area on a chart.\n\n\nUsage\n\n\nDrawRegion(string tag, int startBarsAgo, int endBarsAgo, IDataSeries series, double y, Color outlineColor, Color areaColor, int areaOpacity)\nDrawRegion(string tag, int startBarsAgo, int endBarsAgo, IDataSeries series1, IDataSeries series2, Color outlineColor, Color areaColor, int areaOpacity)\nDrawRegion(string tag, DateTime startTime, DateTime endTime, IDataSeries series, double y, Color outlineColor, Color areaColor, int areaOpacity)\nDrawRegion(string tag, DateTime startTime, DateTime endTime, IDataSeries series1, IDataSeries series2, Color outlineColor, Color areaColor, int areaOpacity)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IRegion (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nstartBarsAgo\n\n\nSets the preceding bar at which the drawing should begin (0 = current bar)\n\n\n\n\n\n\nstartTime\n\n\nStart time for the drawing\n\n\n\n\n\n\nendBarsAgo\n\n\nSets the preceding bar at which the drawing should end (0 = current bar)\n\n\n\n\n\n\nendTime\n\n\nEnd time for the drawing\n\n\n\n\n\n\nseries1, series2\n\n\nEvery data series, for example an indicator, close, high, low and so on.\n\n\n\n\n\n\n\n\n                The respective value of the data series for the current bar is used as a y-value.  |\n\n\n\n| y                | Any double value                                                                  |\n| outlineColor     | Color for the border                                                              |\n| areaColor        | Fill color for the area                                                           |\n| areaOpacity      | Transparency of the fill color                                                  \n\n                    Value between 0 and 10                                                           \n\n                    0 = completely transparent                                                       \n\n                    10 = completely opaque                                                             |\n\n\nExample\n\n\n// Fills the area between the upper and lower Bollinger Bands\nDrawRegion(\nMyRegion\n, CurrentBar, 0, Bollinger(2, 14).Upper, Bollinger(2, 14).Lower, Color.Empty, Color.Lime, 100);\n\n\n\n\nDrawRegressionChannel()\n\n\nDescription\n\n\nDrawRegressionChannel() draws a regression channel.\n\n\nUsage\n\n\nDrawRegressionChannel(string tag, int startBarsAgo, int endBarsAgo, Color color)\nDrawRegressionChannel(string tag, bool autoScale, int startBarsAgo, int endBarsAgo, Color upperColor, DashStyle upperDashStyle, int upperWidth, Color middleColor, DashStyle middleDashStyle, int middleWidth, Color lowerColor, DashStyle lowerDashStyle, int lowerWidth)\nDrawRegressionChannel(string tag, bool autoScale, DateTime startTime, DateTime endTime, Color upperColor, DashStyle upperDashStyle, int upperWidth, Color middleColor, DashStyle middleDashStyle, int middleWidth, Color lowerColor, DashStyle lowerDashStyle, int lowerWidth)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IRegressionChannel (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nstartBarsAgo\n\n\nSets the preceding bar at which the regression channel should start (0 = current bar)\n\n\n\n\n\n\nstartTime\n\n\nStart time for the regression channel\n\n\n\n\n\n\nendBarsAgo\n\n\nSets the preceding bar at which the regression channel should end (0 = current bar)\n\n\n\n\n\n\nendTime\n\n\nEnd time for the regression channel\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\nupperDashStyle,\n\n\n\n\n\n\n\n\nmiddleDashStyle,\n\n\n\n\n\n\n\n\nlowerDashStyle\n\n\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\nDashStyle.Dash\n\n\n\n\n\n\n\n\nDashStyle.DashDot\n\n\n\n\n\n\n\n\nDashStyle.DashDotDot\n\n\n\n\n\n\n\n\nDashStyle.Dot\n\n\n\n\n\n\n\n\nDashStyle.Solid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYou may have to integrate:\n\n\n\n\n\n\n\n\nusing System.Drawing.Drawing2D;\n\n\n\n\n\n\nupperColor,\n\n\n\n\n\n\n\n\nmiddleColor,\n\n\n\n\n\n\n\n\nlowerColor\n\n\nLine color\n\n\n\n\n\n\nupperWidth,\n\n\n\n\n\n\n\n\nmiddleWidth,\n\n\n\n\n\n\n\n\nlowerWidth\n\n\nLine strength\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a regression channel from the low of the bar from 10 days ago to the high of the bar from 5 days ago.\nDrawRegressionChannel(\nMyRegChannel\n, 10, 0, Color.Black);\n\n\n\n\nDrawSquare()\n\n\nDescription\n\n\nDrawSquare() draws a square:\n\n\n\n\nSee [\nDrawArrowUp()\n], [\nDrawArrowDown()\n], [\nDrawDiamond()\n], [\nDrawDot()\n], [\nDrawTriangleUp()\n], [\nDrawTriangleDown()\n].\n\n\nUsage\n\n\nDrawSqare(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawSqare(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ISquare (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nSets the preceding bar at which the square should be drawn (0 = current bar)\n\n\n\n\n\n\nTime\n\n\nDate/time of the bar at which the square should be drawn\n\n\n\n\n\n\nY\n\n\ny-value for the square\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a dark red square at the current bar 10 ticks above the high\nDrawSquare(\nMySquare\n, true, 0, High[0] + 10*TickSize, Color.DarkRed);\n\n\n\n\nDrawText()\n\n\nDescription\n\n\nDrawText() writes whatever text you want onto the chart.\n\n\nSee [\nDrawTextFixed()\n], \nPlotMethod\n.\n\n\nUsage\n\n\nDrawText(string tag, string text, int barsAgo, double y, Color color)\nDrawText(string tag, bool autoScale, string text, int barsAgo, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, Color outlineColor, Color areaColor, int areaOpacity)\nDrawText(string tag, bool autoScale, string text, DateTime x, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, Color outlineColor, Color areaColor, int areaOpacity)\nDrawText(string tag, bool autoScale, string text, int barsAgo, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, HorizontalAlignment HAlign, VerticalAlignment VAlign, Color outlineColor, Color areaColor, int areaOpacity)\nDrawText(string tag, bool autoScale, string text, DateTime x, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, HorizontalAlignment HAlign, VerticalAlignment VAlign, Color outlineColor, Color areaColor, int areaOpacity)\n\n\n\n\nImportant note:\n\nWhen using signatures that contain horizontal alignment and vertical alignment, you need to add the following lines:\n\n\nusing System.Windows.Forms;\nusing System.Windows.Forms.VisualStyles;\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IText (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nText\n\n\nText to be displayed (may contain escape sequences)\n\n\n\n\n\n\nbarsAgo\n\n\nSets how many bars ago the text should be displayed\n\n\n\n\n\n\nTime\n\n\nDate/time of the bar at which the text should begin\n\n\n\n\n\n\nY\n\n\ny-value at which the text should be written\n\n\n\n\n\n\nyPixelOffset\n\n\nVertical offset of the text; positive numbers move it up, and negative numbers move it down\n\n\n\n\n\n\ntextColor\n\n\nText color\n\n\n\n\n\n\nFont\n\n\nFont\n\n\n\n\n\n\nAlignment\n\n\nPossible values are:\n\n\n\n\n\n\n- StringAlignment.Center\n\n\n\n\n\n\n\n\n- StringAlignment.Far\n\n\n\n\n\n\n\n\n- StringAlignment.Near\n\n\n\n\n\n\n\n\nHAlign\n\n\nPossible values are:\n\n\n\n\n\n\n- HorizontalAlign.Left\n\n\n\n\n\n\n\n\n- HorizontalAlign.Center\n\n\n\n\n\n\n\n\n- HorizontalAlign.Right\n\n\n\n\n\n\n\n\nVAlign\n\n\nPossible values are:\n\n\n\n\n\n\n- VerticalAlign.Top\n\n\n\n\n\n\n\n\n- VerticalAlign.Center\n\n\n\n\n\n\n\n\n- VerticalAlign.Bottom\n\n\n\n\n\n\n\n\noutlineColor\n\n\nBorder color around the text\n\n\n\n\n\n\nFor no border, select Color.Empty\n\n\n\n\n\n\n\n\nareaColor\n\n\nFill color for the text box\n\n\n\n\n\n\nareaOpacity\n\n\nTransparency of the fill color\n\n\n\n\n\n\nValue between 0 and 10\n\n\n\n\n\n\n\n\n0 = completely transparent\n\n\n\n\n\n\n\n\n10 = completely opaque\n\n\n\n\n\n\n\n\n\n\nExample\n\n\n\n// writes text at y=3.0\nDrawText(\nMyText\n, \nThis is sample text.\n, 10, 3, Color.Black);\n\n// writes red text in the font Arial 7\nDrawText(\nMyText\n, false, \nThis is sample text.\n, Time[0], Close[0]+50*TickSize, 0,\n\nColor.Red, **new Font**(\nArial\n,7), StringAlignment.Center, Color.Blue, Color.DarkOliveGreen, 10);\n\n\n\n\nThis leads to the following result:\n\n\n\n\nDrawText(\nMyTag\n,true,\nText\n,1, \n// barsAgo\n\nHigh\\[1\\], // y\n\n10, // yPixelOffset\n\nColor.Blue, // Text color\n\nnew Font(\nArial\n, 10, FontStyle.Bold),\n\nStringAlignment.Center,\n\nHorizontalAlignment.Center,\n\nVerticalAlignment.Bottom,\n\nColor.Red, // Outline color\n\nColor.Yellow, // Fill color\n\n100); // Opacity\n\n\n\n\nDrawTextFixed()\n\n\nDescription\n\n\nDrawTextFixed() writes text into one of 5 predetermined locations on the chart.\n\n\nSee [\nDrawText()\n].\n\n\nUsage\n\n\nDrawTextFixed(string tag, string text, TextPosition textPosition)\nDrawTextFixed(string tag, string text, TextPosition textPosition, Color textColor, Font font, Color outlineColor, Color areaColor, int areaOpacity)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ITextFixed (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\ntext\n\n\nThe text to be displayed\n\n\n\n\n\n\nTextPosition\n\n\nTextPosition.BottomLeft\n\n\n\n\n\n\nTextPosition.BottomRight\n\n\n\n\n\n\n\n\nTextPosition.Center\n\n\n\n\n\n\n\n\nTextPosition.TopLeft\n\n\n\n\n\n\n\n\nTextPosition.TopRight\n\n\n\n\n\n\n\n\ntextColor\n\n\nText color\n\n\n\n\n\n\nfont\n\n\nFont\n\n\n\n\n\n\noutlineColor\n\n\nColor for the border around the text. For no border color, use Color.Empty\n\n\n\n\n\n\nareaColor\n\n\nFill color of the text box\n\n\n\n\n\n\nFor no fill color, use Color.Empty\n\n\n\n\n\n\n\n\nareaOpacity\n\n\nTransparency of the fill color\n\n\n\n\n\n\nValue between 0 and 10\n\n\n\n\n\n\n\n\n0 = completely transparent\n\n\n\n\n\n\n\n\n10 = completely opaque\n\n\n\n\n\n\n\n\n\n\nExample\n\n\n// Writes text into the middle of the chart\nDrawTextFixed(\nMyText\n, \nThis is sample text.\n, TextPosition.Center);\n\n// Writes red text with a blue border into the middle of the chart\nDrawTextFixed(\nMyText\n, \nThis is sample text.\n, TextPosition.Center,\nColor.Red, new Font(\nArial\n,35), Color.Blue, Color.Empty, 10);\n\n\n\n\nDrawTrendChannel()\n\n\nDescription\n\n\nDrawTrendChannel() draws a trend channel.\n\n\nUsage\n\n\nDrawTrendChannel(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y)\nDrawTrendChannel(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, DateTime anchor3Time, double anchor3Y)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ITrendChannel (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nanchor1BarsAgo\n\n\nNumber of bars ago for anchor point 1 (x-axis)\n\n\n\n\n\n\nanchor1Time\n\n\nDate/time for anchor point 1 (x-axis)\n\n\n\n\n\n\nanchor1Y\n\n\ny-value for anchor point 1\n\n\n\n\n\n\nanchor2BarsAgo\n\n\nNumber of bars ago for anchor point 2 (x-axis)\n\n\n\n\n\n\nanchor2Time\n\n\nDate/time for anchor point 2 (x-axis)\n\n\n\n\n\n\nanchor2Y\n\n\ny-value for anchor point 2\n\n\n\n\n\n\nanchor3BarsAgo\n\n\nNumber of bars ago for anchor point 3 (x-axis)\n\n\n\n\n\n\nanchor3Time\n\n\nDate/time for anchor point 3 (x-axis)\n\n\n\n\n\n\nanchor3Y\n\n\ny-value for anchor point 3\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a trend channel\nDrawTrendChannel(\nMyTrendChannel\n, true, 10, Low[10], 0, High[0], 10, High[10] + 5 * TickSize);\n\n\n\n\nDrawTriangle()\n\n\nDescription\n\n\nDrawTriangle() draws a triangle.\n\n\nUsage\n\n\nDrawTriangle(string tag, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y, Color color)\nDrawTriangle(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y, Color color, Color areaColor, int areaOpacity)\nDrawTriangle(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, DateTime anchor3Time, double anchor3Y, Color color, Color areaColor, int areaOpacity)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ITriangle (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nanchor1BarsAgo\n\n\nNumber of bars ago for anchor point 1 (x-axis)\n\n\n\n\n\n\nanchor1Time\n\n\nDate/time for anchor point 1 (x-axis)\n\n\n\n\n\n\nanchor1Y\n\n\ny-value for anchor point 1\n\n\n\n\n\n\nanchor2BarsAgo\n\n\nNumber of bars ago for anchor point 2 (x-axis)\n\n\n\n\n\n\nanchor2Time\n\n\nDate/time for anchor point 2 (x-axis)\n\n\n\n\n\n\nanchor2Y\n\n\ny-value for anchor point 2\n\n\n\n\n\n\nanchor3BarsAgo\n\n\nNumber of bars ago for anchor point 3 (x-axis)\n\n\n\n\n\n\nanchor3Time\n\n\nDate/time for anchor point 3 (x-axis)\n\n\n\n\n\n\nanchor3Y\n\n\ny-value for anchor point 3\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\nareaColor\n\n\nFill color of the drawing object\n\n\n\n\n\n\nareaOpacity\n\n\nTransparency of the fill color\n\n\n\n\n\n\nValue between 0 and 10\n\n\n\n\n\n\n\n\n0 = completely transparent\n\n\n\n\n\n\n\n\n10 = completely opaque\n\n\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a green triangle\nDrawTriangle(\ntag1\n, 4, Low[4], 3, High[3], 1, Low[1], Color.Green);\n\n\n\n\nDrawTriangleUp()\n\n\nDescription\n\n\nDrawTriangleUp() draws a small upwards-pointing triangle:\n\n\n\n\nSee [\nDrawArrowUp()\n], [\nDrawArrowDown()\n], [\nDrawDiamond()\n], [\nDrawDot()\n], [\nDrawSquare()\n], [\nDrawTriangleDown()\n].\n\n\nUsage\n\n\nDrawTriangleUp(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawTriangleUp(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ITriangleUp (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nSets how many bars ago the triangle should be drawn\n\n\n\n\n\n\ntime\n\n\nDate/time for the bar at which the triangle should be drawn\n\n\n\n\n\n\ny\n\n\ny-value at which the triangle should be drawn\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a small light green triangle at the current bar 10 ticks below the low\nDrawTriangleUp(\nMyTriangleUp\n, true, 0, Low[0] - 10*TickSize, Color.LightGreen);\n\n\n\n\nDrawTriangleDown()\n\n\nDescription\n\n\nDrawTriangleDown() draws a small downwards-pointing triangle:\n\n\n\n\nSee [\nDrawArrowUp()\n], [\nDrawArrowDown()\n], [\nDrawDiamond()\n], [\nDrawDot()\n], [\nDrawSquare()\n], [\nDrawTriangleUp()\n].\n\n\nUsage\n\n\nDrawTriangleDown(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawTriangleDown(string tag, bool autoScale, DateTime time, double y, Color color)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type ITriangleDown (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nautoScale\n\n\nAdjusts the scale of the y-axis so that drawing objects can be viewed in their entirety\n\n\n\n\n\n\nbarsAgo\n\n\nSets how many bars ago the triangle should be drawn\n\n\n\n\n\n\ntime\n\n\nDate/time for the bar at which the triangle should be drawn\n\n\n\n\n\n\nY\n\n\ny-value at which the triangle should be drawn\n\n\n\n\n\n\ncolor\n\n\nColor of the drawing object\n\n\n\n\n\n\n\n\nExample\n\n\n// Draws a small red triangle at the current bar 10 ticks above the high\nDrawTriangleDown(\nMyTriangleDown\n, true, 0, High[0] + 10*TickSize, Color.Red);\n\n\n\n\nDrawVerticalLine()\n\n\nDescription\n\n\nDrawVerticalLine() draws a vertical line in the chart.\n\n\nSee [\nDrawLine()\n], [\nDrawHorizontalLine()\n], [\nDrawExtendedLine()\n], [\nDrawRay()\n].\n\n\nUsage\n\n\nDrawVerticalLine(string tag, int barsAgo, Color color)\nDrawVerticalLine(string tag, int barsAgo, Color color, DashStyle dashStyle, int width)\nDrawVerticalLine(string tag, DateTime time, Color color, DashStyle dashStyle, int width)\n\n\n\n\nReturn Value\n\n\nA drawing object of the type IVerticalLine (interface)\n\n\nParameter\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntag\n\n\nA clearly identifiable name for the drawing object\n\n\n\n\n\n\nbarsAgo\n\n\nSets how many bars ago the vertical line should be drawn (0 = current bar)\n\n\n\n\n\n\ntime\n\n\nDate/time of the bar at which the vertical line should be drawn\n\n\n\n\n\n\ncolor\n\n\nLine color\n\n\n\n\n\n\ndashStyle\n\n\nLine style\n\n\n\n\n\n\n\n\n         DashStyle.Dash                                                              \n         DashStyle.DashDot                                                           \n         DashStyle.DashDotDot                                                        \n         DashStyle.Dot                                                               \n         DashStyle.Solid\n\n         You may have to integrate:                                                  \n         using System.Drawing.Drawing2D;                                             |\n\n\n\n| width     | Line strength                                                              |\n\n\nExample\n\n\n// Draws a vertical line at the bar from 10 periods ago\nDrawVerticalLine(\nMyVerticalLine\n, 10, Color.Black);", 
            "title": "Drawing objects"
        }, 
        {
            "location": "/drawing_objects/#drawingobjects", 
            "text": "", 
            "title": "DrawingObjects"
        }, 
        {
            "location": "/drawing_objects/#drawandrewspitchfork", 
            "text": "", 
            "title": "DrawAndrewsPitchfork()"
        }, 
        {
            "location": "/drawing_objects/#description", 
            "text": "This drawing object draws an Andrew\u2019s Pitchfork.  Information concerning its usage:\n- [ http://vtadwiki.vtad.de/index.php/Andrews_Pitchfork ]\n- [ http://www.volumen-analyse.de/blog/?p=917 ]\n- [ http://www.godmode-trader.de/wissen/index.php/Chartlehrgang:Andrews_Pitchfork ]", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage", 
            "text": "DrawAndrewsPitchfork (string tag,  bool  autoScale,  int  anchor1BarsAgo,  double  anchor1Y,  int  anchor2BarsAgo,  double  anchor2Y,  int  anchor3BarsAgo,  double  anchor3Y, Color color, DashStyle dashStyle,  int  width)  DrawAndrewsPitchfork (string tag,  bool  autoScale, DateTime anchor1Time,  double  anchor1Y, DateTime anchor2Time,  double  anchor2Y, DateTime anchor3Time,  double  anchor3Y, Color color, DashStyle dashStyle,  int  width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value", 
            "text": "A drawing object of the type IAndrewsPitchfork (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    anchor1BarsAgo  Number of bars ago for anchor point 1 (x-axis)    anchor1Time  Date/time for anchor point 1 (x-axis)    anchor1Y  y-value for anchor point 1    anchor2BarsAgo  Number of bars ago for anchor point 2 (x-axis)    anchor2Time  Date/time for anchor point 2 (x-axis)    anchor2Y  y-value for anchor point 2    anchor3BarsAgo  Number of bars ago for anchor point 3 (x-axis)    anchor3Time  Date/time for anchor point 3 (x-axis)    anchor3Y  y-value for anchor point 3    color  Color of the object    dashStyle  Line styles:     DashStyle.Dash, DashStyle.DashDot, DashStyle.DashDotDot, DashStyle.Dot DashStyle.Solid     You need to integrate:     using System.Drawing.Drawing2D;.    width  Line strength in points", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example", 
            "text": "// Draw the Andrew\u2019s Pitchfork (\u201cMyAPF\u201d)\nDrawAndrewsPitchfork( MyAPF , true, 4, Low[4], 3, High[3], 1, Low[1], Color.Black, DashStyle.Solid, 2);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawarc", 
            "text": "", 
            "title": "DrawArc()"
        }, 
        {
            "location": "/drawing_objects/#description_1", 
            "text": "DrawArc() draws a circular arc.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_1", 
            "text": "DrawArcstring tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawArc(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, DashStyle dashStyle, int width)\nDrawArc(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, DashStyle dashStyle, int width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_1", 
            "text": "A drawing object of the type IArc (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_1", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Number of bars ago for the starting point    startTime  Date/time for the starting point    startY  y-value for the starting point    endBarsAgo  Number of bars ago for the end point    endTime  Date/time for the end point    endY  y-value for the end point    color  Color of the drawing object    dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    width  Line strength in points", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_1", 
            "text": "// Draws a blue arc\nDrawArc( MyArc , true, 10, 10, 0, 20, Color.Blue, DashStyle.Solid, 3);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawarrowdown", 
            "text": "", 
            "title": "DrawArrowDown()"
        }, 
        {
            "location": "/drawing_objects/#description_2", 
            "text": "DrawArrowDown() draws an arrow pointing downwards:   See [ DrawArrowUp() ], [ DrawDiamond() ], [ DrawDot() ], [ DrawSquare() ], [ DrawTriangleUp() ], [ DrawTriangleDown() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_2", 
            "text": "DrawArrowDown(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawArrowDown(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_2", 
            "text": "A drawing object of the type IArrowDown (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_2", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Sets the preceding bar on which the arrow should be drawn (0 = current bar)    time  Date/time of the bar on which the arrow should be drawn    y  y-value for the arrow    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_2", 
            "text": "// Draws a red arrow 3 ticks above the high for the current bar\nDrawArrowDown( MyArrow , true, 0, High[0] + 3*TickSize, Color.Red);\n\n// Draws a red arrow on a three-bar reversal pattern\nif(High[2]   High[3]   High[1]   High[2]   Close[0]   Open[0])\nDrawArrowDown(CurrentBar.ToString(), true, 0, High[0] + 3*TickSize, Color.Red);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawarrowline", 
            "text": "", 
            "title": "DrawArrowLine()"
        }, 
        {
            "location": "/drawing_objects/#description_3", 
            "text": "DrawArrowLine() draws an arrow:", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_3", 
            "text": "DrawArrowLine (string tag,  int  startBarsAgo,  double  startY,  int  endBarsAgo,  double  endY, Color color)\n DrawArrowLine (string tag,  bool  autoScale,  int  startBarsAgo,  double  startY,  int  endBarsAgo,  double  endY, Color color, DashStyle dashStyle,  int  width)\n DrawArrowLine (string tag,  bool  autoScale, DateTime startTime,  double  startY, DateTime endTime,  double  endY, Color color, DashStyle dashStyle,  int  width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_3", 
            "text": "A drawing object of the type IArrowLine (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_3", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Sets the preceding bar at which the arrow should start (0 = current bar)    startTime  Date/time of the bar at which the arrow should start    startY  y-value for the starting point of the arrow    endBarsAgo  Sets the preceding bar at which the arrow should end (0 = current bar)    endTime  Date/time at which the arrow should end    endY  y-value at which the arrow should end    color  Color of the drawing object    dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    width  Line strength in points", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_3", 
            "text": "// Draws a black arrow\nDrawArrowLine( MyArrow , false, 10, 10, 0, 5, Color.Black, DashStyle.Solid, 4);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawarrowup", 
            "text": "", 
            "title": "DrawArrowUp()"
        }, 
        {
            "location": "/drawing_objects/#description_4", 
            "text": "DrawArowUp() draws an arrow pointing upwards:   See [ DrawArrowDown() ], [ DrawDiamond() ], [ DrawDot() ], [ DrawSquare() ], [ DrawTriangleUp() ], [ DrawTriangleDown() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_4", 
            "text": "DrawArrowUp(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawArrowUp(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_4", 
            "text": "A drawing object of the type IArrowUp (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_4", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Sets the preceding bar on which the arrow should be drawn (0 = current bar)    time  Date/time at which the arrow should be drawn    y  y-value for the arrow    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_4", 
            "text": "// Draws a green arrow for the current bar 3 ticks below the low\nDrawArrowUp( MyArrow , true, 0, Low[0] - 3*TickSize, Color.Green);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawdiamond", 
            "text": "", 
            "title": "DrawDiamond()"
        }, 
        {
            "location": "/drawing_objects/#description_5", 
            "text": "DrawDiamond() draws a diamond:   See [ DrawArrowUp() ], [ DrawArrowDown() ], [ DrawDot() ], [ DrawSquare() ], [ DrawTriangleUp() ], [ DrawTriangleDown() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_5", 
            "text": "DrawDiamond(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawDiamond(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_5", 
            "text": "A drawing object of the type IDiamond (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_5", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Defines the preceding bar on which the diamond should be drawn    time  Date/time of the bar on which the diamond should be drawn    y  y-value on which the diamond should be drawn    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_5", 
            "text": "// Draws a light blue diamond for the current bar 5 ticks below the low\nDrawDiamond( MyDiamond , true, 0, Low[0] - 5*TickSize, Color.SteelBlue);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawdot", 
            "text": "", 
            "title": "DrawDot()"
        }, 
        {
            "location": "/drawing_objects/#description_6", 
            "text": "DrawDot() draws a dot:   See [ DrawArrowUp() ], [ DrawArrowDown() ], [ DrawDiamond() ], [ DrawSquare() ], [ DrawTriangleUp() ], [ DrawTriangleDown() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_6", 
            "text": "DrawDot(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawDot(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_6", 
            "text": "A drawing object of the type IDot (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_6", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Defines the preceding bar on which the dot should be drawn (0 = current bar)    time  The date/time at which the dot should be drawn    y  y-value at which the dot should be drawn    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_6", 
            "text": "// Draws an orange dot for the current bar 5 ticks above the high\nDrawDot( MyDot , true, 0, High[0] + 5*TickSize, Color.Orange);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawellipse", 
            "text": "", 
            "title": "DrawEllipse()"
        }, 
        {
            "location": "/drawing_objects/#description_7", 
            "text": "DrawEllipse() draws an ellipse.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_7", 
            "text": "DrawEllipse(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawEllipse(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, Color areaColor, int areaOpacity)\nDrawEllipse(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, Color areaColor, int areaOpacity)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_7", 
            "text": "A drawing object of the type IEllipse (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_7", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Sets the preceding bar at which the ellipse should start    startTime  Date/time at which the ellipse should start    startY  y-value for the start of the ellipse    endBarsAgo  Sets the preceding bar at which the ellipse should end (0 = current bar)    endTime  Date/time at which the ellipse should end    endY  y-value for the end of the ellipse    color  Border color of the drawing object    areaColor  Fill color of the drawing object    areaOpacity  Transparency of the fill color    Value between 0 and 10     0 = completely transparent     10 = completely opaque", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_7", 
            "text": "// Draws a yellow ellipse from the current bar to 5 bars ago\nDrawEllipse( MyEllipse , true, 5, High[5], 0, Close[0], Color.Yellow, Color.Yellow, 1);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawextendedline", 
            "text": "", 
            "title": "DrawExtendedLine()"
        }, 
        {
            "location": "/drawing_objects/#description_8", 
            "text": "DrawExtendedLine() draws a line with an infinite end point.  See [ DrawLine() ], [ DrawHorizontalLine() ], [ DrawVerticalLine() ], [ DrawRay() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_8", 
            "text": "DrawExtendedLine(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawExtendedLine(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, DashStyle dashStyle, int width)\nDrawExtendedLine(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, DashStyle dashStyle, int width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_8", 
            "text": "A drawing object of the type IExtendedLine (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_8", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Number of bars ago for the start point    startTime  Date/time for the start point    startY  y-value for the start point    endBarsAgo  Number of bars ago for the second point (a true end point does not exist; the line extends to infinity)    endTime  Date/time for the end point    endY  y-value for the end point    color  Color of the drawing object    dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    width  Line strength in points", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_8", 
            "text": "// Draws a line without an end point\nDrawExtendedLine( MyExt.Line , false, 10, Close[10], 0, Close[0], Color.Black, DashStyle.Solid, 1);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawfibonaccicircle", 
            "text": "", 
            "title": "DrawFibonacciCircle()"
        }, 
        {
            "location": "/drawing_objects/#description_9", 
            "text": "DrawFibonacciCircle() draws a Fibonacci circle.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_9", 
            "text": "DrawFibonacciCircle(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY)\nDrawFibonacciCircle(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_9", 
            "text": "A drawing object of the type IFibonacciCircle (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_9", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Defines the starting point in terms of bars ago    startTime  Date/time of the bar for the starting point    startY  y-value for the start of the Fibonacci circle    endBarsAgo  Defines the end point in terms of bars ago    endTime  Date/time for the end of the Fibonacci circle    endY  y-value for the end point of the Fibonacci circle", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_9", 
            "text": "//Draws a Fibonacci circle\nDrawFibonacciCircle( MyFibCircle , true, 5, Low[5], 0, High[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawfibonacciextensions", 
            "text": "", 
            "title": "DrawFibonacciExtensions()"
        }, 
        {
            "location": "/drawing_objects/#description_10", 
            "text": "DrawFibonacciExtensions() draws Fibonacci extensions.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_10", 
            "text": "DrawFibonacciExtensions(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y)\nDrawFibonacciExtensions(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, DateTime anchor3Time, double anchor3Y)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_10", 
            "text": "A drawing object of the type IFibonacciExtensions (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_10", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    anchor1BarsAgo  Number of bars ago for anchor point 1    anchor1Time  Date/time for anchor point 1    anchor1Y  y-value for anchor point 1    anchor2BarsAgo  Number of bars ago for anchor point 2    anchor2Time  Date/time for anchor point 2    anchor2Y  y-value for the anchor point 2    anchor3BarsAgo  Number of bars ago for anchor point 3    anchor3Time  Date/time for anchor point 3    anchor3Y  y-value for anchor point 3", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_10", 
            "text": "// Draws Fibonacci extensions\nDrawFibonacciExtensions( MyFibExt , true, 4, Low[4], 3, High[3], 1, Low[1]);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawfibonacciretracements", 
            "text": "", 
            "title": "DrawFibonacciRetracements()"
        }, 
        {
            "location": "/drawing_objects/#description_11", 
            "text": "DrawFibonacciRetracements() draws Fibonacci retracements.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_11", 
            "text": "DrawFibonacciRetracements(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY)\nDrawFibonacciRetracements(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_11", 
            "text": "A drawing object of the type IFibonacciRetracements (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_11", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Defines how many bars ago the starting point of the Fibonacci retracement is located    startTime  Date/time of the bar at which the Fibonacci retracement should begin    startY  y-value at which the Fibonacci retracement will begin    endBarsAgo  Defines how many bars ago the end point of the Fibonacci retracement is located    endTime  Date/time at which the Fibonacci retracement should end    endY  y-value at which the Fibonacci retracement should end", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_11", 
            "text": "// Draws Fibonnaci retracements\nDrawFibonacciRetracements( MyFibRet , true, 10, Low[10], 0, High[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawfibonaccitimeextensions", 
            "text": "", 
            "title": "DrawFibonacciTimeExtensions()"
        }, 
        {
            "location": "/drawing_objects/#description_12", 
            "text": "DrawFibonacciTimeExtensions() draws Fibonacci time extensions.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_12", 
            "text": "DrawFibonacciTimeExtensions(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY)\nDrawFibonacciTimeExtensions(string tag, DateTime startTime, double startY, DateTime endTime, double endY)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_12", 
            "text": "A drawing object of the type IFibonacciTimeExtensions (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_12", 
            "text": "tag  A clearly identifiable name for the drawing object    startBarsAgo  Defines how many bars ago the extensions should start    startTime  Date/time at which the extensions should start    startY  y-value at which the extensions should start    endBarsAgo  Defines how many bars ago the extensions should end    endTime  Date/time at which the extensions should end    endY  y-value at which the extensions should end", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_12", 
            "text": "// Draws Fibonacci time extensions\nDrawFibonacciTimeExtensions( MyFibTimeExt , 10, Low[10], 0, High[0]);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawgannfan", 
            "text": "", 
            "title": "DrawGannFan()"
        }, 
        {
            "location": "/drawing_objects/#description_13", 
            "text": "DrawGannFan() draws a Gann fan.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_13", 
            "text": "DrawGannFan(string tag, bool autoScale, int barsAgo, double y)\nDrawGannFan(string tag, bool autoScale, DateTime time, double y)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_13", 
            "text": "A drawing object of the type IGannFan (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_13", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Sets the preceding bar on which the Gann fan should be drawn    time  Date/time at which the Gann fan should start    y  y-value for the Gann fan", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_13", 
            "text": "// Shows a Gann fan at the low of the bar from 10 periods ago\nDrawGannFan( MyGannFan , true, 10, Low[10]);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawline", 
            "text": "", 
            "title": "DrawLine()"
        }, 
        {
            "location": "/drawing_objects/#description_14", 
            "text": "DrawLine() draws a (trend) line.  See [ DrawHorizontalLine() ], [ DrawVerticalLine() ], [ DrawExtendedLine() ], [ DrawRay() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_14", 
            "text": "DrawLine(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawLine(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, DashStyle dashStyle, int width)\nDrawLine(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, DashStyle dashStyle, int width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_14", 
            "text": "A drawing object of the type ITrendLine (interface).", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_14", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Number of bars ago for the starting point    startTime  Date/time for the starting point    startY  y-value for the starting point    endBarsAgo  Number of bars ago for the end point    endTime  Date/time for the end point    endY  y-value for the end point    color  Color of the drawing object    dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    width  Line strength in points", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_14", 
            "text": "// Draws a line\nDrawLine( MyLine , false, 10, Close[10], 0, Close[0], Color.Black, DashStyle.Solid, 1);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawhorizontalline", 
            "text": "", 
            "title": "DrawHorizontalLine()"
        }, 
        {
            "location": "/drawing_objects/#description_15", 
            "text": "DrawHorizontalLine() draws a horizontal line in the chart.  See [ DrawLine() ], [ DrawVerticalLine() ], [ DrawExtendedLine() ], [ DrawRay() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_15", 
            "text": "DrawHorizontalLine(string tag, double y, Color color)  DrawHorizontalLine(string tag, bool autoScale, double y, Color color, DashStyle dashStyle, int width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_15", 
            "text": "A drawing object of the type IHorizontalLine (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_15", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    y  Any double value of your choice    color  Line color    dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    width  Line strength", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_15", 
            "text": "// Draws a horizontal line at y=10\nDrawHorizontalLine( MyHorizontalLine , 10, Color.Black);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawray", 
            "text": "", 
            "title": "DrawRay()"
        }, 
        {
            "location": "/drawing_objects/#description_16", 
            "text": "DrawRay() draws a (trend) line and extends it to infinity.  See [ DrawLine() ], [ DrawHorizontalLine() ], [ DrawVerticalLine() ], [ DrawExtendedLine() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_16", 
            "text": "DrawRay(string tag, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, Color color)\nDrawRay(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, Color color, DashStyle dashStyle, int width)\nDrawRay(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, Color color, DashStyle dashStyle, int width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_16", 
            "text": "A drawing object of the type IRay (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_16", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    anchor1BarsAgo  Number of bars ago for anchor point 1    anchor1Time  Date/time for anchor point 1    anchor1Y  y-value for anchor point 1    anchor2BarsAgo  Number of bars ago for anchor point 2    anchor2Time  Date/time for anchor point 2    anchor2Y  y-value for anchor point 2    color  Color of the drawing object    dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    width  Line strength", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_16", 
            "text": "// Draws a line from the bar from 10 periods ago to the current bar (x-axis)\n// --  line is extended to the right\n// from y=3 to y=7\nDrawRay( MyRay , 10, 3, 0, 7, Color.Green);\n\n// Draws a line from the current bar to the bar from 10 periods ago\n// --  line is extended to the left\n// from y=3 to y=7\nDrawRay( MyRay , 0, 3, 10, 7, Color.Green);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawrectangle", 
            "text": "", 
            "title": "DrawRectangle()"
        }, 
        {
            "location": "/drawing_objects/#description_17", 
            "text": "DrawRectangle() draws a rectangle.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_17", 
            "text": "DrawRectangle(string tag, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color)\nDrawRectangle(string tag, bool autoScale, int startBarsAgo, double startY, int endBarsAgo, double endY, Color color, Color areaColor, int areaOpacity)\nDrawRectangle(string tag, bool autoScale, DateTime startTime, double startY, DateTime endTime, double endY, Color color, Color areaColor, int areaOpacity)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_17", 
            "text": "A drawing object of the type IRectangle (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_17", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Sets the preceding bar at which the one corner of the rectangle should be located (0 = current bar)    startTime  Date/time at which the start of the one rectangle corner should be located    startY  y-value at which the one corner of the rectangle should be located    endBarsAgo  Sets the preceding bar at which the second corner of the rectangle should be located (0 = current bar)    endTime  Date/time of the second rectangle corner    endY  y-value of the second rectangle corner    color  Color of the drawing object    areaColor  Fill color of the drawing object    areaOpacity  Transparency of the fill color    Value between 0 and 10     0 = completely transparent     10 = completely opaque", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_17", 
            "text": "// Draws a green rectangle from the low of 10 periods ago to the high of 5 periods ago\n// with a fill color of pale green and a transparency of 2\nDrawRectangle( MyRect , true, 10, Low[10], 5, High[5], Color.PaleGreen, Color.PaleGreen, 2);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawregion", 
            "text": "", 
            "title": "DrawRegion()"
        }, 
        {
            "location": "/drawing_objects/#description_18", 
            "text": "DrawRegion() fills a specific area on a chart.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_18", 
            "text": "DrawRegion(string tag, int startBarsAgo, int endBarsAgo, IDataSeries series, double y, Color outlineColor, Color areaColor, int areaOpacity)\nDrawRegion(string tag, int startBarsAgo, int endBarsAgo, IDataSeries series1, IDataSeries series2, Color outlineColor, Color areaColor, int areaOpacity)\nDrawRegion(string tag, DateTime startTime, DateTime endTime, IDataSeries series, double y, Color outlineColor, Color areaColor, int areaOpacity)\nDrawRegion(string tag, DateTime startTime, DateTime endTime, IDataSeries series1, IDataSeries series2, Color outlineColor, Color areaColor, int areaOpacity)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_18", 
            "text": "A drawing object of the type IRegion (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_18", 
            "text": "tag  A clearly identifiable name for the drawing object    startBarsAgo  Sets the preceding bar at which the drawing should begin (0 = current bar)    startTime  Start time for the drawing    endBarsAgo  Sets the preceding bar at which the drawing should end (0 = current bar)    endTime  End time for the drawing    series1, series2  Every data series, for example an indicator, close, high, low and so on.                     The respective value of the data series for the current bar is used as a y-value.  |  | y                | Any double value                                                                  |\n| outlineColor     | Color for the border                                                              |\n| areaColor        | Fill color for the area                                                           |\n| areaOpacity      | Transparency of the fill color                                                   \n                    Value between 0 and 10                                                            \n                    0 = completely transparent                                                        \n                    10 = completely opaque                                                             |", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_18", 
            "text": "// Fills the area between the upper and lower Bollinger Bands\nDrawRegion( MyRegion , CurrentBar, 0, Bollinger(2, 14).Upper, Bollinger(2, 14).Lower, Color.Empty, Color.Lime, 100);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawregressionchannel", 
            "text": "", 
            "title": "DrawRegressionChannel()"
        }, 
        {
            "location": "/drawing_objects/#description_19", 
            "text": "DrawRegressionChannel() draws a regression channel.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_19", 
            "text": "DrawRegressionChannel(string tag, int startBarsAgo, int endBarsAgo, Color color)\nDrawRegressionChannel(string tag, bool autoScale, int startBarsAgo, int endBarsAgo, Color upperColor, DashStyle upperDashStyle, int upperWidth, Color middleColor, DashStyle middleDashStyle, int middleWidth, Color lowerColor, DashStyle lowerDashStyle, int lowerWidth)\nDrawRegressionChannel(string tag, bool autoScale, DateTime startTime, DateTime endTime, Color upperColor, DashStyle upperDashStyle, int upperWidth, Color middleColor, DashStyle middleDashStyle, int middleWidth, Color lowerColor, DashStyle lowerDashStyle, int lowerWidth)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_19", 
            "text": "A drawing object of the type IRegressionChannel (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_19", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    startBarsAgo  Sets the preceding bar at which the regression channel should start (0 = current bar)    startTime  Start time for the regression channel    endBarsAgo  Sets the preceding bar at which the regression channel should end (0 = current bar)    endTime  End time for the regression channel    color  Color of the drawing object    upperDashStyle,     middleDashStyle,     lowerDashStyle     dashStyle  Line style     DashStyle.Dash     DashStyle.DashDot     DashStyle.DashDotDot     DashStyle.Dot     DashStyle.Solid         You may have to integrate:     using System.Drawing.Drawing2D;    upperColor,     middleColor,     lowerColor  Line color    upperWidth,     middleWidth,     lowerWidth  Line strength", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_19", 
            "text": "// Draws a regression channel from the low of the bar from 10 days ago to the high of the bar from 5 days ago.\nDrawRegressionChannel( MyRegChannel , 10, 0, Color.Black);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawsquare", 
            "text": "", 
            "title": "DrawSquare()"
        }, 
        {
            "location": "/drawing_objects/#description_20", 
            "text": "DrawSquare() draws a square:   See [ DrawArrowUp() ], [ DrawArrowDown() ], [ DrawDiamond() ], [ DrawDot() ], [ DrawTriangleUp() ], [ DrawTriangleDown() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_20", 
            "text": "DrawSqare(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawSqare(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_20", 
            "text": "A drawing object of the type ISquare (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_20", 
            "text": "Tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Sets the preceding bar at which the square should be drawn (0 = current bar)    Time  Date/time of the bar at which the square should be drawn    Y  y-value for the square    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_20", 
            "text": "// Draws a dark red square at the current bar 10 ticks above the high\nDrawSquare( MySquare , true, 0, High[0] + 10*TickSize, Color.DarkRed);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawtext", 
            "text": "", 
            "title": "DrawText()"
        }, 
        {
            "location": "/drawing_objects/#description_21", 
            "text": "DrawText() writes whatever text you want onto the chart.  See [ DrawTextFixed() ],  PlotMethod .", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_21", 
            "text": "DrawText(string tag, string text, int barsAgo, double y, Color color)\nDrawText(string tag, bool autoScale, string text, int barsAgo, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, Color outlineColor, Color areaColor, int areaOpacity)\nDrawText(string tag, bool autoScale, string text, DateTime x, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, Color outlineColor, Color areaColor, int areaOpacity)\nDrawText(string tag, bool autoScale, string text, int barsAgo, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, HorizontalAlignment HAlign, VerticalAlignment VAlign, Color outlineColor, Color areaColor, int areaOpacity)\nDrawText(string tag, bool autoScale, string text, DateTime x, double y, int yPixelOffset, Color textColor, Font font, StringAlignment alignment, HorizontalAlignment HAlign, VerticalAlignment VAlign, Color outlineColor, Color areaColor, int areaOpacity)  Important note: When using signatures that contain horizontal alignment and vertical alignment, you need to add the following lines:  using System.Windows.Forms;\nusing System.Windows.Forms.VisualStyles;", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_21", 
            "text": "A drawing object of the type IText (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_21", 
            "text": "Tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    Text  Text to be displayed (may contain escape sequences)    barsAgo  Sets how many bars ago the text should be displayed    Time  Date/time of the bar at which the text should begin    Y  y-value at which the text should be written    yPixelOffset  Vertical offset of the text; positive numbers move it up, and negative numbers move it down    textColor  Text color    Font  Font    Alignment  Possible values are:    - StringAlignment.Center     - StringAlignment.Far     - StringAlignment.Near     HAlign  Possible values are:    - HorizontalAlign.Left     - HorizontalAlign.Center     - HorizontalAlign.Right     VAlign  Possible values are:    - VerticalAlign.Top     - VerticalAlign.Center     - VerticalAlign.Bottom     outlineColor  Border color around the text    For no border, select Color.Empty     areaColor  Fill color for the text box    areaOpacity  Transparency of the fill color    Value between 0 and 10     0 = completely transparent     10 = completely opaque", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_21", 
            "text": "// writes text at y=3.0\nDrawText( MyText ,  This is sample text. , 10, 3, Color.Black);\n\n// writes red text in the font Arial 7\nDrawText( MyText , false,  This is sample text. , Time[0], Close[0]+50*TickSize, 0,\n\nColor.Red, **new Font**( Arial ,7), StringAlignment.Center, Color.Blue, Color.DarkOliveGreen, 10);  This leads to the following result:   DrawText( MyTag ,true, Text ,1, \n// barsAgo\n\nHigh\\[1\\], // y\n\n10, // yPixelOffset\n\nColor.Blue, // Text color\n\nnew Font( Arial , 10, FontStyle.Bold),\n\nStringAlignment.Center,\n\nHorizontalAlignment.Center,\n\nVerticalAlignment.Bottom,\n\nColor.Red, // Outline color\n\nColor.Yellow, // Fill color\n\n100); // Opacity", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawtextfixed", 
            "text": "", 
            "title": "DrawTextFixed()"
        }, 
        {
            "location": "/drawing_objects/#description_22", 
            "text": "DrawTextFixed() writes text into one of 5 predetermined locations on the chart.  See [ DrawText() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_22", 
            "text": "DrawTextFixed(string tag, string text, TextPosition textPosition)\nDrawTextFixed(string tag, string text, TextPosition textPosition, Color textColor, Font font, Color outlineColor, Color areaColor, int areaOpacity)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_22", 
            "text": "A drawing object of the type ITextFixed (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_22", 
            "text": "tag  A clearly identifiable name for the drawing object    text  The text to be displayed    TextPosition  TextPosition.BottomLeft    TextPosition.BottomRight     TextPosition.Center     TextPosition.TopLeft     TextPosition.TopRight     textColor  Text color    font  Font    outlineColor  Color for the border around the text. For no border color, use Color.Empty    areaColor  Fill color of the text box    For no fill color, use Color.Empty     areaOpacity  Transparency of the fill color    Value between 0 and 10     0 = completely transparent     10 = completely opaque", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_22", 
            "text": "// Writes text into the middle of the chart\nDrawTextFixed( MyText ,  This is sample text. , TextPosition.Center);\n\n// Writes red text with a blue border into the middle of the chart\nDrawTextFixed( MyText ,  This is sample text. , TextPosition.Center,\nColor.Red, new Font( Arial ,35), Color.Blue, Color.Empty, 10);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawtrendchannel", 
            "text": "", 
            "title": "DrawTrendChannel()"
        }, 
        {
            "location": "/drawing_objects/#description_23", 
            "text": "DrawTrendChannel() draws a trend channel.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_23", 
            "text": "DrawTrendChannel(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y)\nDrawTrendChannel(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, DateTime anchor3Time, double anchor3Y)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_23", 
            "text": "A drawing object of the type ITrendChannel (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_23", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    anchor1BarsAgo  Number of bars ago for anchor point 1 (x-axis)    anchor1Time  Date/time for anchor point 1 (x-axis)    anchor1Y  y-value for anchor point 1    anchor2BarsAgo  Number of bars ago for anchor point 2 (x-axis)    anchor2Time  Date/time for anchor point 2 (x-axis)    anchor2Y  y-value for anchor point 2    anchor3BarsAgo  Number of bars ago for anchor point 3 (x-axis)    anchor3Time  Date/time for anchor point 3 (x-axis)    anchor3Y  y-value for anchor point 3", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_23", 
            "text": "// Draws a trend channel\nDrawTrendChannel( MyTrendChannel , true, 10, Low[10], 0, High[0], 10, High[10] + 5 * TickSize);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawtriangle", 
            "text": "", 
            "title": "DrawTriangle()"
        }, 
        {
            "location": "/drawing_objects/#description_24", 
            "text": "DrawTriangle() draws a triangle.", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_24", 
            "text": "DrawTriangle(string tag, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y, Color color)\nDrawTriangle(string tag, bool autoScale, int anchor1BarsAgo, double anchor1Y, int anchor2BarsAgo, double anchor2Y, int anchor3BarsAgo, double anchor3Y, Color color, Color areaColor, int areaOpacity)\nDrawTriangle(string tag, bool autoScale, DateTime anchor1Time, double anchor1Y, DateTime anchor2Time, double anchor2Y, DateTime anchor3Time, double anchor3Y, Color color, Color areaColor, int areaOpacity)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_24", 
            "text": "A drawing object of the type ITriangle (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_24", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    anchor1BarsAgo  Number of bars ago for anchor point 1 (x-axis)    anchor1Time  Date/time for anchor point 1 (x-axis)    anchor1Y  y-value for anchor point 1    anchor2BarsAgo  Number of bars ago for anchor point 2 (x-axis)    anchor2Time  Date/time for anchor point 2 (x-axis)    anchor2Y  y-value for anchor point 2    anchor3BarsAgo  Number of bars ago for anchor point 3 (x-axis)    anchor3Time  Date/time for anchor point 3 (x-axis)    anchor3Y  y-value for anchor point 3    color  Color of the drawing object    areaColor  Fill color of the drawing object    areaOpacity  Transparency of the fill color    Value between 0 and 10     0 = completely transparent     10 = completely opaque", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_24", 
            "text": "// Draws a green triangle\nDrawTriangle( tag1 , 4, Low[4], 3, High[3], 1, Low[1], Color.Green);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawtriangleup", 
            "text": "", 
            "title": "DrawTriangleUp()"
        }, 
        {
            "location": "/drawing_objects/#description_25", 
            "text": "DrawTriangleUp() draws a small upwards-pointing triangle:   See [ DrawArrowUp() ], [ DrawArrowDown() ], [ DrawDiamond() ], [ DrawDot() ], [ DrawSquare() ], [ DrawTriangleDown() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_25", 
            "text": "DrawTriangleUp(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawTriangleUp(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_25", 
            "text": "A drawing object of the type ITriangleUp (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_25", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Sets how many bars ago the triangle should be drawn    time  Date/time for the bar at which the triangle should be drawn    y  y-value at which the triangle should be drawn    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_25", 
            "text": "// Draws a small light green triangle at the current bar 10 ticks below the low\nDrawTriangleUp( MyTriangleUp , true, 0, Low[0] - 10*TickSize, Color.LightGreen);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawtriangledown", 
            "text": "", 
            "title": "DrawTriangleDown()"
        }, 
        {
            "location": "/drawing_objects/#description_26", 
            "text": "DrawTriangleDown() draws a small downwards-pointing triangle:   See [ DrawArrowUp() ], [ DrawArrowDown() ], [ DrawDiamond() ], [ DrawDot() ], [ DrawSquare() ], [ DrawTriangleUp() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_26", 
            "text": "DrawTriangleDown(string tag, bool autoScale, int barsAgo, double y, Color color)\nDrawTriangleDown(string tag, bool autoScale, DateTime time, double y, Color color)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_26", 
            "text": "A drawing object of the type ITriangleDown (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_26", 
            "text": "tag  A clearly identifiable name for the drawing object    autoScale  Adjusts the scale of the y-axis so that drawing objects can be viewed in their entirety    barsAgo  Sets how many bars ago the triangle should be drawn    time  Date/time for the bar at which the triangle should be drawn    Y  y-value at which the triangle should be drawn    color  Color of the drawing object", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_26", 
            "text": "// Draws a small red triangle at the current bar 10 ticks above the high\nDrawTriangleDown( MyTriangleDown , true, 0, High[0] + 10*TickSize, Color.Red);", 
            "title": "Example"
        }, 
        {
            "location": "/drawing_objects/#drawverticalline", 
            "text": "", 
            "title": "DrawVerticalLine()"
        }, 
        {
            "location": "/drawing_objects/#description_27", 
            "text": "DrawVerticalLine() draws a vertical line in the chart.  See [ DrawLine() ], [ DrawHorizontalLine() ], [ DrawExtendedLine() ], [ DrawRay() ].", 
            "title": "Description"
        }, 
        {
            "location": "/drawing_objects/#usage_27", 
            "text": "DrawVerticalLine(string tag, int barsAgo, Color color)\nDrawVerticalLine(string tag, int barsAgo, Color color, DashStyle dashStyle, int width)\nDrawVerticalLine(string tag, DateTime time, Color color, DashStyle dashStyle, int width)", 
            "title": "Usage"
        }, 
        {
            "location": "/drawing_objects/#return-value_27", 
            "text": "A drawing object of the type IVerticalLine (interface)", 
            "title": "Return Value"
        }, 
        {
            "location": "/drawing_objects/#parameter_27", 
            "text": "tag  A clearly identifiable name for the drawing object    barsAgo  Sets how many bars ago the vertical line should be drawn (0 = current bar)    time  Date/time of the bar at which the vertical line should be drawn    color  Line color    dashStyle  Line style              DashStyle.Dash                                                              \n         DashStyle.DashDot                                                           \n         DashStyle.DashDotDot                                                        \n         DashStyle.Dot                                                               \n         DashStyle.Solid\n\n         You may have to integrate:                                                  \n         using System.Drawing.Drawing2D;                                             |  | width     | Line strength                                                              |", 
            "title": "Parameter"
        }, 
        {
            "location": "/drawing_objects/#example_27", 
            "text": "// Draws a vertical line at the bar from 10 periods ago\nDrawVerticalLine( MyVerticalLine , 10, Color.Black);", 
            "title": "Example"
        }, 
        {
            "location": "/hints_and_advice/", 
            "text": "Hints \n Advice\n\n\nBar Numbering Within the Chart\n\n\nThe following example demonstrates the usage of the plot method and the properties of the \nChartControl\n object.\n\n\n\n\nNote:\n\nFor demonstration purposes, each time Paint is called up within the \u201cBar Numbering\u201d section, \u201cNew\u201d and \u201cDispose\u201d will also be called up multiple times.\nFrom a performance point of view, this solution can be better implemented by using constant variable declarations and calling up \u201cDispose\u201d within the OnTermination statement.\n\n\nusing\n System;\n\n\nusing\n System.Collections.Generic;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n System.Drawing;\n\n\nusing\n System.Drawing.Drawing2D;\n\n\nusing\n System.Linq;\n\n\nusing\n System.Xml;\n\n\nusing\n System.Xml.Serialization;\n\n\nusing\n AgenaTrader.API;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nusing\n AgenaTrader.Helper;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"PlotSample\")]\n\n\npublic\n class PlotSample : UserIndicator\n\n\n{\n\n\nPen pen = \nnew Pen\n(Color.Blue);\n\n\nStringFormat sf = \nnew StringFormat\n();\n\n\nSolidBrush brush = \nnew SolidBrush\n(Color.Black);\n\n\nFont font = \nnew Font\n(\"Arial\", 10, FontStyle.Bold);\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nOverlay = \ntrue\n;\n\n\n}\n\n\nprotected\n override void \nOnTermination\n()\n\n\n{\n\n\nif\n (pen!=\nnull\n) pen.\nDispose\n();\n\n\nif\n (sf!=\nnull\n) sf.\nDispose\n();\n\n\nif\n (brush!=\nnull\n) brush.\nDispose\n();\n\n\nif\n (font!=\nnull\n) font.\nDispose\n();\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n()\n\n\n{}\n\n\npublic\n override void \nPlot\n(Graphics g, Rectangle r, \ndouble\n min, \ndouble\n max)\n\n\n{\n\n\nif\n (Bars == \nnull\n || ChartControl == \nnull\n) return;\n\n\n// Properties of ChartControl\n\n\nstring s;\n\n\ns = \"bounds: \"+r.X.\nToString\n()+\" \"+r.Y.\nToString\n()+\" \"+r.Height.\nToString\n()+\" \"+r.Width.\nToString\n();\n\n\ng.\nDrawString\n(s, font, brush, 10, 50, sf);\n\n\ns = \"min: \"+Instrument.\nRound2TickSize\n(min).\nToString\n()+\" max: \"+Instrument.\nRound2TickSize\n(max).\nToString\n();\n\n\ng.\nDrawString\n(s, font, brush, 10, 70, sf);\n\n\ns = \"BarSpace: \"+ChartControl.BarSpace.\nToString\n()+\" BarWidth: \"+ChartControl.BarWidth.\nToString\n();\n\n\ng.\nDrawString\n(s, font, brush, 10, 90, sf);\n\n\ns = \"Bars.Count: \"+Bars.Count.\nToString\n();\n\n\ng.\nDrawString\n(s, font, brush, 10, 110, sf);\n\n\ns = \"BarsPainted: \"+ChartControl.BarsPainted.\nToString\n() + \" FirstBarPainted: \"+ChartControl.FirstBarPainted.\nToString\n() + \" LastBarPainted: \"+ChartControl.LastBarPainted.\nToString\n();\n\n\ng.\nDrawString\n(s, font, brush, 10, 130, sf);\n\n\ns = \"BarsVisible: \"+ChartControl.BarsVisible.\nToString\n() + \" FirstBarVisible: \"+ChartControl.FirstBarVisible.\nToString\n() + \" LastBarVisible: \"+ChartControl.LastBarVisible.\nToString\n();\n\n\ng.\nDrawString\n(s, font, brush, 10, 150, sf);\n\n\n// Bar numbering\n\n\nStringFormat _sf = \nnew StringFormat\n();\n\n\nSolidBrush _brush = \nnew SolidBrush\n(Color.Blue);\n\n\nFont _font = \nnew Font\n(\"Arial\", 8);\n\n\nSizeF _stringSize = \nnew SizeF\n();\n\n\n_sf.Alignment = StringAlignment.Center;\n\n\nfor\n (\nint\n i=ChartControl.FirstBarVisible; i\n=ChartControl.LastBarVisible; i++)\n\n\n{\n\n\nstring text = i.\nToString\n();\n\n\n_stringSize = g.\nMeasureString\n(text, _font);\n\n\nint\n x = ChartControl.\nGetXByBarIdx\n(Bars, i);\n\n\nint\n y = ChartControl.\nGetYByValue\n(\nthis\n, High[\nAbs2Ago\n(i)] + 3*TickSize) - (\nint\n) _stringSize.Height;\n\n\ng.\nDrawString\n(text, _font, _brush, x, y, _sf);\n\n\n}\n\n\n_sf.\nDispose\n();\n\n\n_brush.\nDispose\n();\n\n\n_font.\nDispose\n();\n\n\n}\n\n\nprivate int Abs2Ago\n(\nint\n idx)\n\n\n{\n\n\nreturn Math.\nMax\n(0,Bars.Count-idx-1-(CalculateOnBarClose?1:0));\n\n\n}\n\n\n}\n\n\n}\n\n\nCustom Chart Background Image\n\n\nThe plot method allows you to add a background image to the chart.\nThe following example uses an image with the JPG format located in the main directory on the hard drive (C:).\n\n\nusing\n System;\n\n\nusing\n System.Drawing;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\npublic\n class BackgroundPicture : UserIndicator\n\n\n{\n\n\nImage img;\n\n\nprotected\n override void \nOnStartUp\n()\n\n\n{\n\n\ntry\n { img = Image.\nFromFile\n(\"C:\\\\MyCar.jpg\"); } \ncatch\n {}\n\n\n}\n\n\npublic\n override void \nPlot\n(Graphics g, Rectangle r, \ndouble\n min, \ndouble\n max)\n\n\n{\n\n\nif\n (ChartControl == \nnull\n || img == \nnull\n) return;\n\n\ng.\nDrawImage\n(img,r);\n\n\n}\n\n\n}\n\n\n}\n\n\n\n\nFile Selection in the Properties\n\n\nTo enable file selection within the properties dialog of an indicator, you will need a type converter.\nThe following example displays how a selection of WAV files can be programmed for an alert:\n\n\nusing\n System;\n\n\nusing\n System.IO;\n\n\nusing\n System.Collections;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"File Picker Example.\")]\n\n\npublic\n class FilePicker : UserIndicator\n\n\n{\n\n\nprivate\n string _soundFile = \"Alert4.wav\";\n\n\nprivate\n static string _dir = Environment.\nGetFolderPath\n(Environment.SpecialFolder.MyDocuments) + @\"\\AgenaTrader\\Sounds\\\";\n\n\ninternal\n class MyConverter : TypeConverter\n\n\n{\n\n\npublic\n override \nbool GetStandardValuesSupported\n(ITypeDescriptorContext context)\n\n\n{\n\n\nreturn \ntrue\n;\n\n\n}\n\n\npublic\n override StandardValuesCollection \nGetStandardValues\n(ITypeDescriptorContext context)\n\n\n{\n\n\nif\n (context == \nnull\n) return \nnull\n;\n\n\nArrayList list = \nnew ArrayList\n();\n\n\nDirectoryInfo dir = \nnew DirectoryInfo\n(_dir);\n\n\nFileInfo[] files = dir.\nGetFiles\n(\"*.wav\");\n\n\nforeach\n (FileInfo file \nin\n files) list.\nAdd\n(file.Name);\n\n\nreturn \nnew\n TypeConverter.\nStandardValuesCollection\n(list);\n\n\n}\n\n\n}\n\n\nprotected\n override void \nOnStartUp\n()\n\n\n{\n\n\nPlaySound\n(_soundFile);\n\n\n}\n\n\n[\nDescription\n(\"Choose file to play.\")]\n\n\n[\nCategory\n (\"Sound\")]\n\n\n[\nTypeConverter\n(\ntypeof\n(MyConverter))]\n\n\npublic\n string SoundFile\n\n\n{\n\n\nget { return _soundFile; }\n\n\nset { _soundFile = \nvalue\n; }\n\n\n}\n\n\n}\n\n\n}\n\n\nFormatting of Numbers\n\n\nFormatting of Numbers\n\n\nGeneral information on formatting in C#\n\n\ndouble\n d = 123.4567890;\n\n\nPrint\n(\"Without formatting : \" + d.\nToString\n()); // 123.456789\n\n\nPrint\n(\"As a currency : \" + d.\nToString\n(\"C\")); // 123.46 \u20ac\n\n\nPrint\n(\"Exponential : \" + d.\nToString\n(\"E\")); // 1.234568E+002\n\n\nPrint\n(\"As a fixed point : \" + d.\nToString\n(\"F2\")); // 123.46\n\n\nPrint\n(\"General : \" + d.\nToString\n(\"G\")); // 123.456789\n\n\nPrint\n(\"As a percentage : \" + d.\nToString\n(\"P0\")); // 12.346%\n\n\nPrint\n(\"To 2 decimal places : \" + d.\nToString\n(\"N2\")); // 123.45\n\n\nPrint\n(\"To 3 decimal places : \" + d.\nToString\n(\"N3\")); // 123.457\n\n\nPrint\n(\"To 4 decimal places : \" + d.\nToString\n(\"N4\")); // 123.4568\n\n\nUseful Functions\n\n\nReturns the currency symbol for the current instrument:\n\n\npublic\n string \ngetWaehrungssymbol\n() {\n\n\nstring s = \"\";\n\n\nswitch\n (Instrument.Currency) {\n\n\ncase\n Currencies.USD : s = \"$\"; break;\n\n\ncase\n Currencies.EUR : s = \"\u20ac\"; break;\n\n\ncase\n Currencies.CHF : s = \"CHF\"; break;\n\n\ncase\n Currencies.GBP : s = ((\nchar\n)163).\nToString\n(); break;\n\n\ncase\n Currencies.JPY : s = ((\nchar\n)165).\nToString\n(); break;\n\n\n}\n\n\nreturn s;\n\n\n}\n\n\nConverts a number into a currency with a thousands separator and 2 decimal places.\nThe block separation per 1000 units can be set in \u201cCulture\u201d.\n\n\npublic\n string \ngetWaehrungOhneSymbol\n(\ndouble\n d) {\n\n\n// Separate 1000s and two decimal points\n\n\nreturn d.\nToString\n(\"#,##0.00\");\n\n\n}\n\n\nConverts a number into a currency with a thousands separator and 2 decimal places and a currency symbol:\n\n\npublic\n string \ngetWaehrungMitSymbol\n(\ndouble\n d) {\n\n\n// Dollar is prefixed, everything else is added afterwards\n\n\nstring s=\ngetWaehrungOhneSymbol\n(d);\n\n\nstring w=\ngetWaehrungssymbol\n();\n\n\nif\n (w==\"$\") s=w+\" \"+s; \nelse\n s+=\" \"+w;\n\n\nreturn s;\n\n\n}\n\n\nConverts a number into a currency with a thousands separator and 2 decimal places as well as a currency symbol, and fills up to a fixed length with empty spaces.\nThe function is great for outputting values into a table.\n\n\npublic\n string \ngetWaehrungMitSymbol\n(\ndouble\n d, \nint\n Laenge) {\n\n\n// Leading spaces until a fixed length has been reached\n\n\nstring s=\ngetWaehrungMitSymbol\n(d);\n\n\nfor\n (\nint\n i=s.Length; i\nLaenge; i++) s=\" \"+s;\n\n\nreturn s;\n\n\n}\n\n\nConverts a number into a percentage. Nothing is calculated, only formatted.\nLeading plus sign, a decimal place and a percent sign.\n\n\npublic\n string \ngetPercent\n(\ndouble\n d) {\n\n\nd=Math.\nRound\n(d, 1);\n\n\nstring s=(d\n0)?\"+\":\"\"; // Leading plus sign\n\n\nreturn s+d.\nToString\n(\"0.0\")+\"%\";\n\n\n}\n\n\nFormats the market price depending on the number of decimal places to which the currency is notated.\nThis includes a thousands separator and fixed length, meaning that zeros are filled on the right hand side.\nBecause Culture Info is being used, you must integrate the NameSpace \nSystem.Globalization\n.\n\n\npublic\n string \nformat\n(\ndouble\n d)\n\n\n{\n\n\nint\n tickLength = 0;\n\n\n// ticksize.ToString() is for example 6J = \"1E-06\" and length is then 5\n\n\n// and not 8 as it should be with \"0.000001\")\n\n\nif\n (TickSize \n 1) tickLength = TickSize.\nToString\n(\"0.###########\").Length - 2;\n\n\nstring f = \"{0:n\"+tickLength.\nToString\n()+\"}\";\n\n\nreturn string.\nFormat\n(CultureInfo.CurrentCulture, f, d);\n\n\n}\n\n\nExample\n\n\ndouble\n profit = 1234.567890;\n\n\nPrint\n(\"getCurrencyWithoutSymbol \": + \ngetWaehrungOhneSymbol\n(Gewinn)); // 1234.57\n\n\nPrint\n(\"getCurrencyWithSymbol :\" + \ngetWaehrungMitSymbol\n(Gewinn)); // $ 1,234.57\n\n\nPrint\n(\"getCurrencyWithSymbol :\" + \ngetWaehrungMitSymbol\n(Gewinn)); // $ 1,234.57\n\n\ndouble\n percentage profit = 12.3456789;\n\n\nPrint\n(\"getPercent :\" + \ngetPercent\n(ProzGewinn)); // +12.3%\n\n\ndouble\n price = 123.4567;\n\n\nPrint\n(\"getPrice :\" + \ngetKurs\n(Kurs)); // 123.46\n\n\nIndex Conversion\n\n\nThere are two types of indexing in AgenaTrader.\n\n\n1.\n\n\nThe bars are numbered from youngest to oldest.\nThis type is used in the OnBarUpdate() method.\nThe last bar has an index of 0, while the oldest bar has the index Bars.Count-1.\n\n\n2.\n\n\nThe bars are numbered from oldest to youngest.\nThis type is most commonly used in the Plot() method in \u201cfor\u201d loops.\nThe oldest Bbar receives an index of 0, while the youngest bar has the index Bars.Count-1.\nThe following function can be used to recalculate the index types:\n\n\nprivate int Convert(int idx)\n\n\n{\n\n\nreturn Math.Max(0,Bars.Count-idx-1-(CalculateOnBarClose?1:0));\n\n\n}\n\n\nOverwriting Indicator Names\n\n\nThe name of an indicator (or a strategy) is displayed within the properties dialog and at the top edge of the chart. Use the ToString() property to overwrite it.\n\n\npublic override string ToString()\n\n\n{\n\n\nreturn \"My Name\";\n\n\n}\n\n\nRectangle with Rounded Corners\n\n\nBy using the graphics methods, you can create interesting forms and place them onto the chart.\nOne example of this is the RoundedRectangle class, which is a rectangle with rounded corners.\n\n\n\n\nExample Code:\n\n\nusing\n System;\n\n\nusing\n System.Collections.Generic;\n\n\nusing\n System.ComponentModel;\n\n\nusing\n System.Drawing;\n\n\nusing\n System.Linq;\n\n\nusing\n System.Xml;\n\n\nusing\n System.Xml.Serialization;\n\n\nusing\n System.Drawing.Drawing2D;\n\n\nusing\n AgenaTrader.API;\n\n\nusing\n AgenaTrader.Custom;\n\n\nusing\n AgenaTrader.Plugins;\n\n\nnamespace\n AgenaTrader.UserCode\n\n\n{\n\n\n[\nDescription\n(\"Demo of RoundedRectangles\")]\n\n\npublic\n class DemoRoundedRectangle : UserIndicator\n\n\n{\n\n\nprotected\n override void \nInitialize\n()\n\n\n{\n\n\nOverlay = \ntrue\n;\n\n\n}\n\n\nprotected\n override void \nOnBarUpdate\n() {}\n\n\npublic\n override void \nPlot\n(Graphics g, Rectangle r, \ndouble\n min, \ndouble\n max)\n\n\n{\n\n\nGraphicsPath path;\n\n\n// draws a rectangle with rounded corners\n\n\npath = RoundedRectangle.\nCreate\n(30, 50, 100, 100,8);\n\n\ng.\nDrawPath\n(Pens.Black, path);\n\n\n// draws a filled rectangle with a radius of 20\n\n\n// only round the upper left and lower right corner\n\n\npath = RoundedRectangle.\nCreate\n(160, 50, 100, 100, 20,\n\n\nRoundedRectangle.RectangleCorners.TopLeft|RoundedRectangle.RectangleCorners.BottomRight);\n\n\ng.\nFillPath\n(Brushes.Orange, path);\n\n\n}\n\n\n}\n\n\npublic\n abstract class RoundedRectangle\n\n\n{\n\n\npublic enum\n RectangleCorners\n\n\n{\n\n\nNone = 0, TopLeft = 1, TopRight = 2, BottomLeft = 4, BottomRight = 8,\n\n\nAll = TopLeft | TopRight | BottomLeft | BottomRight\n\n\n}\n\n\npublic\n static GraphicsPath \nCreate\n(\nint\n x, \nint\n y, \nint\n width, \nint\n height, \nint\n radius, RectangleCorners corners)\n\n\n{\n\n\nRectangle r = \nnew Rectangle\n(x,y,width, height);\n\n\nRectangle tlc = \nnew Rectangle\n(r.Left, r.Top,Math.\nMin\n(2 * radius, r.Width),Math.\nMin\n(2 * radius, r.Height));\n\n\nRectangle trc = tlc;\n\n\ntrc.X = r.Right - 2 * radius;\n\n\nRectangle blc = tlc;\n\n\nblc.Y = r.Bottom - 2 * radius;\n\n\nRectangle brc = blc;\n\n\nbrc.X = r.Right - 2 * radius;\n\n\nPoint[] n = \nnew\n Point[]\n\n\n{\n\n\nnew Point\n(tlc.Left, tlc.Bottom), tlc.Location,\n\n\nnew Point\n(tlc.Right, tlc.Top), trc.Location,\n\n\nnew Point\n(trc.Right, trc.Top),\n\n\nnew Point\n(trc.Right, trc.Bottom),\n\n\nnew Point\n(brc.Right, brc.Top),\n\n\nnew Point\n(brc.Right, brc.Bottom),\n\n\nnew Point\n(brc.Left, brc.Bottom),\n\n\nnew Point\n(blc.Right, blc.Bottom),\n\n\nnew Point\n(blc.Left, blc.Bottom), blc.Location\n\n\n};\n\n\nGraphicsPath p = \nnew GraphicsPath\n();\n\n\np.\nStartFigure\n();\n\n\n//Top left corner\n\n\nif\n ((RectangleCorners.TopLeft \n corners) == RectangleCorners.TopLeft)\n\n\np.\nAddArc\n(tlc, 180, 90);\n\n\nelse\n\n\np.\nAddLines\n(\nnew\n Point[] { n[0], n[1], n[2] });\n\n\n//Top edge\n\n\np.\nAddLine\n(n[2], n[3]);\n\n\n//Top right corner\n\n\nif\n ((RectangleCorners.TopRight \n corners) == RectangleCorners.TopRight)\n\n\np.\nAddArc\n(trc, 270, 90);\n\n\nelse\n\n\np.\nAddLines\n(\nnew\n Point[] { n[3], n[4], n[5] });\n\n\n//Right edge\n\n\np.\nAddLine\n(n[5], n[6]);\n\n\n//Bottom right corner\n\n\nif\n ((RectangleCorners.BottomRight \n corners) == RectangleCorners.BottomRight)\n\n\np.\nAddArc\n(brc, 0, 90);\n\n\nelse\n\n\np.\nAddLines\n(\nnew\n Point[] { n[6], n[7], n[8] });\n\n\n//Bottom edge\n\n\np.\nAddLine\n(n[8], n[9]);\n\n\n//Bottom left corner\n\n\nif\n ((RectangleCorners.BottomLeft \n corners) == RectangleCorners.BottomLeft)\n\n\np.\nAddArc\n(blc, 90, 90);\n\n\nelse\n\n\np.\nAddLines\n(\nnew\n Point[] { n[9], n[10], n[11] });\n\n\n//Left edge\n\n\np.\nAddLine\n(n[11], n[0]);\n\n\np.\nCloseFigure\n();\n\n\nreturn p;\n\n\n}\n\n\npublic\n static GraphicsPath \nCreate\n(Rectangle rect, \nint\n radius, RectangleCorners c)\n\n\n{ return \nCreate\n(rect.X, rect.Y, rect.Width, rect.Height, Math.\nMax\n(1,radius), c); }\n\n\npublic\n static GraphicsPath \nCreate\n(\nint\n x, \nint\n y, \nint\n width, \nint\n height, \nint\n radius)\n\n\n{ return \nCreate\n(x, y, width, height, Math.\nMax\n(1,radius), RectangleCorners.All); }\n\n\npublic\n static GraphicsPath \nCreate\n(Rectangle rect, \nint\n radius)\n\n\n{ return \nCreate\n(rect.X, rect.Y, rect.Width, rect.Height, Math.\nMax\n(1,radius)); }\n\n\npublic\n static GraphicsPath \nCreate\n(\nint\n x, \nint\n y, \nint\n width, \nint\n height)\n\n\n{ return \nCreate\n(x, y, width, height, 8); }\n\n\npublic\n static GraphicsPath \nCreate\n(Rectangle rect)\n\n\n{ return \nCreate\n(rect.X, rect.Y, rect.Width, rect.Height); }\n\n\n}\n\n\n}", 
            "title": "Hints and advice"
        }, 
        {
            "location": "/hints_and_advice/#hints-advice", 
            "text": "", 
            "title": "Hints &amp; Advice"
        }, 
        {
            "location": "/hints_and_advice/#bar-numbering-within-the-chart", 
            "text": "The following example demonstrates the usage of the plot method and the properties of the  ChartControl  object.   Note: \nFor demonstration purposes, each time Paint is called up within the \u201cBar Numbering\u201d section, \u201cNew\u201d and \u201cDispose\u201d will also be called up multiple times.\nFrom a performance point of view, this solution can be better implemented by using constant variable declarations and calling up \u201cDispose\u201d within the OnTermination statement.  using  System;  using  System.Collections.Generic;  using  System.ComponentModel;  using  System.Drawing;  using  System.Drawing.Drawing2D;  using  System.Linq;  using  System.Xml;  using  System.Xml.Serialization;  using  AgenaTrader.API;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  using  AgenaTrader.Helper;  namespace  AgenaTrader.UserCode  {  [ Description (\"PlotSample\")]  public  class PlotSample : UserIndicator  {  Pen pen =  new Pen (Color.Blue);  StringFormat sf =  new StringFormat ();  SolidBrush brush =  new SolidBrush (Color.Black);  Font font =  new Font (\"Arial\", 10, FontStyle.Bold);  protected  override void  Initialize ()  {  Overlay =  true ;  }  protected  override void  OnTermination ()  {  if  (pen!= null ) pen. Dispose ();  if  (sf!= null ) sf. Dispose ();  if  (brush!= null ) brush. Dispose ();  if  (font!= null ) font. Dispose ();  }  protected  override void  OnBarUpdate ()  {}  public  override void  Plot (Graphics g, Rectangle r,  double  min,  double  max)  {  if  (Bars ==  null  || ChartControl ==  null ) return;  // Properties of ChartControl  string s;  s = \"bounds: \"+r.X. ToString ()+\" \"+r.Y. ToString ()+\" \"+r.Height. ToString ()+\" \"+r.Width. ToString ();  g. DrawString (s, font, brush, 10, 50, sf);  s = \"min: \"+Instrument. Round2TickSize (min). ToString ()+\" max: \"+Instrument. Round2TickSize (max). ToString ();  g. DrawString (s, font, brush, 10, 70, sf);  s = \"BarSpace: \"+ChartControl.BarSpace. ToString ()+\" BarWidth: \"+ChartControl.BarWidth. ToString ();  g. DrawString (s, font, brush, 10, 90, sf);  s = \"Bars.Count: \"+Bars.Count. ToString ();  g. DrawString (s, font, brush, 10, 110, sf);  s = \"BarsPainted: \"+ChartControl.BarsPainted. ToString () + \" FirstBarPainted: \"+ChartControl.FirstBarPainted. ToString () + \" LastBarPainted: \"+ChartControl.LastBarPainted. ToString ();  g. DrawString (s, font, brush, 10, 130, sf);  s = \"BarsVisible: \"+ChartControl.BarsVisible. ToString () + \" FirstBarVisible: \"+ChartControl.FirstBarVisible. ToString () + \" LastBarVisible: \"+ChartControl.LastBarVisible. ToString ();  g. DrawString (s, font, brush, 10, 150, sf);  // Bar numbering  StringFormat _sf =  new StringFormat ();  SolidBrush _brush =  new SolidBrush (Color.Blue);  Font _font =  new Font (\"Arial\", 8);  SizeF _stringSize =  new SizeF ();  _sf.Alignment = StringAlignment.Center;  for  ( int  i=ChartControl.FirstBarVisible; i =ChartControl.LastBarVisible; i++)  {  string text = i. ToString ();  _stringSize = g. MeasureString (text, _font);  int  x = ChartControl. GetXByBarIdx (Bars, i);  int  y = ChartControl. GetYByValue ( this , High[ Abs2Ago (i)] + 3*TickSize) - ( int ) _stringSize.Height;  g. DrawString (text, _font, _brush, x, y, _sf);  }  _sf. Dispose ();  _brush. Dispose ();  _font. Dispose ();  }  private int Abs2Ago ( int  idx)  {  return Math. Max (0,Bars.Count-idx-1-(CalculateOnBarClose?1:0));  }  }  }", 
            "title": "Bar Numbering Within the Chart"
        }, 
        {
            "location": "/hints_and_advice/#custom-chart-background-image", 
            "text": "The plot method allows you to add a background image to the chart.\nThe following example uses an image with the JPG format located in the main directory on the hard drive (C:).  using  System;  using  System.Drawing;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  namespace  AgenaTrader.UserCode  {  public  class BackgroundPicture : UserIndicator  {  Image img;  protected  override void  OnStartUp ()  {  try  { img = Image. FromFile (\"C:\\\\MyCar.jpg\"); }  catch  {}  }  public  override void  Plot (Graphics g, Rectangle r,  double  min,  double  max)  {  if  (ChartControl ==  null  || img ==  null ) return;  g. DrawImage (img,r);  }  }  }", 
            "title": "Custom Chart Background Image"
        }, 
        {
            "location": "/hints_and_advice/#file-selection-in-the-properties", 
            "text": "To enable file selection within the properties dialog of an indicator, you will need a type converter.\nThe following example displays how a selection of WAV files can be programmed for an alert:  using  System;  using  System.IO;  using  System.Collections;  using  System.ComponentModel;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  namespace  AgenaTrader.UserCode  {  [ Description (\"File Picker Example.\")]  public  class FilePicker : UserIndicator  {  private  string _soundFile = \"Alert4.wav\";  private  static string _dir = Environment. GetFolderPath (Environment.SpecialFolder.MyDocuments) + @\"\\AgenaTrader\\Sounds\\\";  internal  class MyConverter : TypeConverter  {  public  override  bool GetStandardValuesSupported (ITypeDescriptorContext context)  {  return  true ;  }  public  override StandardValuesCollection  GetStandardValues (ITypeDescriptorContext context)  {  if  (context ==  null ) return  null ;  ArrayList list =  new ArrayList ();  DirectoryInfo dir =  new DirectoryInfo (_dir);  FileInfo[] files = dir. GetFiles (\"*.wav\");  foreach  (FileInfo file  in  files) list. Add (file.Name);  return  new  TypeConverter. StandardValuesCollection (list);  }  }  protected  override void  OnStartUp ()  {  PlaySound (_soundFile);  }  [ Description (\"Choose file to play.\")]  [ Category  (\"Sound\")]  [ TypeConverter ( typeof (MyConverter))]  public  string SoundFile  {  get { return _soundFile; }  set { _soundFile =  value ; }  }  }  }", 
            "title": "File Selection in the Properties"
        }, 
        {
            "location": "/hints_and_advice/#formatting-of-numbers", 
            "text": "", 
            "title": "Formatting of Numbers"
        }, 
        {
            "location": "/hints_and_advice/#formatting-of-numbers_1", 
            "text": "General information on formatting in C#  double  d = 123.4567890;  Print (\"Without formatting : \" + d. ToString ()); // 123.456789  Print (\"As a currency : \" + d. ToString (\"C\")); // 123.46 \u20ac  Print (\"Exponential : \" + d. ToString (\"E\")); // 1.234568E+002  Print (\"As a fixed point : \" + d. ToString (\"F2\")); // 123.46  Print (\"General : \" + d. ToString (\"G\")); // 123.456789  Print (\"As a percentage : \" + d. ToString (\"P0\")); // 12.346%  Print (\"To 2 decimal places : \" + d. ToString (\"N2\")); // 123.45  Print (\"To 3 decimal places : \" + d. ToString (\"N3\")); // 123.457  Print (\"To 4 decimal places : \" + d. ToString (\"N4\")); // 123.4568", 
            "title": "Formatting of Numbers"
        }, 
        {
            "location": "/hints_and_advice/#useful-functions", 
            "text": "Returns the currency symbol for the current instrument:  public  string  getWaehrungssymbol () {  string s = \"\";  switch  (Instrument.Currency) {  case  Currencies.USD : s = \"$\"; break;  case  Currencies.EUR : s = \"\u20ac\"; break;  case  Currencies.CHF : s = \"CHF\"; break;  case  Currencies.GBP : s = (( char )163). ToString (); break;  case  Currencies.JPY : s = (( char )165). ToString (); break;  }  return s;  }  Converts a number into a currency with a thousands separator and 2 decimal places.\nThe block separation per 1000 units can be set in \u201cCulture\u201d.  public  string  getWaehrungOhneSymbol ( double  d) {  // Separate 1000s and two decimal points  return d. ToString (\"#,##0.00\");  }  Converts a number into a currency with a thousands separator and 2 decimal places and a currency symbol:  public  string  getWaehrungMitSymbol ( double  d) {  // Dollar is prefixed, everything else is added afterwards  string s= getWaehrungOhneSymbol (d);  string w= getWaehrungssymbol ();  if  (w==\"$\") s=w+\" \"+s;  else  s+=\" \"+w;  return s;  }  Converts a number into a currency with a thousands separator and 2 decimal places as well as a currency symbol, and fills up to a fixed length with empty spaces.\nThe function is great for outputting values into a table.  public  string  getWaehrungMitSymbol ( double  d,  int  Laenge) {  // Leading spaces until a fixed length has been reached  string s= getWaehrungMitSymbol (d);  for  ( int  i=s.Length; i Laenge; i++) s=\" \"+s;  return s;  }  Converts a number into a percentage. Nothing is calculated, only formatted.\nLeading plus sign, a decimal place and a percent sign.  public  string  getPercent ( double  d) {  d=Math. Round (d, 1);  string s=(d 0)?\"+\":\"\"; // Leading plus sign  return s+d. ToString (\"0.0\")+\"%\";  }  Formats the market price depending on the number of decimal places to which the currency is notated.\nThis includes a thousands separator and fixed length, meaning that zeros are filled on the right hand side.\nBecause Culture Info is being used, you must integrate the NameSpace  System.Globalization .  public  string  format ( double  d)  {  int  tickLength = 0;  // ticksize.ToString() is for example 6J = \"1E-06\" and length is then 5  // and not 8 as it should be with \"0.000001\")  if  (TickSize   1) tickLength = TickSize. ToString (\"0.###########\").Length - 2;  string f = \"{0:n\"+tickLength. ToString ()+\"}\";  return string. Format (CultureInfo.CurrentCulture, f, d);  }", 
            "title": "Useful Functions"
        }, 
        {
            "location": "/hints_and_advice/#example", 
            "text": "double  profit = 1234.567890;  Print (\"getCurrencyWithoutSymbol \": +  getWaehrungOhneSymbol (Gewinn)); // 1234.57  Print (\"getCurrencyWithSymbol :\" +  getWaehrungMitSymbol (Gewinn)); // $ 1,234.57  Print (\"getCurrencyWithSymbol :\" +  getWaehrungMitSymbol (Gewinn)); // $ 1,234.57  double  percentage profit = 12.3456789;  Print (\"getPercent :\" +  getPercent (ProzGewinn)); // +12.3%  double  price = 123.4567;  Print (\"getPrice :\" +  getKurs (Kurs)); // 123.46", 
            "title": "Example"
        }, 
        {
            "location": "/hints_and_advice/#index-conversion", 
            "text": "There are two types of indexing in AgenaTrader.  1.  The bars are numbered from youngest to oldest.\nThis type is used in the OnBarUpdate() method.\nThe last bar has an index of 0, while the oldest bar has the index Bars.Count-1.  2.  The bars are numbered from oldest to youngest.\nThis type is most commonly used in the Plot() method in \u201cfor\u201d loops.\nThe oldest Bbar receives an index of 0, while the youngest bar has the index Bars.Count-1.\nThe following function can be used to recalculate the index types:  private int Convert(int idx)  {  return Math.Max(0,Bars.Count-idx-1-(CalculateOnBarClose?1:0));  }", 
            "title": "Index Conversion"
        }, 
        {
            "location": "/hints_and_advice/#overwriting-indicator-names", 
            "text": "The name of an indicator (or a strategy) is displayed within the properties dialog and at the top edge of the chart. Use the ToString() property to overwrite it.  public override string ToString()  {  return \"My Name\";  }", 
            "title": "Overwriting Indicator Names"
        }, 
        {
            "location": "/hints_and_advice/#rectangle-with-rounded-corners", 
            "text": "By using the graphics methods, you can create interesting forms and place them onto the chart.\nOne example of this is the RoundedRectangle class, which is a rectangle with rounded corners.   Example Code:  using  System;  using  System.Collections.Generic;  using  System.ComponentModel;  using  System.Drawing;  using  System.Linq;  using  System.Xml;  using  System.Xml.Serialization;  using  System.Drawing.Drawing2D;  using  AgenaTrader.API;  using  AgenaTrader.Custom;  using  AgenaTrader.Plugins;  namespace  AgenaTrader.UserCode  {  [ Description (\"Demo of RoundedRectangles\")]  public  class DemoRoundedRectangle : UserIndicator  {  protected  override void  Initialize ()  {  Overlay =  true ;  }  protected  override void  OnBarUpdate () {}  public  override void  Plot (Graphics g, Rectangle r,  double  min,  double  max)  {  GraphicsPath path;  // draws a rectangle with rounded corners  path = RoundedRectangle. Create (30, 50, 100, 100,8);  g. DrawPath (Pens.Black, path);  // draws a filled rectangle with a radius of 20  // only round the upper left and lower right corner  path = RoundedRectangle. Create (160, 50, 100, 100, 20,  RoundedRectangle.RectangleCorners.TopLeft|RoundedRectangle.RectangleCorners.BottomRight);  g. FillPath (Brushes.Orange, path);  }  }  public  abstract class RoundedRectangle  {  public enum  RectangleCorners  {  None = 0, TopLeft = 1, TopRight = 2, BottomLeft = 4, BottomRight = 8,  All = TopLeft | TopRight | BottomLeft | BottomRight  }  public  static GraphicsPath  Create ( int  x,  int  y,  int  width,  int  height,  int  radius, RectangleCorners corners)  {  Rectangle r =  new Rectangle (x,y,width, height);  Rectangle tlc =  new Rectangle (r.Left, r.Top,Math. Min (2 * radius, r.Width),Math. Min (2 * radius, r.Height));  Rectangle trc = tlc;  trc.X = r.Right - 2 * radius;  Rectangle blc = tlc;  blc.Y = r.Bottom - 2 * radius;  Rectangle brc = blc;  brc.X = r.Right - 2 * radius;  Point[] n =  new  Point[]  {  new Point (tlc.Left, tlc.Bottom), tlc.Location,  new Point (tlc.Right, tlc.Top), trc.Location,  new Point (trc.Right, trc.Top),  new Point (trc.Right, trc.Bottom),  new Point (brc.Right, brc.Top),  new Point (brc.Right, brc.Bottom),  new Point (brc.Left, brc.Bottom),  new Point (blc.Right, blc.Bottom),  new Point (blc.Left, blc.Bottom), blc.Location  };  GraphicsPath p =  new GraphicsPath ();  p. StartFigure ();  //Top left corner  if  ((RectangleCorners.TopLeft   corners) == RectangleCorners.TopLeft)  p. AddArc (tlc, 180, 90);  else  p. AddLines ( new  Point[] { n[0], n[1], n[2] });  //Top edge  p. AddLine (n[2], n[3]);  //Top right corner  if  ((RectangleCorners.TopRight   corners) == RectangleCorners.TopRight)  p. AddArc (trc, 270, 90);  else  p. AddLines ( new  Point[] { n[3], n[4], n[5] });  //Right edge  p. AddLine (n[5], n[6]);  //Bottom right corner  if  ((RectangleCorners.BottomRight   corners) == RectangleCorners.BottomRight)  p. AddArc (brc, 0, 90);  else  p. AddLines ( new  Point[] { n[6], n[7], n[8] });  //Bottom edge  p. AddLine (n[8], n[9]);  //Bottom left corner  if  ((RectangleCorners.BottomLeft   corners) == RectangleCorners.BottomLeft)  p. AddArc (blc, 90, 90);  else  p. AddLines ( new  Point[] { n[9], n[10], n[11] });  //Left edge  p. AddLine (n[11], n[0]);  p. CloseFigure ();  return p;  }  public  static GraphicsPath  Create (Rectangle rect,  int  radius, RectangleCorners c)  { return  Create (rect.X, rect.Y, rect.Width, rect.Height, Math. Max (1,radius), c); }  public  static GraphicsPath  Create ( int  x,  int  y,  int  width,  int  height,  int  radius)  { return  Create (x, y, width, height, Math. Max (1,radius), RectangleCorners.All); }  public  static GraphicsPath  Create (Rectangle rect,  int  radius)  { return  Create (rect.X, rect.Y, rect.Width, rect.Height, Math. Max (1,radius)); }  public  static GraphicsPath  Create ( int  x,  int  y,  int  width,  int  height)  { return  Create (x, y, width, height, 8); }  public  static GraphicsPath  Create (Rectangle rect)  { return  Create (rect.X, rect.Y, rect.Width, rect.Height); }  }  }", 
            "title": "Rectangle with Rounded Corners"
        }
    ]
}